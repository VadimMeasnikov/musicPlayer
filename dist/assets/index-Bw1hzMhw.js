var jI=Object.defineProperty;var FI=(t,e,n)=>e in t?jI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Uh=(t,e,n)=>(FI(t,typeof e!="symbol"?e+"":e,n),n);function UI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NE={exports:{}},_d={},PE={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=Symbol.for("react.element"),BI=Symbol.for("react.portal"),zI=Symbol.for("react.fragment"),VI=Symbol.for("react.strict_mode"),WI=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),$I=Symbol.for("react.context"),QI=Symbol.for("react.forward_ref"),qI=Symbol.for("react.suspense"),KI=Symbol.for("react.memo"),GI=Symbol.for("react.lazy"),Jv=Symbol.iterator;function YI(t){return t===null||typeof t!="object"?null:(t=Jv&&t[Jv]||t["@@iterator"],typeof t=="function"?t:null)}var OE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,LE={};function vo(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||OE}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ME(){}ME.prototype=vo.prototype;function Om(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||OE}var Dm=Om.prototype=new ME;Dm.constructor=Om;DE(Dm,vo.prototype);Dm.isPureReactComponent=!0;var Zv=Array.isArray,jE=Object.prototype.hasOwnProperty,Lm={current:null},FE={key:!0,ref:!0,__self:!0,__source:!0};function UE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jE.call(e,r)&&!FE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wl,type:t,key:s,ref:o,props:i,_owner:Lm.current}}function XI(t,e){return{$$typeof:wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===wl}function JI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var e_=/\/+/g;function Bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JI(""+t.key):e.toString(36)}function Uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wl:case BI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Bh(o,0):r,Zv(i)?(n="",t!=null&&(n=t.replace(e_,"$&/")+"/"),Uu(i,e,n,"",function(c){return c})):i!=null&&(Mm(i)&&(i=XI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(e_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Zv(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Bh(s,a);o+=Uu(s,e,n,u,i)}else if(u=YI(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Bh(s,a++),o+=Uu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function du(t,e,n){if(t==null)return t;var r=[],i=0;return Uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Bu={transition:null},ex={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Bu,ReactCurrentOwner:Lm};le.Children={map:du,forEach:function(t,e,n){du(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return du(t,function(){e++}),e},toArray:function(t){return du(t,function(e){return e})||[]},only:function(t){if(!Mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=vo;le.Fragment=zI;le.Profiler=WI;le.PureComponent=Om;le.StrictMode=VI;le.Suspense=qI;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ex;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Lm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)jE.call(e,u)&&!FE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wl,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:$I,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HI,_context:t},t.Consumer=t};le.createElement=UE;le.createFactory=function(t){var e=UE.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:QI,render:t}};le.isValidElement=Mm;le.lazy=function(t){return{$$typeof:GI,_payload:{_status:-1,_result:t},_init:ZI}};le.memo=function(t,e){return{$$typeof:KI,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Bu.transition;Bu.transition={};try{t()}finally{Bu.transition=e}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(t,e){return Dt.current.useCallback(t,e)};le.useContext=function(t){return Dt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Dt.current.useEffect(t,e)};le.useId=function(){return Dt.current.useId()};le.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Dt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};le.useRef=function(t){return Dt.current.useRef(t)};le.useState=function(t){return Dt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Dt.current.useTransition()};le.version="18.2.0";PE.exports=le;var P=PE.exports;const Fe=bE(P),Hf=UI({__proto__:null,default:Fe},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=P,nx=Symbol.for("react.element"),rx=Symbol.for("react.fragment"),ix=Object.prototype.hasOwnProperty,sx=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function BE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ix.call(e,r)&&!ox.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nx,type:t,key:s,ref:o,props:i,_owner:sx.current}}_d.Fragment=rx;_d.jsx=BE;_d.jsxs=BE;NE.exports=_d;var m=NE.exports,$f={},zE={exports:{}},cn={},VE={exports:{}},WE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var V=F.length;F.push($);e:for(;0<V;){var Y=V-1>>>1,G=F[Y];if(0<i(G,$))F[Y]=$,F[V]=G,V=Y;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],V=F.pop();if(V!==$){F[0]=V;e:for(var Y=0,G=F.length,W=G>>>1;Y<W;){var ke=2*(Y+1)-1,At=F[ke],Mt=ke+1,ut=F[Mt];if(0>i(At,V))Mt<G&&0>i(ut,At)?(F[Y]=ut,F[Mt]=V,Y=Mt):(F[Y]=At,F[ke]=V,Y=ke);else if(Mt<G&&0>i(ut,V))F[Y]=ut,F[Mt]=V,Y=Mt;else break e}}return $}function i(F,$){var V=F.sortIndex-$.sortIndex;return V!==0?V:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,p=null,d=3,y=!1,E=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(F){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=F)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function S(F){if(k=!1,g(F),!E)if(n(u)!==null)E=!0,Q(N);else{var $=n(c);$!==null&&te(S,$.startTime-F)}}function N(F,$){E=!1,k&&(k=!1,A(w),w=-1),y=!0;var V=d;try{for(g($),p=n(u);p!==null&&(!(p.expirationTime>$)||F&&!O());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,d=p.priorityLevel;var G=Y(p.expirationTime<=$);$=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(u)&&r(u),g($)}else r(u);p=n(u)}if(p!==null)var W=!0;else{var ke=n(c);ke!==null&&te(S,ke.startTime-$),W=!1}return W}finally{p=null,d=V,y=!1}}var D=!1,C=null,w=-1,I=5,x=-1;function O(){return!(t.unstable_now()-x<I)}function L(){if(C!==null){var F=t.unstable_now();x=F;var $=!0;try{$=C(!0,F)}finally{$?R():(D=!1,C=null)}}else D=!1}var R;if(typeof v=="function")R=function(){v(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=L,R=function(){K.postMessage(null)}}else R=function(){T(L,0)};function Q(F){C=F,D||(D=!0,R())}function te(F,$){w=T(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,Q(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var V=d;d=$;try{return F()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=d;d=F;try{return $()}finally{d=V}},t.unstable_scheduleCallback=function(F,$,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,F={id:f++,callback:$,priorityLevel:F,startTime:V,expirationTime:G,sortIndex:-1},V>Y?(F.sortIndex=V,e(c,F),n(u)===null&&F===n(c)&&(k?(A(w),w=-1):k=!0,te(S,V-Y))):(F.sortIndex=G,e(u,F),E||y||(E=!0,Q(N))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var $=d;return function(){var V=d;d=$;try{return F.apply(this,arguments)}finally{d=V}}}})(WE);VE.exports=WE;var ax=VE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE=P,sn=ax;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $E=new Set,Pa={};function us(t,e){Zs(t,e),Zs(t+"Capture",e)}function Zs(t,e){for(Pa[t]=e,t=0;t<e.length;t++)$E.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=Object.prototype.hasOwnProperty,lx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t_={},n_={};function ux(t){return Qf.call(n_,t)?!0:Qf.call(t_,t)?!1:lx.test(t)?n_[t]=!0:(t_[t]=!0,!1)}function cx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dx(t,e,n,r){if(e===null||typeof e>"u"||cx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jm=/[\-:]([a-z])/g;function Fm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jm,Fm);at[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jm,Fm);at[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jm,Fm);at[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Um(t,e,n,r){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dx(e,n,i,r)&&(n=null),r||i===null?ux(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=HE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),QE=Symbol.for("react.provider"),qE=Symbol.for("react.context"),zm=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),KE=Symbol.for("react.offscreen"),r_=Symbol.iterator;function Qo(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,zh;function aa(t){if(zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zh=e&&e[1]||""}return`
`+zh+t}var Vh=!1;function Wh(t,e){if(!t||Vh)return"";Vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?aa(t):""}function hx(t){switch(t.tag){case 5:return aa(t.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return t=Wh(t.type,!1),t;case 11:return t=Wh(t.type.render,!1),t;case 1:return t=Wh(t.type,!0),t;default:return""}}function Yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Is:return"Fragment";case Ts:return"Portal";case qf:return"Profiler";case Bm:return"StrictMode";case Kf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qE:return(t.displayName||"Context")+".Consumer";case QE:return(t._context.displayName||"Context")+".Provider";case zm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:Yf(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Yf(t(e))}catch{}}return null}function fx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(e);case 8:return e===Bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function px(t){var e=GE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fu(t){t._valueTracker||(t._valueTracker=px(t))}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function i_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XE(t,e){e=e.checked,e!=null&&Um(t,"checked",e,!1)}function Jf(t,e){XE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var la=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(la(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function JE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function a_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pu,eS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mx=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(t){mx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pa[e]=pa[t]})});function tS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pa.hasOwnProperty(t)&&pa[t]?(""+e).trim():e+"px"}function nS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gx=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(t,e){if(e){if(gx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function Wm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sp=null,zs=null,Vs=null;function l_(t){if(t=Cl(t)){if(typeof sp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ad(e),sp(t.stateNode,t.type,e))}}function rS(t){zs?Vs?Vs.push(t):Vs=[t]:zs=t}function iS(){if(zs){var t=zs,e=Vs;if(Vs=zs=null,l_(t),e)for(t=0;t<e.length;t++)l_(e[t])}}function sS(t,e){return t(e)}function oS(){}var Hh=!1;function aS(t,e,n){if(Hh)return t(e,n);Hh=!0;try{return sS(t,e,n)}finally{Hh=!1,(zs!==null||Vs!==null)&&(oS(),iS())}}function Da(t,e){var n=t.stateNode;if(n===null)return null;var r=Ad(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var op=!1;if(vr)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){op=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{op=!1}function yx(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ma=!1,lc=null,uc=!1,ap=null,vx={onError:function(t){ma=!0,lc=t}};function _x(t,e,n,r,i,s,o,a,u){ma=!1,lc=null,yx.apply(vx,arguments)}function wx(t,e,n,r,i,s,o,a,u){if(_x.apply(this,arguments),ma){if(ma){var c=lc;ma=!1,lc=null}else throw Error(B(198));uc||(uc=!0,ap=c)}}function cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u_(t){if(cs(t)!==t)throw Error(B(188))}function Ex(t){var e=t.alternate;if(!e){if(e=cs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u_(i),t;if(s===r)return u_(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function uS(t){return t=Ex(t),t!==null?cS(t):null}function cS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cS(t);if(e!==null)return e;t=t.sibling}return null}var dS=sn.unstable_scheduleCallback,c_=sn.unstable_cancelCallback,Sx=sn.unstable_shouldYield,Cx=sn.unstable_requestPaint,je=sn.unstable_now,Ax=sn.unstable_getCurrentPriorityLevel,Hm=sn.unstable_ImmediatePriority,hS=sn.unstable_UserBlockingPriority,cc=sn.unstable_NormalPriority,kx=sn.unstable_LowPriority,fS=sn.unstable_IdlePriority,wd=null,Qn=null;function Tx(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Rx,Ix=Math.log,xx=Math.LN2;function Rx(t){return t>>>=0,t===0?32:31-(Ix(t)/xx|0)|0}var mu=64,gu=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ua(a):(s&=o,s!==0&&(r=ua(s)))}else o=n&~i,o!==0?r=ua(o):s!==0&&(r=ua(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function bx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=bx(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pS(){var t=mu;return mu<<=1,!(mu&4194240)&&(mu=64),t}function $h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function Px(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $m(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function mS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gS,Qm,yS,vS,_S,up=!1,yu=[],Yr=null,Xr=null,Jr=null,La=new Map,Ma=new Map,Fr=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d_(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":La.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function Ko(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cl(e),e!==null&&Qm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dx(t,e,n,r,i){switch(e){case"focusin":return Yr=Ko(Yr,t,e,n,r,i),!0;case"dragenter":return Xr=Ko(Xr,t,e,n,r,i),!0;case"mouseover":return Jr=Ko(Jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return La.set(s,Ko(La.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,Ko(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function wS(t){var e=Li(t.target);if(e!==null){var n=cs(e);if(n!==null){if(e=n.tag,e===13){if(e=lS(n),e!==null){t.blockedOn=e,_S(t.priority,function(){yS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ip=r,n.target.dispatchEvent(r),ip=null}else return e=Cl(n),e!==null&&Qm(e),t.blockedOn=n,!1;e.shift()}return!0}function h_(t,e,n){zu(t)&&n.delete(e)}function Lx(){up=!1,Yr!==null&&zu(Yr)&&(Yr=null),Xr!==null&&zu(Xr)&&(Xr=null),Jr!==null&&zu(Jr)&&(Jr=null),La.forEach(h_),Ma.forEach(h_)}function Go(t,e){t.blockedOn===e&&(t.blockedOn=null,up||(up=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,Lx)))}function ja(t){function e(i){return Go(i,t)}if(0<yu.length){Go(yu[0],t);for(var n=1;n<yu.length;n++){var r=yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&Go(Yr,t),Xr!==null&&Go(Xr,t),Jr!==null&&Go(Jr,t),La.forEach(e),Ma.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)wS(n),n.blockedOn===null&&Fr.shift()}var Ws=kr.ReactCurrentBatchConfig,hc=!0;function Mx(t,e,n,r){var i=me,s=Ws.transition;Ws.transition=null;try{me=1,qm(t,e,n,r)}finally{me=i,Ws.transition=s}}function jx(t,e,n,r){var i=me,s=Ws.transition;Ws.transition=null;try{me=4,qm(t,e,n,r)}finally{me=i,Ws.transition=s}}function qm(t,e,n,r){if(hc){var i=cp(t,e,n,r);if(i===null)tf(t,e,r,fc,n),d_(t,r);else if(Dx(i,t,e,n,r))r.stopPropagation();else if(d_(t,r),e&4&&-1<Ox.indexOf(t)){for(;i!==null;){var s=Cl(i);if(s!==null&&gS(s),s=cp(t,e,n,r),s===null&&tf(t,e,r,fc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tf(t,e,r,null,n)}}var fc=null;function cp(t,e,n,r){if(fc=null,t=Wm(r),t=Li(t),t!==null)if(e=cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fc=t,null}function ES(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ax()){case Hm:return 1;case hS:return 4;case cc:case kx:return 16;case fS:return 536870912;default:return 16}default:return 16}}var $r=null,Km=null,Vu=null;function SS(){if(Vu)return Vu;var t,e=Km,n=e.length,r,i="value"in $r?$r.value:$r.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vu=i.slice(t,1<r?1-r:void 0)}function Wu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vu(){return!0}function f_(){return!1}function dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vu:f_,this.isPropagationStopped=f_,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gm=dn(_o),Sl=Ne({},_o,{view:0,detail:0}),Fx=dn(Sl),Qh,qh,Yo,Ed=Ne({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ym,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yo&&(Yo&&t.type==="mousemove"?(Qh=t.screenX-Yo.screenX,qh=t.screenY-Yo.screenY):qh=Qh=0,Yo=t),Qh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),p_=dn(Ed),Ux=Ne({},Ed,{dataTransfer:0}),Bx=dn(Ux),zx=Ne({},Sl,{relatedTarget:0}),Kh=dn(zx),Vx=Ne({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),Wx=dn(Vx),Hx=Ne({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$x=dn(Hx),Qx=Ne({},_o,{data:0}),m_=dn(Qx),qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gx[t])?!!e[t]:!1}function Ym(){return Yx}var Xx=Ne({},Sl,{key:function(t){if(t.key){var e=qx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ym,charCode:function(t){return t.type==="keypress"?Wu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jx=dn(Xx),Zx=Ne({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g_=dn(Zx),eR=Ne({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ym}),tR=dn(eR),nR=Ne({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),rR=dn(nR),iR=Ne({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=dn(iR),oR=[9,13,27,32],Xm=vr&&"CompositionEvent"in window,ga=null;vr&&"documentMode"in document&&(ga=document.documentMode);var aR=vr&&"TextEvent"in window&&!ga,CS=vr&&(!Xm||ga&&8<ga&&11>=ga),y_=" ",v_=!1;function AS(t,e){switch(t){case"keyup":return oR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function lR(t,e){switch(t){case"compositionend":return kS(e);case"keypress":return e.which!==32?null:(v_=!0,y_);case"textInput":return t=e.data,t===y_&&v_?null:t;default:return null}}function uR(t,e){if(xs)return t==="compositionend"||!Xm&&AS(t,e)?(t=SS(),Vu=Km=$r=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CS&&e.locale!=="ko"?null:e.data;default:return null}}var cR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function __(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cR[t.type]:e==="textarea"}function TS(t,e,n,r){rS(r),e=pc(e,"onChange"),0<e.length&&(n=new Gm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ya=null,Fa=null;function dR(t){jS(t,0)}function Sd(t){var e=Ns(t);if(YE(e))return t}function hR(t,e){if(t==="change")return e}var IS=!1;if(vr){var Gh;if(vr){var Yh="oninput"in document;if(!Yh){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),Yh=typeof w_.oninput=="function"}Gh=Yh}else Gh=!1;IS=Gh&&(!document.documentMode||9<document.documentMode)}function E_(){ya&&(ya.detachEvent("onpropertychange",xS),Fa=ya=null)}function xS(t){if(t.propertyName==="value"&&Sd(Fa)){var e=[];TS(e,Fa,t,Wm(t)),aS(dR,e)}}function fR(t,e,n){t==="focusin"?(E_(),ya=e,Fa=n,ya.attachEvent("onpropertychange",xS)):t==="focusout"&&E_()}function pR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sd(Fa)}function mR(t,e){if(t==="click")return Sd(e)}function gR(t,e){if(t==="input"||t==="change")return Sd(e)}function yR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:yR;function Ua(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qf.call(e,i)||!Ln(t[i],e[i]))return!1}return!0}function S_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C_(t,e){var n=S_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S_(n)}}function RS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bS(){for(var t=window,e=ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ac(t.document)}return e}function Jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vR(t){var e=bS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RS(n.ownerDocument.documentElement,n)){if(r!==null&&Jm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=C_(n,s);var o=C_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _R=vr&&"documentMode"in document&&11>=document.documentMode,Rs=null,dp=null,va=null,hp=!1;function A_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hp||Rs==null||Rs!==ac(r)||(r=Rs,"selectionStart"in r&&Jm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),va&&Ua(va,r)||(va=r,r=pc(dp,"onSelect"),0<r.length&&(e=new Gm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rs)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bs={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Xh={},NS={};vr&&(NS=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Cd(t){if(Xh[t])return Xh[t];if(!bs[t])return t;var e=bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NS)return Xh[t]=e[n];return t}var PS=Cd("animationend"),OS=Cd("animationiteration"),DS=Cd("animationstart"),LS=Cd("transitionend"),MS=new Map,k_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){MS.set(t,e),us(e,[t])}for(var Jh=0;Jh<k_.length;Jh++){var Zh=k_[Jh],wR=Zh.toLowerCase(),ER=Zh[0].toUpperCase()+Zh.slice(1);wi(wR,"on"+ER)}wi(PS,"onAnimationEnd");wi(OS,"onAnimationIteration");wi(DS,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(LS,"onTransitionEnd");Zs("onMouseEnter",["mouseout","mouseover"]);Zs("onMouseLeave",["mouseout","mouseover"]);Zs("onPointerEnter",["pointerout","pointerover"]);Zs("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function T_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wx(r,e,void 0,t),t.currentTarget=null}function jS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;T_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;T_(i,a,c),s=u}}}if(uc)throw t=ap,uc=!1,ap=null,t}function Ce(t,e){var n=e[yp];n===void 0&&(n=e[yp]=new Set);var r=t+"__bubble";n.has(r)||(FS(e,t,2,!1),n.add(r))}function ef(t,e,n){var r=0;e&&(r|=4),FS(n,t,r,e)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Ba(t){if(!t[wu]){t[wu]=!0,$E.forEach(function(n){n!=="selectionchange"&&(SR.has(n)||ef(n,!1,t),ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wu]||(e[wu]=!0,ef("selectionchange",!1,e))}}function FS(t,e,n,r){switch(ES(e)){case 1:var i=Mx;break;case 4:i=jx;break;default:i=qm}n=i.bind(null,e,n,t),i=void 0,!op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}aS(function(){var c=s,f=Wm(n),p=[];e:{var d=MS.get(t);if(d!==void 0){var y=Gm,E=t;switch(t){case"keypress":if(Wu(n)===0)break e;case"keydown":case"keyup":y=Jx;break;case"focusin":E="focus",y=Kh;break;case"focusout":E="blur",y=Kh;break;case"beforeblur":case"afterblur":y=Kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=p_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=tR;break;case PS:case OS:case DS:y=Wx;break;case LS:y=rR;break;case"scroll":y=Fx;break;case"wheel":y=sR;break;case"copy":case"cut":case"paste":y=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=g_}var k=(e&4)!==0,T=!k&&t==="scroll",A=k?d!==null?d+"Capture":null:d;k=[];for(var v=c,g;v!==null;){g=v;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,A!==null&&(S=Da(v,A),S!=null&&k.push(za(v,S,g)))),T)break;v=v.return}0<k.length&&(d=new y(d,E,null,n,f),p.push({event:d,listeners:k}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&n!==ip&&(E=n.relatedTarget||n.fromElement)&&(Li(E)||E[_r]))break e;if((y||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?Li(E):null,E!==null&&(T=cs(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(k=p_,S="onMouseLeave",A="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(k=g_,S="onPointerLeave",A="onPointerEnter",v="pointer"),T=y==null?d:Ns(y),g=E==null?d:Ns(E),d=new k(S,v+"leave",y,n,f),d.target=T,d.relatedTarget=g,S=null,Li(f)===c&&(k=new k(A,v+"enter",E,n,f),k.target=g,k.relatedTarget=T,S=k),T=S,y&&E)t:{for(k=y,A=E,v=0,g=k;g;g=Es(g))v++;for(g=0,S=A;S;S=Es(S))g++;for(;0<v-g;)k=Es(k),v--;for(;0<g-v;)A=Es(A),g--;for(;v--;){if(k===A||A!==null&&k===A.alternate)break t;k=Es(k),A=Es(A)}k=null}else k=null;y!==null&&I_(p,d,y,k,!1),E!==null&&T!==null&&I_(p,T,E,k,!0)}}e:{if(d=c?Ns(c):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var N=hR;else if(__(d))if(IS)N=gR;else{N=pR;var D=fR}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=mR);if(N&&(N=N(t,c))){TS(p,N,n,f);break e}D&&D(t,d,c),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&Zf(d,"number",d.value)}switch(D=c?Ns(c):window,t){case"focusin":(__(D)||D.contentEditable==="true")&&(Rs=D,dp=c,va=null);break;case"focusout":va=dp=Rs=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,A_(p,n,f);break;case"selectionchange":if(_R)break;case"keydown":case"keyup":A_(p,n,f)}var C;if(Xm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else xs?AS(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(CS&&n.locale!=="ko"&&(xs||w!=="onCompositionStart"?w==="onCompositionEnd"&&xs&&(C=SS()):($r=f,Km="value"in $r?$r.value:$r.textContent,xs=!0)),D=pc(c,w),0<D.length&&(w=new m_(w,t,null,n,f),p.push({event:w,listeners:D}),C?w.data=C:(C=kS(n),C!==null&&(w.data=C)))),(C=aR?lR(t,n):uR(t,n))&&(c=pc(c,"onBeforeInput"),0<c.length&&(f=new m_("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=C))}jS(p,e)})}function za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Da(t,n),s!=null&&r.unshift(za(t,s,i)),s=Da(t,e),s!=null&&r.push(za(t,s,i))),t=t.return}return r}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Da(n,s),u!=null&&o.unshift(za(n,u,a))):i||(u=Da(n,s),u!=null&&o.push(za(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CR=/\r\n?/g,AR=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(CR,`
`).replace(AR,"")}function Eu(t,e,n){if(e=x_(e),x_(t)!==e&&n)throw Error(B(425))}function mc(){}var fp=null,pp=null;function mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(IR)}:gp;function IR(t){setTimeout(function(){throw t})}function nf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ja(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Hn="__reactFiber$"+wo,Va="__reactProps$"+wo,_r="__reactContainer$"+wo,yp="__reactEvents$"+wo,xR="__reactListeners$"+wo,RR="__reactHandles$"+wo;function Li(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b_(t);t!==null;){if(n=t[Hn])return n;t=b_(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[Hn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ad(t){return t[Va]||null}var vp=[],Ps=-1;function Ei(t){return{current:t}}function Ae(t){0>Ps||(t.current=vp[Ps],vp[Ps]=null,Ps--)}function _e(t,e){Ps++,vp[Ps]=t.current,t.current=e}var ci={},St=Ei(ci),Wt=Ei(!1),Qi=ci;function eo(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function gc(){Ae(Wt),Ae(St)}function N_(t,e,n){if(St.current!==ci)throw Error(B(168));_e(St,e),_e(Wt,n)}function US(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,fx(t)||"Unknown",i));return Ne({},n,r)}function yc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Qi=St.current,_e(St,t),_e(Wt,Wt.current),!0}function P_(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=US(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,Ae(Wt),Ae(St),_e(St,t)):Ae(Wt),_e(Wt,n)}var lr=null,kd=!1,rf=!1;function BS(t){lr===null?lr=[t]:lr.push(t)}function bR(t){kd=!0,BS(t)}function Si(){if(!rf&&lr!==null){rf=!0;var t=0,e=me;try{var n=lr;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,kd=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),dS(Hm,Si),i}finally{me=e,rf=!1}}return null}var Os=[],Ds=0,vc=null,_c=0,fn=[],pn=0,qi=null,ur=1,cr="";function bi(t,e){Os[Ds++]=_c,Os[Ds++]=vc,vc=t,_c=e}function zS(t,e,n){fn[pn++]=ur,fn[pn++]=cr,fn[pn++]=qi,qi=t;var r=ur;t=cr;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ur=1<<32-Pn(e)+i|n<<i|r,cr=s+t}else ur=1<<s|n<<i|r,cr=t}function Zm(t){t.return!==null&&(bi(t,1),zS(t,1,0))}function eg(t){for(;t===vc;)vc=Os[--Ds],Os[Ds]=null,_c=Os[--Ds],Os[Ds]=null;for(;t===qi;)qi=fn[--pn],fn[pn]=null,cr=fn[--pn],fn[pn]=null,ur=fn[--pn],fn[pn]=null}var rn=null,Zt=null,Te=!1,Rn=null;function VS(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function O_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,Zt=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,Zt=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wp(t){if(Te){var e=Zt;if(e){var n=e;if(!O_(t,e)){if(_p(t))throw Error(B(418));e=Zr(n.nextSibling);var r=rn;e&&O_(t,e)?VS(r,n):(t.flags=t.flags&-4097|2,Te=!1,rn=t)}}else{if(_p(t))throw Error(B(418));t.flags=t.flags&-4097|2,Te=!1,rn=t}}}function D_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Su(t){if(t!==rn)return!1;if(!Te)return D_(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mp(t.type,t.memoizedProps)),e&&(e=Zt)){if(_p(t))throw WS(),Error(B(418));for(;e;)VS(t,e),e=Zr(e.nextSibling)}if(D_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=rn?Zr(t.stateNode.nextSibling):null;return!0}function WS(){for(var t=Zt;t;)t=Zr(t.nextSibling)}function to(){Zt=rn=null,Te=!1}function tg(t){Rn===null?Rn=[t]:Rn.push(t)}var NR=kr.ReactCurrentBatchConfig;function In(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var wc=Ei(null),Ec=null,Ls=null,ng=null;function rg(){ng=Ls=Ec=null}function ig(t){var e=wc.current;Ae(wc),t._currentValue=e}function Ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){Ec=t,ng=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(ng!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(Ec===null)throw Error(B(308));Ls=t,Ec.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var Mi=null;function sg(t){Mi===null?Mi=[t]:Mi.push(t)}function HS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sg(e)):(n.next=i.next,i.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mr=!1;function og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $S(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wr(t,n)}return i=r.interleaved,i===null?(e.next=e,sg(r)):(e.next=i.next,i.next=e),r.interleaved=e,wr(t,n)}function Hu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}function L_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sc(t,e,n,r){var i=t.updateQueue;Mr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=c=u=null,a=s;do{var d=a.lane,y=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,k=a;switch(d=e,y=n,k.tag){case 1:if(E=k.payload,typeof E=="function"){p=E.call(y,p,d);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=k.payload,d=typeof E=="function"?E.call(y,p,d):E,d==null)break e;p=Ne({},p,d);break e;case 2:Mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else y={eventTime:y,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=y,u=p):f=f.next=y,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Gi|=o,t.lanes=o,t.memoizedState=p}}function M_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var QS=new HE.Component().refs;function Sp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=ni(t),s=mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(On(e,t,i,r),Hu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=ni(t),s=mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(On(e,t,i,r),Hu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=ni(t),i=mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ei(t,i,r),e!==null&&(On(e,t,r,n),Hu(e,t,r))}};function j_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ua(n,r)||!Ua(i,s):!0}function qS(t,e,n){var r=!1,i=ci,s=e.contextType;return typeof s=="object"&&s!==null?s=En(s):(i=Ht(e)?Qi:St.current,r=e.contextTypes,s=(r=r!=null)?eo(t,i):ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function F_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function Cp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=QS,og(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=En(s):(s=Ht(e)?Qi:St.current,i.context=eo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Td.enqueueReplaceState(i,i.state,null),Sc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===QS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function U_(t){var e=t._init;return e(t._payload)}function KS(t){function e(A,v){if(t){var g=A.deletions;g===null?(A.deletions=[v],A.flags|=16):g.push(v)}}function n(A,v){if(!t)return null;for(;v!==null;)e(A,v),v=v.sibling;return null}function r(A,v){for(A=new Map;v!==null;)v.key!==null?A.set(v.key,v):A.set(v.index,v),v=v.sibling;return A}function i(A,v){return A=ri(A,v),A.index=0,A.sibling=null,A}function s(A,v,g){return A.index=g,t?(g=A.alternate,g!==null?(g=g.index,g<v?(A.flags|=2,v):g):(A.flags|=2,v)):(A.flags|=1048576,v)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,v,g,S){return v===null||v.tag!==6?(v=df(g,A.mode,S),v.return=A,v):(v=i(v,g),v.return=A,v)}function u(A,v,g,S){var N=g.type;return N===Is?f(A,v,g.props.children,S,g.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Lr&&U_(N)===v.type)?(S=i(v,g.props),S.ref=Xo(A,v,g),S.return=A,S):(S=Yu(g.type,g.key,g.props,null,A.mode,S),S.ref=Xo(A,v,g),S.return=A,S)}function c(A,v,g,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=hf(g,A.mode,S),v.return=A,v):(v=i(v,g.children||[]),v.return=A,v)}function f(A,v,g,S,N){return v===null||v.tag!==7?(v=Wi(g,A.mode,S,N),v.return=A,v):(v=i(v,g),v.return=A,v)}function p(A,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=df(""+v,A.mode,g),v.return=A,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hu:return g=Yu(v.type,v.key,v.props,null,A.mode,g),g.ref=Xo(A,null,v),g.return=A,g;case Ts:return v=hf(v,A.mode,g),v.return=A,v;case Lr:var S=v._init;return p(A,S(v._payload),g)}if(la(v)||Qo(v))return v=Wi(v,A.mode,g,null),v.return=A,v;Cu(A,v)}return null}function d(A,v,g,S){var N=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:a(A,v,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hu:return g.key===N?u(A,v,g,S):null;case Ts:return g.key===N?c(A,v,g,S):null;case Lr:return N=g._init,d(A,v,N(g._payload),S)}if(la(g)||Qo(g))return N!==null?null:f(A,v,g,S,null);Cu(A,g)}return null}function y(A,v,g,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return A=A.get(g)||null,a(v,A,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hu:return A=A.get(S.key===null?g:S.key)||null,u(v,A,S,N);case Ts:return A=A.get(S.key===null?g:S.key)||null,c(v,A,S,N);case Lr:var D=S._init;return y(A,v,g,D(S._payload),N)}if(la(S)||Qo(S))return A=A.get(g)||null,f(v,A,S,N,null);Cu(v,S)}return null}function E(A,v,g,S){for(var N=null,D=null,C=v,w=v=0,I=null;C!==null&&w<g.length;w++){C.index>w?(I=C,C=null):I=C.sibling;var x=d(A,C,g[w],S);if(x===null){C===null&&(C=I);break}t&&C&&x.alternate===null&&e(A,C),v=s(x,v,w),D===null?N=x:D.sibling=x,D=x,C=I}if(w===g.length)return n(A,C),Te&&bi(A,w),N;if(C===null){for(;w<g.length;w++)C=p(A,g[w],S),C!==null&&(v=s(C,v,w),D===null?N=C:D.sibling=C,D=C);return Te&&bi(A,w),N}for(C=r(A,C);w<g.length;w++)I=y(C,A,w,g[w],S),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?w:I.key),v=s(I,v,w),D===null?N=I:D.sibling=I,D=I);return t&&C.forEach(function(O){return e(A,O)}),Te&&bi(A,w),N}function k(A,v,g,S){var N=Qo(g);if(typeof N!="function")throw Error(B(150));if(g=N.call(g),g==null)throw Error(B(151));for(var D=N=null,C=v,w=v=0,I=null,x=g.next();C!==null&&!x.done;w++,x=g.next()){C.index>w?(I=C,C=null):I=C.sibling;var O=d(A,C,x.value,S);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(A,C),v=s(O,v,w),D===null?N=O:D.sibling=O,D=O,C=I}if(x.done)return n(A,C),Te&&bi(A,w),N;if(C===null){for(;!x.done;w++,x=g.next())x=p(A,x.value,S),x!==null&&(v=s(x,v,w),D===null?N=x:D.sibling=x,D=x);return Te&&bi(A,w),N}for(C=r(A,C);!x.done;w++,x=g.next())x=y(C,A,w,x.value,S),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?w:x.key),v=s(x,v,w),D===null?N=x:D.sibling=x,D=x);return t&&C.forEach(function(L){return e(A,L)}),Te&&bi(A,w),N}function T(A,v,g,S){if(typeof g=="object"&&g!==null&&g.type===Is&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case hu:e:{for(var N=g.key,D=v;D!==null;){if(D.key===N){if(N=g.type,N===Is){if(D.tag===7){n(A,D.sibling),v=i(D,g.props.children),v.return=A,A=v;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Lr&&U_(N)===D.type){n(A,D.sibling),v=i(D,g.props),v.ref=Xo(A,D,g),v.return=A,A=v;break e}n(A,D);break}else e(A,D);D=D.sibling}g.type===Is?(v=Wi(g.props.children,A.mode,S,g.key),v.return=A,A=v):(S=Yu(g.type,g.key,g.props,null,A.mode,S),S.ref=Xo(A,v,g),S.return=A,A=S)}return o(A);case Ts:e:{for(D=g.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(A,v.sibling),v=i(v,g.children||[]),v.return=A,A=v;break e}else{n(A,v);break}else e(A,v);v=v.sibling}v=hf(g,A.mode,S),v.return=A,A=v}return o(A);case Lr:return D=g._init,T(A,v,D(g._payload),S)}if(la(g))return E(A,v,g,S);if(Qo(g))return k(A,v,g,S);Cu(A,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(A,v.sibling),v=i(v,g),v.return=A,A=v):(n(A,v),v=df(g,A.mode,S),v.return=A,A=v),o(A)):n(A,v)}return T}var no=KS(!0),GS=KS(!1),Al={},qn=Ei(Al),Wa=Ei(Al),Ha=Ei(Al);function ji(t){if(t===Al)throw Error(B(174));return t}function ag(t,e){switch(_e(Ha,e),_e(Wa,t),_e(qn,Al),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tp(e,t)}Ae(qn),_e(qn,e)}function ro(){Ae(qn),Ae(Wa),Ae(Ha)}function YS(t){ji(Ha.current);var e=ji(qn.current),n=tp(e,t.type);e!==n&&(_e(Wa,t),_e(qn,n))}function lg(t){Wa.current===t&&(Ae(qn),Ae(Wa))}var xe=Ei(0);function Cc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function ug(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var $u=kr.ReactCurrentDispatcher,of=kr.ReactCurrentBatchConfig,Ki=0,be=null,ze=null,Qe=null,Ac=!1,_a=!1,$a=0,PR=0;function pt(){throw Error(B(321))}function cg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function dg(t,e,n,r,i,s){if(Ki=s,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$u.current=t===null||t.memoizedState===null?MR:jR,t=n(r,i),_a){s=0;do{if(_a=!1,$a=0,25<=s)throw Error(B(301));s+=1,Qe=ze=null,e.updateQueue=null,$u.current=FR,t=n(r,i)}while(_a)}if($u.current=kc,e=ze!==null&&ze.next!==null,Ki=0,Qe=ze=be=null,Ac=!1,e)throw Error(B(300));return t}function hg(){var t=$a!==0;return $a=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?be.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Sn(){if(ze===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Qe===null?be.memoizedState:Qe.next;if(e!==null)Qe=e,ze=t;else{if(t===null)throw Error(B(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Qe===null?be.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Qa(t,e){return typeof e=="function"?e(t):e}function af(t){var e=Sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((Ki&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,be.lanes|=f,Gi|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Ln(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,be.lanes|=s,Gi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lf(t){var e=Sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ln(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XS(){}function JS(t,e){var n=be,r=Sn(),i=e(),s=!Ln(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,fg(tC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,qa(9,eC.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(B(349));Ki&30||ZS(n,e,i)}return i}function ZS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eC(t,e,n,r){e.value=n,e.getSnapshot=r,nC(e)&&rC(t)}function tC(t,e,n){return n(function(){nC(e)&&rC(t)})}function nC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function rC(t){var e=wr(t,1);e!==null&&On(e,t,1,-1)}function B_(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=LR.bind(null,be,t),[e.memoizedState,t]}function qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iC(){return Sn().memoizedState}function Qu(t,e,n,r){var i=Wn();be.flags|=t,i.memoizedState=qa(1|e,n,void 0,r===void 0?null:r)}function Id(t,e,n,r){var i=Sn();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&cg(r,o.deps)){i.memoizedState=qa(e,n,s,r);return}}be.flags|=t,i.memoizedState=qa(1|e,n,s,r)}function z_(t,e){return Qu(8390656,8,t,e)}function fg(t,e){return Id(2048,8,t,e)}function sC(t,e){return Id(4,2,t,e)}function oC(t,e){return Id(4,4,t,e)}function aC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lC(t,e,n){return n=n!=null?n.concat([t]):null,Id(4,4,aC.bind(null,e,t),n)}function pg(){}function uC(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cC(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dC(t,e,n){return Ki&21?(Ln(n,e)||(n=pS(),be.lanes|=n,Gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function OR(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{me=n,of.transition=r}}function hC(){return Sn().memoizedState}function DR(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fC(t))pC(e,n);else if(n=HS(t,e,n,r),n!==null){var i=Pt();On(n,t,r,i),mC(n,e,r)}}function LR(t,e,n){var r=ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fC(t))pC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ln(a,o)){var u=e.interleaved;u===null?(i.next=i,sg(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=HS(t,e,i,r),n!==null&&(i=Pt(),On(n,t,r,i),mC(n,e,r))}}function fC(t){var e=t.alternate;return t===be||e!==null&&e===be}function pC(t,e){_a=Ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}var kc={readContext:En,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},MR={readContext:En,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qu(4194308,4,aC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qu(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DR.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:B_,useDebugValue:pg,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=B_(!1),e=t[0];return t=OR.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=Wn();if(Te){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ye===null)throw Error(B(349));Ki&30||ZS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,z_(tC.bind(null,r,s,t),[t]),r.flags|=2048,qa(9,eC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=Ye.identifierPrefix;if(Te){var n=cr,r=ur;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jR={readContext:En,useCallback:uC,useContext:En,useEffect:fg,useImperativeHandle:lC,useInsertionEffect:sC,useLayoutEffect:oC,useMemo:cC,useReducer:af,useRef:iC,useState:function(){return af(Qa)},useDebugValue:pg,useDeferredValue:function(t){var e=Sn();return dC(e,ze.memoizedState,t)},useTransition:function(){var t=af(Qa)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:XS,useSyncExternalStore:JS,useId:hC,unstable_isNewReconciler:!1},FR={readContext:En,useCallback:uC,useContext:En,useEffect:fg,useImperativeHandle:lC,useInsertionEffect:sC,useLayoutEffect:oC,useMemo:cC,useReducer:lf,useRef:iC,useState:function(){return lf(Qa)},useDebugValue:pg,useDeferredValue:function(t){var e=Sn();return ze===null?e.memoizedState=t:dC(e,ze.memoizedState,t)},useTransition:function(){var t=lf(Qa)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:XS,useSyncExternalStore:JS,useId:hC,unstable_isNewReconciler:!1};function io(t,e){try{var n="",r=e;do n+=hx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UR=typeof WeakMap=="function"?WeakMap:Map;function gC(t,e,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ic||(Ic=!0,Dp=r),Ap(t,e)},n}function yC(t,e,n){n=mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ap(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function V_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZR.bind(null,t,e,n),e.then(t,t))}function W_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var BR=kr.ReactCurrentOwner,zt=!1;function bt(t,e,n,r){e.child=t===null?GS(e,null,n,r):no(e,t.child,n,r)}function $_(t,e,n,r,i){n=n.render;var s=e.ref;return Hs(e,i),r=dg(t,e,n,r,s,i),n=hg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Te&&n&&Zm(e),e.flags|=1,bt(t,e,r,i),e.child)}function Q_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Sg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vC(t,e,s,r,i)):(t=Yu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ua,n(o,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function vC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ua(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Er(t,e,i)}return kp(t,e,n,r,i)}function _C(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(js,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(js,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(js,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(js,Yt),Yt|=r;return bt(t,e,i,n),e.child}function wC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kp(t,e,n,r,i){var s=Ht(n)?Qi:St.current;return s=eo(e,s),Hs(e,i),n=dg(t,e,n,r,s,i),r=hg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Te&&r&&Zm(e),e.flags|=1,bt(t,e,n,i),e.child)}function q_(t,e,n,r,i){if(Ht(n)){var s=!0;yc(e)}else s=!1;if(Hs(e,i),e.stateNode===null)qu(t,e),qS(e,n,r),Cp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=En(c):(c=Ht(n)?Qi:St.current,c=eo(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&F_(e,o,r,c),Mr=!1;var d=e.memoizedState;o.state=d,Sc(e,r,o,i),u=e.memoizedState,a!==r||d!==u||Wt.current||Mr?(typeof f=="function"&&(Sp(e,n,f,r),u=e.memoizedState),(a=Mr||j_(e,n,a,r,d,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$S(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,p=e.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=En(u):(u=Ht(n)?Qi:St.current,u=eo(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||d!==u)&&F_(e,o,r,u),Mr=!1,d=e.memoizedState,o.state=d,Sc(e,r,o,i);var E=e.memoizedState;a!==p||d!==E||Wt.current||Mr?(typeof y=="function"&&(Sp(e,n,y,r),E=e.memoizedState),(c=Mr||j_(e,n,c,r,d,E,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Tp(t,e,n,r,s,i)}function Tp(t,e,n,r,i,s){wC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P_(e,n,!1),Er(t,e,s);r=e.stateNode,BR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=no(e,t.child,null,s),e.child=no(e,null,a,s)):bt(t,e,a,s),e.memoizedState=r.state,i&&P_(e,n,!0),e.child}function EC(t){var e=t.stateNode;e.pendingContext?N_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N_(t,e.context,!1),ag(t,e.containerInfo)}function K_(t,e,n,r,i){return to(),tg(i),e.flags|=256,bt(t,e,n,r),e.child}var Ip={dehydrated:null,treeContext:null,retryLane:0};function xp(t){return{baseLanes:t,cachePool:null,transitions:null}}function SC(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(xe,i&1),t===null)return wp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bd(o,r,0,null),t=Wi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xp(n),e.memoizedState=Ip,t):mg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ri(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ri(a,s):(s=Wi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ip,r}return s=t.child,t=s.sibling,r=ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mg(t,e){return e=bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,r){return r!==null&&tg(r),no(e,t.child,null,n),t=mg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(B(422))),Au(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bd({mode:"visible",children:r.children},i,0,null),s=Wi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&no(e,t.child,null,o),e.child.memoizedState=xp(o),e.memoizedState=Ip,s);if(!(e.mode&1))return Au(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=uf(s,r,void 0),Au(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wr(t,i),On(r,t,i,-1))}return Eg(),r=uf(Error(B(421))),Au(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=Zr(i.nextSibling),rn=e,Te=!0,Rn=null,t!==null&&(fn[pn++]=ur,fn[pn++]=cr,fn[pn++]=qi,ur=t.id,cr=t.overflow,qi=e),e=mg(e,r.children),e.flags|=4096,e)}function G_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ep(t.return,e,n)}function cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function CC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G_(t,n,e);else if(t.tag===19)G_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cf(e,!0,n,null,s);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VR(t,e,n){switch(e.tag){case 3:EC(e),to();break;case 5:YS(e);break;case 1:Ht(e.type)&&yc(e);break;case 4:ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(wc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?SC(t,e,n):(_e(xe,xe.current&1),t=Er(t,e,n),t!==null?t.sibling:null);_e(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,_C(t,e,n)}return Er(t,e,n)}var AC,Rp,kC,TC;AC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rp=function(){};kC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ji(qn.current);var s=null;switch(n){case"input":i=Xf(t,i),r=Xf(t,r),s=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":i=ep(t,i),r=ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mc)}np(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ce("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jo(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WR(t,e,n){var r=e.pendingProps;switch(eg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Ht(e.type)&&gc(),mt(e),null;case 3:return r=e.stateNode,ro(),Ae(Wt),Ae(St),ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(jp(Rn),Rn=null))),Rp(t,e),mt(e),null;case 5:lg(e);var i=ji(Ha.current);if(n=e.type,t!==null&&e.stateNode!=null)kC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return mt(e),null}if(t=ji(qn.current),Su(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hn]=e,r[Va]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<ca.length;i++)Ce(ca[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":i_(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":o_(r,s),Ce("invalid",r)}np(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),i=["children",""+a]):Pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":fu(r),s_(r,s,!0);break;case"textarea":fu(r),a_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hn]=e,t[Va]=r,AC(t,e,!1,!1),e.stateNode=t;e:{switch(o=rp(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<ca.length;i++)Ce(ca[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":i_(t,r),i=Xf(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":o_(t,r),i=ep(t,r),Ce("invalid",t);break;default:i=r}np(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?nS(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&eS(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Oa(t,u):typeof u=="number"&&Oa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ce("scroll",t):u!=null&&Um(t,s,u,o))}switch(n){case"input":fu(t),s_(t,r,!1);break;case"textarea":fu(t),a_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)TC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ji(Ha.current),ji(qn.current),Su(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:Eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return mt(e),null;case 13:if(Ae(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Zt!==null&&e.mode&1&&!(e.flags&128))WS(),to(),e.flags|=98560,s=!1;else if(s=Su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Hn]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else Rn!==null&&(jp(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?He===0&&(He=3):Eg())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return ro(),Rp(t,e),t===null&&Ba(e.stateNode.containerInfo),mt(e),null;case 10:return ig(e.type._context),mt(e),null;case 17:return Ht(e.type)&&gc(),mt(e),null;case 19:if(Ae(xe),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jo(s,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cc(t),o!==null){for(e.flags|=128,Jo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>so&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Cc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return mt(e),null}else 2*je()-s.renderingStartTime>so&&n!==1073741824&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=xe.current,_e(xe,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return wg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function HR(t,e){switch(eg(e),e.tag){case 1:return Ht(e.type)&&gc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),Ae(Wt),Ae(St),ug(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lg(e),null;case 13:if(Ae(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(xe),null;case 4:return ro(),null;case 10:return ig(e.type._context),null;case 22:case 23:return wg(),null;case 24:return null;default:return null}}var ku=!1,yt=!1,$R=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function bp(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Y_=!1;function QR(t,e){if(fp=hc,t=bS(),Jm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,p=t,d=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)d=p,p=y;for(;;){if(p===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++f===r&&(u=o),(y=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:t,selectionRange:n},hc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var k=E.memoizedProps,T=E.memoizedState,A=e.stateNode,v=A.getSnapshotBeforeUpdate(e.elementType===e.type?k:In(e.type,k),T);A.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(S){Pe(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return E=Y_,Y_=!1,E}function wa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bp(e,n,s)}i=i.next}while(i!==r)}}function xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Np(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IC(t){var e=t.alternate;e!==null&&(t.alternate=null,IC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[Va],delete e[yp],delete e[xR],delete e[RR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xC(t){return t.tag===5||t.tag===3||t.tag===4}function X_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mc));else if(r!==4&&(t=t.child,t!==null))for(Pp(t,e,n),t=t.sibling;t!==null;)Pp(t,e,n),t=t.sibling}function Op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Op(t,e,n),t=t.sibling;t!==null;)Op(t,e,n),t=t.sibling}var rt=null,xn=!1;function Pr(t,e,n){for(n=n.child;n!==null;)RC(t,e,n),n=n.sibling}function RC(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:yt||Ms(n,e);case 6:var r=rt,i=xn;rt=null,Pr(t,e,n),rt=r,xn=i,rt!==null&&(xn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(xn?(t=rt,n=n.stateNode,t.nodeType===8?nf(t.parentNode,n):t.nodeType===1&&nf(t,n),ja(t)):nf(rt,n.stateNode));break;case 4:r=rt,i=xn,rt=n.stateNode.containerInfo,xn=!0,Pr(t,e,n),rt=r,xn=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bp(n,e,o),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!yt&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Pr(t,e,n),yt=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function J_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $R),e.forEach(function(r){var i=tb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,xn=!1;break e;case 3:rt=a.stateNode.containerInfo,xn=!0;break e;case 4:rt=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(rt===null)throw Error(B(160));RC(s,o,i),rt=null,xn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Pe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bC(e,t),e=e.sibling}function bC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Vn(t),r&4){try{wa(3,t,t.return),xd(3,t)}catch(k){Pe(t,t.return,k)}try{wa(5,t,t.return)}catch(k){Pe(t,t.return,k)}}break;case 1:kn(e,t),Vn(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(kn(e,t),Vn(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var i=t.stateNode;try{Oa(i,"")}catch(k){Pe(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XE(i,s),rp(a,o);var c=rp(a,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?nS(i,p):f==="dangerouslySetInnerHTML"?eS(i,p):f==="children"?Oa(i,p):Um(i,f,p,c)}switch(a){case"input":Jf(i,s);break;case"textarea":JE(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Bs(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?Bs(i,!!s.multiple,s.defaultValue,!0):Bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Va]=s}catch(k){Pe(t,t.return,k)}}break;case 6:if(kn(e,t),Vn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Pe(t,t.return,k)}}break;case 3:if(kn(e,t),Vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ja(e.containerInfo)}catch(k){Pe(t,t.return,k)}break;case 4:kn(e,t),Vn(t);break;case 13:kn(e,t),Vn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vg=je())),r&4&&J_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||f,kn(e,t),yt=c):kn(e,t),Vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(q=t,f=t.child;f!==null;){for(p=q=f;q!==null;){switch(d=q,y=d.child,d.tag){case 0:case 11:case 14:case 15:wa(4,d,d.return);break;case 1:Ms(d,d.return);var E=d.stateNode;if(typeof E.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(k){Pe(r,n,k)}}break;case 5:Ms(d,d.return);break;case 22:if(d.memoizedState!==null){e0(p);continue}}y!==null?(y.return=d,q=y):e0(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=tS("display",o))}catch(k){Pe(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){Pe(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:kn(e,t),Vn(t),r&4&&J_(t);break;case 21:break;default:kn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xC(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oa(i,""),r.flags&=-33);var s=X_(t);Op(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=X_(t);Pp(t,a,o);break;default:throw Error(B(161))}}catch(u){Pe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qR(t,e,n){q=t,NC(t)}function NC(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ku;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||yt;a=ku;var c=yt;if(ku=o,(yt=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?t0(i):u!==null?(u.return=o,q=u):t0(i);for(;s!==null;)q=s,NC(s),s=s.sibling;q=i,ku=a,yt=c}Z_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Z_(t)}}function Z_(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&ja(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}yt||e.flags&512&&Np(e)}catch(d){Pe(e,e.return,d)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function e0(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function t0(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xd(4,e)}catch(u){Pe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Pe(e,i,u)}}var s=e.return;try{Np(e)}catch(u){Pe(e,s,u)}break;case 5:var o=e.return;try{Np(e)}catch(u){Pe(e,o,u)}}}catch(u){Pe(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var KR=Math.ceil,Tc=kr.ReactCurrentDispatcher,gg=kr.ReactCurrentOwner,_n=kr.ReactCurrentBatchConfig,ce=0,Ye=null,Ue=null,ot=0,Yt=0,js=Ei(0),He=0,Ka=null,Gi=0,Rd=0,yg=0,Ea=null,Ut=null,vg=0,so=1/0,ar=null,Ic=!1,Dp=null,ti=null,Tu=!1,Qr=null,xc=0,Sa=0,Lp=null,Ku=-1,Gu=0;function Pt(){return ce&6?je():Ku!==-1?Ku:Ku=je()}function ni(t){return t.mode&1?ce&2&&ot!==0?ot&-ot:NR.transition!==null?(Gu===0&&(Gu=pS()),Gu):(t=me,t!==0||(t=window.event,t=t===void 0?16:ES(t.type)),t):1}function On(t,e,n,r){if(50<Sa)throw Sa=0,Lp=null,Error(B(185));El(t,n,r),(!(ce&2)||t!==Ye)&&(t===Ye&&(!(ce&2)&&(Rd|=n),He===4&&Ur(t,ot)),$t(t,r),n===1&&ce===0&&!(e.mode&1)&&(so=je()+500,kd&&Si()))}function $t(t,e){var n=t.callbackNode;Nx(t,e);var r=dc(t,t===Ye?ot:0);if(r===0)n!==null&&c_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&c_(n),e===1)t.tag===0?bR(n0.bind(null,t)):BS(n0.bind(null,t)),TR(function(){!(ce&6)&&Si()}),n=null;else{switch(mS(r)){case 1:n=Hm;break;case 4:n=hS;break;case 16:n=cc;break;case 536870912:n=fS;break;default:n=cc}n=UC(n,PC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PC(t,e){if(Ku=-1,Gu=0,ce&6)throw Error(B(327));var n=t.callbackNode;if($s()&&t.callbackNode!==n)return null;var r=dc(t,t===Ye?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var i=ce;ce|=2;var s=DC();(Ye!==t||ot!==e)&&(ar=null,so=je()+500,Vi(t,e));do try{XR();break}catch(a){OC(t,a)}while(!0);rg(),Tc.current=s,ce=i,Ue!==null?e=0:(Ye=null,ot=0,e=He)}if(e!==0){if(e===2&&(i=lp(t),i!==0&&(r=i,e=Mp(t,i))),e===1)throw n=Ka,Vi(t,0),Ur(t,r),$t(t,je()),n;if(e===6)Ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!GR(i)&&(e=Rc(t,r),e===2&&(s=lp(t),s!==0&&(r=s,e=Mp(t,s))),e===1))throw n=Ka,Vi(t,0),Ur(t,r),$t(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ni(t,Ut,ar);break;case 3:if(Ur(t,r),(r&130023424)===r&&(e=vg+500-je(),10<e)){if(dc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gp(Ni.bind(null,t,Ut,ar),e);break}Ni(t,Ut,ar);break;case 4:if(Ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KR(r/1960))-r,10<r){t.timeoutHandle=gp(Ni.bind(null,t,Ut,ar),r);break}Ni(t,Ut,ar);break;case 5:Ni(t,Ut,ar);break;default:throw Error(B(329))}}}return $t(t,je()),t.callbackNode===n?PC.bind(null,t):null}function Mp(t,e){var n=Ea;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&jp(e)),t}function jp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function GR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ln(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(t,e){for(e&=~yg,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function n0(t){if(ce&6)throw Error(B(327));$s();var e=dc(t,0);if(!(e&1))return $t(t,je()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=lp(t);r!==0&&(e=r,n=Mp(t,r))}if(n===1)throw n=Ka,Vi(t,0),Ur(t,e),$t(t,je()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,Ut,ar),$t(t,je()),null}function _g(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(so=je()+500,kd&&Si())}}function Yi(t){Qr!==null&&Qr.tag===0&&!(ce&6)&&$s();var e=ce;ce|=1;var n=_n.transition,r=me;try{if(_n.transition=null,me=1,t)return t()}finally{me=r,_n.transition=n,ce=e,!(ce&6)&&Si()}}function wg(){Yt=js.current,Ae(js)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kR(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gc();break;case 3:ro(),Ae(Wt),Ae(St),ug();break;case 5:lg(r);break;case 4:ro();break;case 13:Ae(xe);break;case 19:Ae(xe);break;case 10:ig(r.type._context);break;case 22:case 23:wg()}n=n.return}if(Ye=t,Ue=t=ri(t.current,null),ot=Yt=e,He=0,Ka=null,yg=Rd=Gi=0,Ut=Ea=null,Mi!==null){for(e=0;e<Mi.length;e++)if(n=Mi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Mi=null}return t}function OC(t,e){do{var n=Ue;try{if(rg(),$u.current=kc,Ac){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ac=!1}if(Ki=0,Qe=ze=be=null,_a=!1,$a=0,gg.current=null,n===null||n.return===null){He=1,Ka=e,Ue=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=ot,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=W_(o);if(y!==null){y.flags&=-257,H_(y,o,a,s,e),y.mode&1&&V_(s,c,e),e=y,u=c;var E=e.updateQueue;if(E===null){var k=new Set;k.add(u),e.updateQueue=k}else E.add(u);break e}else{if(!(e&1)){V_(s,c,e),Eg();break e}u=Error(B(426))}}else if(Te&&a.mode&1){var T=W_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),H_(T,o,a,s,e),tg(io(u,a));break e}}s=u=io(u,a),He!==4&&(He=2),Ea===null?Ea=[s]:Ea.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=gC(s,u,e);L_(s,A);break e;case 1:a=u;var v=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ti===null||!ti.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=yC(s,a,e);L_(s,S);break e}}s=s.return}while(s!==null)}MC(n)}catch(N){e=N,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function DC(){var t=Tc.current;return Tc.current=kc,t===null?kc:t}function Eg(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(Gi&268435455)&&!(Rd&268435455)||Ur(Ye,ot)}function Rc(t,e){var n=ce;ce|=2;var r=DC();(Ye!==t||ot!==e)&&(ar=null,Vi(t,e));do try{YR();break}catch(i){OC(t,i)}while(!0);if(rg(),ce=n,Tc.current=r,Ue!==null)throw Error(B(261));return Ye=null,ot=0,He}function YR(){for(;Ue!==null;)LC(Ue)}function XR(){for(;Ue!==null&&!Sx();)LC(Ue)}function LC(t){var e=FC(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?MC(t):Ue=e,gg.current=null}function MC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HR(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Ue=null;return}}else if(n=WR(n,e,Yt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);He===0&&(He=5)}function Ni(t,e,n){var r=me,i=_n.transition;try{_n.transition=null,me=1,JR(t,e,n,r)}finally{_n.transition=i,me=r}return null}function JR(t,e,n,r){do $s();while(Qr!==null);if(ce&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Px(t,s),t===Ye&&(Ue=Ye=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tu||(Tu=!0,UC(cc,function(){return $s(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_n.transition,_n.transition=null;var o=me;me=1;var a=ce;ce|=4,gg.current=null,QR(t,n),bC(n,t),vR(pp),hc=!!fp,pp=fp=null,t.current=n,qR(n),Cx(),ce=a,me=o,_n.transition=s}else t.current=n;if(Tu&&(Tu=!1,Qr=t,xc=i),s=t.pendingLanes,s===0&&(ti=null),Tx(n.stateNode),$t(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ic)throw Ic=!1,t=Dp,Dp=null,t;return xc&1&&t.tag!==0&&$s(),s=t.pendingLanes,s&1?t===Lp?Sa++:(Sa=0,Lp=t):Sa=0,Si(),null}function $s(){if(Qr!==null){var t=mS(xc),e=_n.transition,n=me;try{if(_n.transition=null,me=16>t?16:t,Qr===null)var r=!1;else{if(t=Qr,Qr=null,xc=0,ce&6)throw Error(B(331));var i=ce;for(ce|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(q=c;q!==null;){var f=q;switch(f.tag){case 0:case 11:case 15:wa(8,f,s)}var p=f.child;if(p!==null)p.return=f,q=p;else for(;q!==null;){f=q;var d=f.sibling,y=f.return;if(IC(f),f===c){q=null;break}if(d!==null){d.return=y,q=d;break}q=y}}}var E=s.alternate;if(E!==null){var k=E.child;if(k!==null){E.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wa(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,q=A;break e}q=s.return}}var v=t.current;for(q=v;q!==null;){o=q;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,q=g;else e:for(o=v;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xd(9,a)}}catch(N){Pe(a,a.return,N)}if(a===o){q=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,q=S;break e}q=a.return}}if(ce=i,Si(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{me=n,_n.transition=e}}return!1}function r0(t,e,n){e=io(n,e),e=gC(t,e,1),t=ei(t,e,1),e=Pt(),t!==null&&(El(t,1,e),$t(t,e))}function Pe(t,e,n){if(t.tag===3)r0(t,t,n);else for(;e!==null;){if(e.tag===3){r0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=io(n,t),t=yC(e,t,1),e=ei(e,t,1),t=Pt(),e!==null&&(El(e,1,t),$t(e,t));break}}e=e.return}}function ZR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(ot&n)===n&&(He===4||He===3&&(ot&130023424)===ot&&500>je()-vg?Vi(t,0):yg|=n),$t(t,e)}function jC(t,e){e===0&&(t.mode&1?(e=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):e=1);var n=Pt();t=wr(t,e),t!==null&&(El(t,e,n),$t(t,n))}function eb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jC(t,n)}function tb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),jC(t,n)}var FC;FC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,VR(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Te&&e.flags&1048576&&zS(e,_c,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qu(t,e),t=e.pendingProps;var i=eo(e,St.current);Hs(e,n),i=dg(null,e,r,t,i,n);var s=hg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,yc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,og(e),i.updater=Td,e.stateNode=i,i._reactInternals=e,Cp(e,r,t,n),e=Tp(null,e,r,!0,s,n)):(e.tag=0,Te&&s&&Zm(e),bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rb(r),t=In(r,t),i){case 0:e=kp(null,e,r,t,n);break e;case 1:e=q_(null,e,r,t,n);break e;case 11:e=$_(null,e,r,t,n);break e;case 14:e=Q_(null,e,r,In(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),kp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),q_(t,e,r,i,n);case 3:e:{if(EC(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$S(t,e),Sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=io(Error(B(423)),e),e=K_(t,e,r,n,i);break e}else if(r!==i){i=io(Error(B(424)),e),e=K_(t,e,r,n,i);break e}else for(Zt=Zr(e.stateNode.containerInfo.firstChild),rn=e,Te=!0,Rn=null,n=GS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===i){e=Er(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return YS(e),t===null&&wp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mp(r,i)?o=null:s!==null&&mp(r,s)&&(e.flags|=32),wC(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&wp(e),null;case 13:return SC(t,e,n);case 4:return ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),$_(t,e,r,i,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(wc,r._currentValue),r._currentValue=o,s!==null)if(Ln(s.value,o)){if(s.children===i.children&&!Wt.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=mr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ep(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ep(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hs(e,n),i=En(i),r=r(i),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),Q_(t,e,r,i,n);case 15:return vC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),qu(t,e),e.tag=1,Ht(r)?(t=!0,yc(e)):t=!1,Hs(e,n),qS(e,r,i),Cp(e,r,i,n),Tp(null,e,r,!0,t,n);case 19:return CC(t,e,n);case 22:return _C(t,e,n)}throw Error(B(156,e.tag))};function UC(t,e){return dS(t,e)}function nb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new nb(t,e,n,r)}function Sg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rb(t){if(typeof t=="function")return Sg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zm)return 11;if(t===Vm)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Sg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Is:return Wi(n.children,i,s,e);case Bm:o=8,i|=8;break;case qf:return t=gn(12,n,e,i|2),t.elementType=qf,t.lanes=s,t;case Kf:return t=gn(13,n,e,i),t.elementType=Kf,t.lanes=s,t;case Gf:return t=gn(19,n,e,i),t.elementType=Gf,t.lanes=s,t;case KE:return bd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QE:o=10;break e;case qE:o=9;break e;case zm:o=11;break e;case Vm:o=14;break e;case Lr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function bd(t,e,n,r){return t=gn(22,t,r,e),t.elementType=KE,t.lanes=n,t.stateNode={isHidden:!1},t}function df(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function hf(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ib(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cg(t,e,n,r,i,s,o,a,u){return t=new ib(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},og(s),t}function sb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BC(t){if(!t)return ci;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ht(n))return US(t,n,e)}return e}function zC(t,e,n,r,i,s,o,a,u){return t=Cg(n,r,!0,t,i,s,o,a,u),t.context=BC(null),n=t.current,r=Pt(),i=ni(n),s=mr(r,i),s.callback=e??null,ei(n,s,i),t.current.lanes=i,El(t,i,r),$t(t,r),t}function Nd(t,e,n,r){var i=e.current,s=Pt(),o=ni(i);return n=BC(n),e.context===null?e.context=n:e.pendingContext=n,e=mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(i,e,o),t!==null&&(On(t,i,o,s),Hu(t,i,o)),o}function bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ag(t,e){i0(t,e),(t=t.alternate)&&i0(t,e)}function ob(){return null}var VC=typeof reportError=="function"?reportError:function(t){console.error(t)};function kg(t){this._internalRoot=t}Pd.prototype.render=kg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Nd(t,e,null,null)};Pd.prototype.unmount=kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yi(function(){Nd(null,t,null,null)}),e[_r]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=vS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&wS(t)}};function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s0(){}function ab(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=bc(o);s.call(c)}}var o=zC(e,r,t,0,null,!1,!1,"",s0);return t._reactRootContainer=o,t[_r]=o.current,Ba(t.nodeType===8?t.parentNode:t),Yi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=bc(u);a.call(c)}}var u=Cg(t,0,!1,null,null,!1,!1,"",s0);return t._reactRootContainer=u,t[_r]=u.current,Ba(t.nodeType===8?t.parentNode:t),Yi(function(){Nd(e,u,n,r)}),u}function Dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=bc(o);a.call(u)}}Nd(e,o,t,i)}else o=ab(n,e,t,i,r);return bc(o)}gS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ua(e.pendingLanes);n!==0&&($m(e,n|1),$t(e,je()),!(ce&6)&&(so=je()+500,Si()))}break;case 13:Yi(function(){var r=wr(t,1);if(r!==null){var i=Pt();On(r,t,1,i)}}),Ag(t,1)}};Qm=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=Pt();On(e,t,134217728,n)}Ag(t,134217728)}};yS=function(t){if(t.tag===13){var e=ni(t),n=wr(t,e);if(n!==null){var r=Pt();On(n,t,e,r)}Ag(t,e)}};vS=function(){return me};_S=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};sp=function(t,e,n){switch(e){case"input":if(Jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ad(r);if(!i)throw Error(B(90));YE(r),Jf(r,i)}}}break;case"textarea":JE(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};sS=_g;oS=Yi;var lb={usingClientEntryPoint:!1,Events:[Cl,Ns,Ad,rS,iS,_g]},Zo={findFiberByHostInstance:Li,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ub={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uS(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||ob,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{wd=Iu.inject(ub),Qn=Iu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lb;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(e))throw Error(B(200));return sb(t,e,null,n)};cn.createRoot=function(t,e){if(!Tg(t))throw Error(B(299));var n=!1,r="",i=VC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cg(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,Ba(t.nodeType===8?t.parentNode:t),new kg(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=uS(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return Yi(t)};cn.hydrate=function(t,e,n){if(!Od(e))throw Error(B(200));return Dd(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Tg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zC(e,null,t,1,n??null,i,!1,s,o),t[_r]=e.current,Ba(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pd(e)};cn.render=function(t,e,n){if(!Od(e))throw Error(B(200));return Dd(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!Od(t))throw Error(B(40));return t._reactRootContainer?(Yi(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};cn.unstable_batchedUpdates=_g;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Dd(t,e,n,!1,r)};cn.version="18.2.0-next-9e3b772b8-20220608";function WC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WC)}catch(t){console.error(t)}}WC(),zE.exports=cn;var HC=zE.exports;const cb=bE(HC);var o0=HC;$f.createRoot=o0.createRoot,$f.hydrateRoot=o0.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}var qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qr||(qr={}));const a0="popstate";function db(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Fp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nc(i)}return fb(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $C(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hb(){return Math.random().toString(36).substr(2,8)}function l0(t,e){return{usr:t.state,key:t.key,idx:e}}function Fp(t,e,n,r){return n===void 0&&(n=null),Ga({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Eo(e):e,{state:n,key:e&&e.key||r||hb()})}function Nc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qr.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Ga({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=qr.Pop;let T=f(),A=T==null?null:T-c;c=T,u&&u({action:a,location:k.location,delta:A})}function d(T,A){a=qr.Push;let v=Fp(k.location,T,A);n&&n(v,T),c=f()+1;let g=l0(v,c),S=k.createHref(v);try{o.pushState(g,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(S)}s&&u&&u({action:a,location:k.location,delta:1})}function y(T,A){a=qr.Replace;let v=Fp(k.location,T,A);n&&n(v,T),c=f();let g=l0(v,c),S=k.createHref(v);o.replaceState(g,"",S),s&&u&&u({action:a,location:k.location,delta:0})}function E(T){let A=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof T=="string"?T:Nc(T);return v=v.replace(/ $/,"%20"),Oe(A,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,A)}let k={get action(){return a},get location(){return t(i,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(a0,p),u=T,()=>{i.removeEventListener(a0,p),u=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let A=E(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:d,replace:y,go(T){return o.go(T)}};return k}var u0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(u0||(u0={}));function pb(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Eo(e):e,i=oo(r.pathname||"/",n);if(i==null)return null;let s=QC(t);mb(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=Tb(i);o=Ab(s[a],u)}return o}function QC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Oe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ii([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Sb(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of qC(s.path))i(s,o,u)}),e}function qC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=qC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function mb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gb=/^:[\w-]+$/,yb=3,vb=2,_b=1,wb=10,Eb=-2,c0=t=>t==="*";function Sb(t,e){let n=t.split("/"),r=n.length;return n.some(c0)&&(r+=Eb),e&&(r+=vb),n.filter(i=>!c0(i)).reduce((i,s)=>i+(gb.test(s)?yb:s===""?_b:wb),r)}function Cb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ab(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=Up({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!f)return null;Object.assign(r,f.params);let p=a.route;s.push({params:r,pathname:ii([i,f.pathname]),pathnameBase:bb(ii([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ii([i,f.pathnameBase]))}return s}function Up(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:d,isOptional:y}=f;if(d==="*"){let k=a[p]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const E=a[p];return y&&!E?c[d]=void 0:c[d]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function kb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$C(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Tb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $C(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ib(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eo(t):t;return{pathname:n?n.startsWith("/")?n:xb(n,e):e,search:Nb(r),hash:Pb(i)}}function xb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ff(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KC(t,e){let n=Rb(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function GC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Eo(t):(i=Ga({},t),Oe(!i.pathname||!i.pathname.includes("?"),ff("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),ff("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),ff("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),p-=1;i.pathname=d.join("/")}a=p>=0?e[p]:"/"}let u=Ib(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const ii=t=>t.join("/").replace(/\/\/+/g,"/"),bb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ob(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YC=["post","put","patch","delete"];new Set(YC);const Db=["get",...YC];new Set(Db);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}const Ld=P.createContext(null),XC=P.createContext(null),Ci=P.createContext(null),Md=P.createContext(null),Ai=P.createContext({outlet:null,matches:[],isDataRoute:!1}),JC=P.createContext(null);function Lb(t,e){let{relative:n}=e===void 0?{}:e;kl()||Oe(!1);let{basename:r,navigator:i}=P.useContext(Ci),{hash:s,pathname:o,search:a}=jd(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ii([r,o])),i.createHref({pathname:u,search:a,hash:s})}function kl(){return P.useContext(Md)!=null}function Tl(){return kl()||Oe(!1),P.useContext(Md).location}function ZC(t){P.useContext(Ci).static||P.useLayoutEffect(t)}function nr(){let{isDataRoute:t}=P.useContext(Ai);return t?Kb():Mb()}function Mb(){kl()||Oe(!1);let t=P.useContext(Ld),{basename:e,future:n,navigator:r}=P.useContext(Ci),{matches:i}=P.useContext(Ai),{pathname:s}=Tl(),o=JSON.stringify(KC(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return ZC(()=>{a.current=!0}),P.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=GC(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ii([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function e1(){let{matches:t}=P.useContext(Ai),e=t[t.length-1];return e?e.params:{}}function jd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Ci),{matches:i}=P.useContext(Ai),{pathname:s}=Tl(),o=JSON.stringify(KC(i,r.v7_relativeSplatPath));return P.useMemo(()=>GC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function jb(t,e){return Fb(t,e)}function Fb(t,e,n,r){kl()||Oe(!1);let{navigator:i}=P.useContext(Ci),{matches:s}=P.useContext(Ai),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Tl(),f;if(e){var p;let T=typeof e=="string"?Eo(e):e;u==="/"||(p=T.pathname)!=null&&p.startsWith(u)||Oe(!1),f=T}else f=c;let d=f.pathname||"/",y=d;if(u!=="/"){let T=u.replace(/^\//,"").split("/");y="/"+d.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=pb(t,{pathname:y}),k=Wb(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ii([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:ii([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&k?P.createElement(Md.Provider,{value:{location:Ya({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qr.Pop}},k):k}function Ub(){let t=qb(),e=Ob(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const Bb=P.createElement(Ub,null);class zb extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Ai.Provider,{value:this.props.routeContext},P.createElement(JC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vb(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Ld);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Ai.Provider,{value:e},r)}function Wb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id]));f>=0||Oe(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:d,errors:y}=n,E=p.route.loader&&d[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,p,d)=>{let y,E=!1,k=null,T=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,k=p.route.errorElement||Bb,u&&(c<0&&d===0?(Gb("route-fallback",!1),E=!0,T=null):c===d&&(E=!0,T=p.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,d+1)),v=()=>{let g;return y?g=k:E?g=T:p.route.Component?g=P.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=f,P.createElement(Vb,{match:p,routeContext:{outlet:f,matches:A,isDataRoute:n!=null},children:g})};return n&&(p.route.ErrorBoundary||p.route.errorElement||d===0)?P.createElement(zb,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:v(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):v()},null)}var t1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(t1||{}),Pc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pc||{});function Hb(t){let e=P.useContext(Ld);return e||Oe(!1),e}function $b(t){let e=P.useContext(XC);return e||Oe(!1),e}function Qb(t){let e=P.useContext(Ai);return e||Oe(!1),e}function n1(t){let e=Qb(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function qb(){var t;let e=P.useContext(JC),n=$b(Pc.UseRouteError),r=n1(Pc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Kb(){let{router:t}=Hb(t1.UseNavigateStable),e=n1(Pc.UseNavigateStable),n=P.useRef(!1);return ZC(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ya({fromRouteId:e},s)))},[t,e])}const d0={};function Gb(t,e,n){!e&&!d0[t]&&(d0[t]=!0)}function xt(t){Oe(!1)}function Yb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qr.Pop,navigator:s,static:o=!1,future:a}=t;kl()&&Oe(!1);let u=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:u,navigator:s,static:o,future:Ya({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Eo(r));let{pathname:f="/",search:p="",hash:d="",state:y=null,key:E="default"}=r,k=P.useMemo(()=>{let T=oo(f,u);return T==null?null:{location:{pathname:T,search:p,hash:d,state:y,key:E},navigationType:i}},[u,f,p,d,y,E,i]);return k==null?null:P.createElement(Ci.Provider,{value:c},P.createElement(Md.Provider,{children:n,value:k}))}function Xb(t){let{children:e,location:n}=t;return jb(Bp(e),n)}new Promise(()=>{});function Bp(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,Bp(r.props.children,s));return}r.type!==xt&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}function r1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zb(t,e){return t.button===0&&(!e||e==="_self")&&!Jb(t)}const eN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tN=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],nN="6";try{window.__reactRouterVersion=nN}catch{}const rN=P.createContext({isTransitioning:!1}),iN="startTransition",h0=Hf[iN];function sN(t){let{basename:e,children:n,future:r,window:i}=t,s=P.useRef();s.current==null&&(s.current=db({window:i,v5Compat:!0}));let o=s.current,[a,u]=P.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=P.useCallback(p=>{c&&h0?h0(()=>u(p)):u(p)},[u,c]);return P.useLayoutEffect(()=>o.listen(f),[o,f]),P.createElement(Yb,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const oN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,unstable_viewTransition:p}=e,d=r1(e,eN),{basename:y}=P.useContext(Ci),E,k=!1;if(typeof c=="string"&&aN.test(c)&&(E=c,oN))try{let g=new URL(window.location.href),S=c.startsWith("//")?new URL(g.protocol+c):new URL(c),N=oo(S.pathname,y);S.origin===g.origin&&N!=null?c=N+S.search+S.hash:k=!0}catch{}let T=Lb(c,{relative:i}),A=uN(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:p});function v(g){r&&r(g),g.defaultPrevented||A(g)}return P.createElement("a",Oc({},d,{href:E||T,onClick:k||s?r:v,ref:n,target:u}))}),i1=P.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:c,children:f}=e,p=r1(e,tN),d=jd(u,{relative:p.relative}),y=Tl(),E=P.useContext(XC),{navigator:k,basename:T}=P.useContext(Ci),A=E!=null&&cN(d)&&c===!0,v=k.encodeLocation?k.encodeLocation(d).pathname:d.pathname,g=y.pathname,S=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(g=g.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&T&&(S=oo(S,T)||S);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=g===v||!o&&g.startsWith(v)&&g.charAt(N)==="/",C=S!=null&&(S===v||!o&&S.startsWith(v)&&S.charAt(v.length)==="/"),w={isActive:D,isPending:C,isTransitioning:A},I=D?r:void 0,x;typeof s=="function"?x=s(w):x=[s,D?"active":null,C?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(w):a;return P.createElement(vt,Oc({},p,{"aria-current":I,className:x,ref:n,style:O,to:u,unstable_viewTransition:c}),typeof f=="function"?f(w):f)});var zp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zp||(zp={}));var f0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(f0||(f0={}));function lN(t){let e=P.useContext(Ld);return e||Oe(!1),e}function uN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=nr(),c=Tl(),f=jd(t,{relative:o});return P.useCallback(p=>{if(Zb(p,n)){p.preventDefault();let d=r!==void 0?r:Nc(c)===Nc(f);u(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}function cN(t,e){e===void 0&&(e={});let n=P.useContext(rN);n==null&&Oe(!1);let{basename:r}=lN(zp.useViewTransitionState),i=jd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=oo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=oo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Up(i.pathname,o)!=null||Up(i.pathname,s)!=null}var s1={exports:{}},o1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=P;function dN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hN=typeof Object.is=="function"?Object.is:dN,fN=Il.useSyncExternalStore,pN=Il.useRef,mN=Il.useEffect,gN=Il.useMemo,yN=Il.useDebugValue;o1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=pN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gN(function(){function u(y){if(!c){if(c=!0,f=y,y=r(y),i!==void 0&&o.hasValue){var E=o.value;if(i(E,y))return p=E}return p=y}if(E=p,hN(f,y))return E;var k=r(y);return i!==void 0&&i(E,k)?E:(f=y,p=k)}var c=!1,f,p,d=n===void 0?null:n;return[function(){return u(e())},d===null?void 0:function(){return u(d())}]},[e,n,r,i]);var a=fN(t,s[0],s[1]);return mN(function(){o.hasValue=!0,o.value=a},[a]),yN(a),a};s1.exports=o1;var vN=s1.exports,en="default"in Hf?Fe:Hf,p0=Symbol.for("react-redux-context"),m0=typeof globalThis<"u"?globalThis:{};function _N(){if(!en.createContext)return{};const t=m0[p0]??(m0[p0]=new Map);let e=t.get(en.createContext);return e||(e=en.createContext(null),t.set(en.createContext,e)),e}var di=_N(),wN=()=>{throw new Error("uSES not initialized!")};function Ig(t=di){return function(){return en.useContext(t)}}var a1=Ig(),l1=wN,EN=t=>{l1=t},SN=(t,e)=>t===e;function CN(t=di){const e=t===di?a1:Ig(t),n=(r,i={})=>{const{equalityFn:s=SN,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:f,identityFunctionCheck:p}=e();en.useRef(!0);const d=en.useCallback({[r.name](E){return r(E)}}[r.name],[r,f,o.stabilityCheck]),y=l1(u.addNestedSub,a.getState,c||a.getState,d,s);return en.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var oe=CN();function u1(t){t()}function AN(){let t=null,e=null;return{clear(){t=null,e=null},notify(){u1(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var g0={notify(){},get:()=>[]};function kN(t,e){let n,r=g0,i=0,s=!1;function o(k){f();const T=r.subscribe(k);let A=!1;return()=>{A||(A=!0,T(),p())}}function a(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function c(){return s}function f(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=AN())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=g0)}function d(){s||(s=!0,f())}function y(){s&&(s=!1,p())}const E={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:d,tryUnsubscribe:y,getListeners:()=>r};return E}var TN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IN=TN?en.useLayoutEffect:en.useEffect;function y0(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ca(t,e){if(y0(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!y0(t[n[i]],e[n[i]]))return!1;return!0}function xN({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=en.useMemo(()=>{const c=kN(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=en.useMemo(()=>t.getState(),[t]);IN(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=e||di;return en.createElement(u.Provider,{value:o},n)}var RN=xN;function c1(t=di){const e=t===di?a1:Ig(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var d1=c1();function bN(t=di){const e=t===di?d1:c1(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var lt=bN(),NN=u1;EN(vN.useSyncExternalStoreWithSelector);function nt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PN=typeof Symbol=="function"&&Symbol.observable||"@@observable",v0=PN,pf=()=>Math.random().toString(36).substring(7).split("").join("."),ON={INIT:`@@redux/INIT${pf()}`,REPLACE:`@@redux/REPLACE${pf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pf()}`},Dc=ON;function Xn(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function h1(t,e,n){if(typeof t!="function")throw new Error(nt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nt(1));return n(h1)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((T,A)=>{o.set(A,T)}))}function f(){if(u)throw new Error(nt(3));return i}function p(T){if(typeof T!="function")throw new Error(nt(4));if(u)throw new Error(nt(5));let A=!0;c();const v=a++;return o.set(v,T),function(){if(A){if(u)throw new Error(nt(6));A=!1,c(),o.delete(v),s=null}}}function d(T){if(!Xn(T))throw new Error(nt(7));if(typeof T.type>"u")throw new Error(nt(8));if(typeof T.type!="string")throw new Error(nt(17));if(u)throw new Error(nt(9));try{u=!0,i=r(i,T)}finally{u=!1}return(s=o).forEach(v=>{v()}),T}function y(T){if(typeof T!="function")throw new Error(nt(10));r=T,d({type:Dc.REPLACE})}function E(){const T=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(nt(11));function v(){const S=A;S.next&&S.next(f())}return v(),{unsubscribe:T(v)}},[v0](){return this}}}return d({type:Dc.INIT}),{dispatch:d,subscribe:p,getState:f,replaceReducer:y,[v0]:E}}function DN(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Dc.INIT})>"u")throw new Error(nt(12));if(typeof n(void 0,{type:Dc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nt(13))})}function f1(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{DN(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let f=0;f<r.length;f++){const p=r[f],d=n[p],y=o[p],E=d(y,a);if(typeof E>"u")throw a&&a.type,new Error(nt(14));c[p]=E,u=u||E!==y}return u=u||r.length!==Object.keys(o).length,u?c:o}}function Lc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function LN(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(nt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=t.map(u=>u(o));return s=Lc(...a)(i.dispatch),{...i,dispatch:s}}}function p1(t){return Xn(t)&&"type"in t&&typeof t.type=="string"}var xg=Symbol.for("immer-nothing"),Aa=Symbol.for("immer-draftable"),qt=Symbol.for("immer-state");function st(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xi=Object.getPrototypeOf;function Mn(t){return!!t&&!!t[qt]}function jn(t){var e;return t?m1(t)||Array.isArray(t)||!!t[Aa]||!!((e=t.constructor)!=null&&e[Aa])||xl(t)||Rl(t):!1}var MN=Object.prototype.constructor.toString();function m1(t){if(!t||typeof t!="object")return!1;const e=Xi(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===MN}function jN(t){return Mn(t)||st(15,t),t[qt].base_}function Xa(t,e){Ji(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ji(t){const e=t[qt];return e?e.type_:Array.isArray(t)?1:xl(t)?2:Rl(t)?3:0}function Ja(t,e){return Ji(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mf(t,e){return Ji(t)===2?t.get(e):t[e]}function g1(t,e,n){const r=Ji(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function FN(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xl(t){return t instanceof Map}function Rl(t){return t instanceof Set}function Pi(t){return t.copy_||t.base_}function Vp(t,e){if(xl(t))return new Map(t);if(Rl(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&m1(t))return Xi(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[qt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Xi(t),n)}function Rg(t,e=!1){return Fd(t)||Mn(t)||!jn(t)||(Ji(t)>1&&(t.set=t.add=t.clear=t.delete=UN),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Rg(r,!0))),t}function UN(){st(2)}function Fd(t){return Object.isFrozen(t)}var Wp={};function Zi(t){const e=Wp[t];return e||st(0,t),e}function BN(t,e){Wp[t]||(Wp[t]=e)}var Za;function y1(){return Za}function zN(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _0(t,e){e&&(Zi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Hp(t){$p(t),t.drafts_.forEach(VN),t.drafts_=null}function $p(t){t===Za&&(Za=t.parent_)}function w0(t){return Za=zN(Za,t)}function VN(t){const e=t[qt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function E0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qt].modified_&&(Hp(e),st(4)),jn(t)&&(t=Mc(e,t),e.parent_||jc(e,t)),e.patches_&&Zi("Patches").generateReplacementPatches_(n[qt].base_,t,e.patches_,e.inversePatches_)):t=Mc(e,n,[]),Hp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==xg?t:void 0}function Mc(t,e,n){if(Fd(e))return e;const r=e[qt];if(!r)return Xa(e,(i,s)=>S0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return jc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Xa(s,(a,u)=>S0(t,r,i,a,u,n,o)),jc(t,i,!1),n&&t.patches_&&Zi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function S0(t,e,n,r,i,s,o){if(Mn(i)){const a=s&&e&&e.type_!==3&&!Ja(e.assigned_,r)?s.concat(r):void 0,u=Mc(t,i,a);if(g1(n,r,u),Mn(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(jn(i)&&!Fd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Mc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&jc(t,i)}}function jc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Rg(e,n)}function WN(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:y1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=bg;n&&(i=[r],s=el);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var bg={get(t,e){if(e===qt)return t;const n=Pi(t);if(!Ja(n,e))return HN(t,n,e);const r=n[e];return t.finalized_||!jn(r)?r:r===gf(t.base_,e)?(yf(t),t.copy_[e]=qp(r,t)):r},has(t,e){return e in Pi(t)},ownKeys(t){return Reflect.ownKeys(Pi(t))},set(t,e,n){const r=v1(Pi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=gf(Pi(t),e),s=i==null?void 0:i[qt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(FN(n,i)&&(n!==void 0||Ja(t.base_,e)))return!0;yf(t),Qp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return gf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,yf(t),Qp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Pi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){st(11)},getPrototypeOf(t){return Xi(t.base_)},setPrototypeOf(){st(12)}},el={};Xa(bg,(t,e)=>{el[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});el.deleteProperty=function(t,e){return el.set.call(this,t,e,void 0)};el.set=function(t,e,n){return bg.set.call(this,t[0],e,n,t[0])};function gf(t,e){const n=t[qt];return(n?Pi(n):t)[e]}function HN(t,e,n){var i;const r=v1(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function v1(t,e){if(!(e in t))return;let n=Xi(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xi(n)}}function Qp(t){t.modified_||(t.modified_=!0,t.parent_&&Qp(t.parent_))}function yf(t){t.copy_||(t.copy_=Vp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $N=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,f=>n.call(this,f,...c))}}typeof n!="function"&&st(6),r!==void 0&&typeof r!="function"&&st(7);let i;if(jn(e)){const s=w0(this),o=qp(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Hp(s):$p(s)}return _0(s,r),E0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===xg&&(i=void 0),this.autoFreeze_&&Rg(i,!0),r){const s=[],o=[];Zi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else st(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){jn(t)||st(8),Mn(t)&&(t=_1(t));const e=w0(this),n=qp(t,void 0);return n[qt].isManual_=!0,$p(e),n}finishDraft(t,e){const n=t&&t[qt];(!n||!n.isManual_)&&st(9);const{scope_:r}=n;return _0(r,e),E0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zi("Patches").applyPatches_;return Mn(t)?r(t,e):this.produce(t,i=>r(i,e))}};function qp(t,e){const n=xl(t)?Zi("MapSet").proxyMap_(t,e):Rl(t)?Zi("MapSet").proxySet_(t,e):WN(t,e);return(e?e.scope_:y1()).drafts_.push(n),n}function _1(t){return Mn(t)||st(10,t),w1(t)}function w1(t){if(!jn(t)||Fd(t))return t;const e=t[qt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Vp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Vp(t,!0);return Xa(n,(r,i)=>{g1(n,r,w1(i))}),e&&(e.finalized_=!1),n}function QN(){const e="replace",n="add",r="remove";function i(d,y,E,k){switch(d.type_){case 0:case 2:return o(d,y,E,k);case 1:return s(d,y,E,k);case 3:return a(d,y,E,k)}}function s(d,y,E,k){let{base_:T,assigned_:A}=d,v=d.copy_;v.length<T.length&&([T,v]=[v,T],[E,k]=[k,E]);for(let g=0;g<T.length;g++)if(A[g]&&v[g]!==T[g]){const S=y.concat([g]);E.push({op:e,path:S,value:p(v[g])}),k.push({op:e,path:S,value:p(T[g])})}for(let g=T.length;g<v.length;g++){const S=y.concat([g]);E.push({op:n,path:S,value:p(v[g])})}for(let g=v.length-1;T.length<=g;--g){const S=y.concat([g]);k.push({op:r,path:S})}}function o(d,y,E,k){const{base_:T,copy_:A}=d;Xa(d.assigned_,(v,g)=>{const S=mf(T,v),N=mf(A,v),D=g?Ja(T,v)?e:n:r;if(S===N&&D===e)return;const C=y.concat(v);E.push(D===r?{op:D,path:C}:{op:D,path:C,value:N}),k.push(D===n?{op:r,path:C}:D===r?{op:n,path:C,value:p(S)}:{op:e,path:C,value:p(S)})})}function a(d,y,E,k){let{base_:T,copy_:A}=d,v=0;T.forEach(g=>{if(!A.has(g)){const S=y.concat([v]);E.push({op:r,path:S,value:g}),k.unshift({op:n,path:S,value:g})}v++}),v=0,A.forEach(g=>{if(!T.has(g)){const S=y.concat([v]);E.push({op:n,path:S,value:g}),k.unshift({op:r,path:S,value:g})}v++})}function u(d,y,E,k){E.push({op:e,path:[],value:y===xg?void 0:y}),k.push({op:e,path:[],value:d})}function c(d,y){return y.forEach(E=>{const{path:k,op:T}=E;let A=d;for(let N=0;N<k.length-1;N++){const D=Ji(A);let C=k[N];typeof C!="string"&&typeof C!="number"&&(C=""+C),(D===0||D===1)&&(C==="__proto__"||C==="constructor")&&st(19),typeof A=="function"&&C==="prototype"&&st(19),A=mf(A,C),typeof A!="object"&&st(18,k.join("/"))}const v=Ji(A),g=f(E.value),S=k[k.length-1];switch(T){case e:switch(v){case 2:return A.set(S,g);case 3:st(16);default:return A[S]=g}case n:switch(v){case 1:return S==="-"?A.push(g):A.splice(S,0,g);case 2:return A.set(S,g);case 3:return A.add(g);default:return A[S]=g}case r:switch(v){case 1:return A.splice(S,1);case 2:return A.delete(S);case 3:return A.delete(E.value);default:return delete A[S]}default:st(17,T)}}),d}function f(d){if(!jn(d))return d;if(Array.isArray(d))return d.map(f);if(xl(d))return new Map(Array.from(d.entries()).map(([E,k])=>[E,f(k)]));if(Rl(d))return new Set(Array.from(d).map(f));const y=Object.create(Xi(d));for(const E in d)y[E]=f(d[E]);return Ja(d,Aa)&&(y[Aa]=d[Aa]),y}function p(d){return Mn(d)?f(d):d}BN("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:u})}var on=new $N,bl=on.produce,E1=on.produceWithPatches.bind(on);on.setAutoFreeze.bind(on);on.setUseStrictShallowCopy.bind(on);var C0=on.applyPatches.bind(on);on.createDraft.bind(on);on.finishDraft.bind(on);function qN(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function KN(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function GN(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var A0=t=>Array.isArray(t)?t:[t];function YN(t){const e=Array.isArray(t[0])?t[0]:t;return GN(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function XN(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var JN=class{constructor(t){this.value=t}deref(){return this.value}},ZN=typeof WeakRef<"u"?WeakRef:JN,eP=0,k0=1;function xu(){return{s:eP,v:void 0,o:null,p:null}}function tl(t,e={}){let n=xu();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var p;let a=n;const{length:u}=arguments;for(let d=0,y=u;d<y;d++){const E=arguments[d];if(typeof E=="function"||typeof E=="object"&&E!==null){let k=a.o;k===null&&(a.o=k=new WeakMap);const T=k.get(E);T===void 0?(a=xu(),k.set(E,a)):a=T}else{let k=a.p;k===null&&(a.p=k=new Map);const T=k.get(E);T===void 0?(a=xu(),k.set(E,a)):a=T}}const c=a;let f;if(a.s===k0?f=a.v:(f=t.apply(null,arguments),s++),c.s=k0,r){const d=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;d!=null&&r(d,f)&&(f=d,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new ZN(f):f}return c.v=f,f}return o.clearCache=()=>{n=xu(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function S1(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),qN(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...n,...u},{memoize:p,memoizeOptions:d=[],argsMemoize:y=tl,argsMemoizeOptions:E=[],devModeChecks:k={}}=f,T=A0(d),A=A0(E),v=YN(i),g=p(function(){return s++,c.apply(null,arguments)},...T),S=y(function(){o++;const D=XN(v,arguments);return a=g.apply(null,D),a},...A);return Object.assign(S,{resultFunc:c,memoizedResultFunc:g,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Ng=S1(tl),tP=Object.assign((t,e=Ng)=>{KN(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>tP});function C1(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var nP=C1(),rP=C1,iP=(...t)=>{const e=S1(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Mn(o)?_1(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};iP(tl);var sP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lc:Lc.apply(null,arguments)},oP=t=>t&&typeof t.match=="function";function Ot(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(_t(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>p1(r)&&r.type===t,n}var A1=class da extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,da.prototype)}static get[Symbol.species](){return da}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new da(...e[0].concat(this)):new da(...e.concat(this))}};function T0(t){return jn(t)?bl(t,()=>{}):t}function I0(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(_t(10));const r=n.insert(e,t);return t.set(e,r),r}function aP(t){return typeof t=="boolean"}var lP=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new A1;return n&&(aP(n)?o.push(nP):o.push(rP(n.extraArgument))),o},Fs="RTK_autoBatch",ea=()=>t=>({payload:t,meta:{[Fs]:!0}}),k1=t=>e=>{setTimeout(e,t)},uP=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:k1(10),cP=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?uP:t.type==="callback"?t.queueNotification:k1(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),d=r.subscribe(p);return a.add(f),()=>{d(),a.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[Fs]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(f)}finally{i=!0}}})},dP=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new A1(t);return r&&i.push(cP(typeof r=="object"?r:void 0)),i},hP=!0;function fP(t){const e=lP(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Xn(n))a=f1(n);else throw new Error(_t(1));let u;typeof r=="function"?u=r(e):u=e();let c=Lc;i&&(c=sP({trace:!hP,...typeof i=="object"&&i}));const f=LN(...u),p=dP(f);let d=typeof o=="function"?o(p):p();const y=c(...d);return h1(a,s,y)}function T1(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(_t(28));if(a in e)throw new Error(_t(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function pP(t){return typeof t=="function"}function mP(t,e){let[n,r,i]=T1(e),s;if(pP(t))s=()=>T0(t());else{const a=T0(t);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,p)=>{if(p)if(Mn(f)){const y=p(f,u);return y===void 0?f:y}else{if(jn(f))return bl(f,d=>p(d,u));{const d=p(f,u);if(d===void 0){if(f===null)return f;throw new Error(_t(9))}return d}}return f},a)}return o.getInitialState=s,o}var gP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Pg=(t=21)=>{let e="",n=t;for(;n--;)e+=gP[Math.random()*64|0];return e},I1=(t,e)=>oP(t)?t.match(e):t(e);function Sr(...t){return e=>t.some(n=>I1(n,e))}function ka(...t){return e=>t.every(n=>I1(n,e))}function Ud(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function Nl(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Og(...t){return t.length===0?e=>Ud(e,["pending"]):Nl(t)?e=>{const n=t.map(i=>i.pending);return Sr(...n)(e)}:Og()(t[0])}function ao(...t){return t.length===0?e=>Ud(e,["rejected"]):Nl(t)?e=>{const n=t.map(i=>i.rejected);return Sr(...n)(e)}:ao()(t[0])}function Bd(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?n=>ka(ao(...t),e)(n):Nl(t)?n=>ka(ao(...t),e)(n):Bd()(t[0])}function hi(...t){return t.length===0?e=>Ud(e,["fulfilled"]):Nl(t)?e=>{const n=t.map(i=>i.fulfilled);return Sr(...n)(e)}:hi()(t[0])}function Kp(...t){return t.length===0?e=>Ud(e,["pending","fulfilled","rejected"]):Nl(t)?e=>{const n=[];for(const i of t)n.push(i.pending,i.rejected,i.fulfilled);return Sr(...n)(e)}:Kp()(t[0])}var yP=["name","message","stack","code"],vf=class{constructor(t,e){Uh(this,"_type");this.payload=t,this.meta=e}},x0=class{constructor(t,e){Uh(this,"_type");this.payload=t,this.meta=e}},vP=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of yP)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},R0=(()=>{function t(e,n,r){const i=Ot(e+"/fulfilled",(u,c,f,p)=>({payload:u,meta:{...p||{},arg:f,requestId:c,requestStatus:"fulfilled"}})),s=Ot(e+"/pending",(u,c,f)=>({payload:void 0,meta:{...f||{},arg:c,requestId:u,requestStatus:"pending"}})),o=Ot(e+"/rejected",(u,c,f,p,d)=>({payload:p,error:(r&&r.serializeError||vP)(u||"Rejected"),meta:{...d||{},arg:f,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u){return(c,f,p)=>{const d=r!=null&&r.idGenerator?r.idGenerator(u):Pg(),y=new AbortController;let E,k;function T(v){k=v,y.abort()}const A=async function(){var S,N;let v;try{let D=(S=r==null?void 0:r.condition)==null?void 0:S.call(r,u,{getState:f,extra:p});if(wP(D)&&(D=await D),D===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((w,I)=>{E=()=>{I({name:"AbortError",message:k||"Aborted"})},y.signal.addEventListener("abort",E)});c(s(d,u,(N=r==null?void 0:r.getPendingMeta)==null?void 0:N.call(r,{requestId:d,arg:u},{getState:f,extra:p}))),v=await Promise.race([C,Promise.resolve(n(u,{dispatch:c,getState:f,extra:p,requestId:d,signal:y.signal,abort:T,rejectWithValue:(w,I)=>new vf(w,I),fulfillWithValue:(w,I)=>new x0(w,I)})).then(w=>{if(w instanceof vf)throw w;return w instanceof x0?i(w.payload,d,u,w.meta):i(w,d,u)})])}catch(D){v=D instanceof vf?o(null,d,u,D.payload,D.meta):o(D,d,u)}finally{E&&y.signal.removeEventListener("abort",E)}return r&&!r.dispatchConditionRejection&&o.match(v)&&v.meta.condition||c(v),v}();return Object.assign(A,{abort:T,requestId:d,arg:u,unwrap(){return A.then(_P)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:Sr(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function _P(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function wP(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var EP=Symbol.for("rtk-slice-createasyncthunk");function SP(t,e){return`${t}/${e}`}function CP({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[EP];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(_t(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(kP()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(g,S){const N=typeof g=="string"?g:g.type;if(!N)throw new Error(_t(12));if(N in c.sliceCaseReducersByType)throw new Error(_t(13));return c.sliceCaseReducersByType[N]=S,f},addMatcher(g,S){return c.sliceMatchers.push({matcher:g,reducer:S}),f},exposeAction(g,S){return c.actionCreators[g]=S,f},exposeCaseReducer(g,S){return c.sliceCaseReducersByName[g]=S,f}};u.forEach(g=>{const S=a[g],N={reducerName:g,type:SP(s,g),createNotation:typeof i.reducers=="function"};IP(S)?RP(N,S,f,e):TP(N,S,f)});function p(){const[g={},S=[],N=void 0]=typeof i.extraReducers=="function"?T1(i.extraReducers):[i.extraReducers],D={...g,...c.sliceCaseReducersByType};return mP(i.initialState,C=>{for(let w in D)C.addCase(w,D[w]);for(let w of c.sliceMatchers)C.addMatcher(w.matcher,w.reducer);for(let w of S)C.addMatcher(w.matcher,w.reducer);N&&C.addDefaultCase(N)})}const d=g=>g,y=new Map;let E;function k(g,S){return E||(E=p()),E(g,S)}function T(){return E||(E=p()),E.getInitialState()}function A(g,S=!1){function N(C){let w=C[g];return typeof w>"u"&&S&&(w=T()),w}function D(C=d){const w=I0(y,S,{insert:()=>new WeakMap});return I0(w,C,{insert:()=>{const I={};for(const[x,O]of Object.entries(i.selectors??{}))I[x]=AP(O,C,T,S);return I}})}return{reducerPath:g,getSelectors:D,get selectors(){return D(N)},selectSlice:N}}const v={name:s,reducer:k,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:T,...A(o),injectInto(g,{reducerPath:S,...N}={}){const D=S??o;return g.inject({reducerPath:D,reducer:k},N),{...v,...A(D,!0)}}};return v}}function AP(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var it=CP();function kP(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function TP({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!xP(r))throw new Error(_t(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Ot(t,o):Ot(t))}function IP(t){return t._reducerDefinitionType==="asyncThunk"}function xP(t){return t._reducerDefinitionType==="reducerWithPrepare"}function RP({type:t,reducerName:e},n,r,i){if(!i)throw new Error(_t(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:f}=n,p=i(t,s,f);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),a&&r.addCase(p.pending,a),u&&r.addCase(p.rejected,u),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Ru,pending:a||Ru,rejected:u||Ru,settled:c||Ru})}function Ru(){}var bP=(t,e)=>{if(typeof t!="function")throw new Error(_t(32))},Dg="listenerMiddleware",NP=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ot(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_t(21));return bP(s),{predicate:i,type:e,effect:s}},PP=Object.assign(t=>{const{type:e,predicate:n,effect:r}=NP(t);return{id:Pg(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_t(22))}}},{withTypes:()=>PP}),OP=Object.assign(Ot(`${Dg}/add`),{withTypes:()=>OP});Ot(`${Dg}/removeAll`);var DP=Object.assign(Ot(`${Dg}/remove`),{withTypes:()=>DP});function _t(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const x1=it({name:"search",initialState:{search:[]},reducers:{addSearch:(t,e)=>{t.search.push(e.payload)}}}),{addSearch:Lg}=x1.actions,LP=x1.reducer;var R1=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(R1||{});function MP(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}function jP(t){return new RegExp("(^|:)//").test(t)}var FP=t=>t.replace(/\/$/,""),UP=t=>t.replace(/^\//,"");function BP(t,e){if(!t)return e;if(!e)return t;if(jP(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=FP(t),e=UP(e),`${t}${n}${e}`}var b0=t=>[].concat(...t);function zP(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function VP(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var N0=Xn;function b1(t,e){if(t===e||!(N0(t)&&N0(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let i=n.length===r.length;const s=Array.isArray(e)?[]:{};for(const o of n)s[o]=b1(t[o],e[o]),i&&(i=t[o]===s[o]);return i?t:s}var P0=(...t)=>fetch(...t),WP=t=>t.status>=200&&t.status<=299,HP=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function O0(t){if(!Xn(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}function Mg({baseUrl:t,prepareHeaders:e=p=>p,fetchFn:n=P0,paramsSerializer:r,isJsonContentType:i=HP,jsonContentType:s="application/json",jsonReplacer:o,timeout:a,responseHandler:u,validateStatus:c,...f}={}){return typeof fetch>"u"&&n===P0&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(d,y)=>{const{signal:E,getState:k,extra:T,endpoint:A,forced:v,type:g}=y;let S,{url:N,headers:D=new Headers(f.headers),params:C=void 0,responseHandler:w=u??"json",validateStatus:I=c??WP,timeout:x=a,...O}=typeof d=="string"?{url:d}:d,L={...f,signal:E,...O};D=new Headers(O0(D)),L.headers=await e(D,{getState:k,extra:T,endpoint:A,forced:v,type:g})||D;const R=G=>typeof G=="object"&&(Xn(G)||Array.isArray(G)||typeof G.toJSON=="function");if(!L.headers.has("content-type")&&R(L.body)&&L.headers.set("content-type",s),R(L.body)&&i(L.headers)&&(L.body=JSON.stringify(L.body,o)),C){const G=~N.indexOf("?")?"&":"?",W=r?r(C):new URLSearchParams(O0(C));N+=G+W}N=BP(t,N);const U=new Request(N,L);S={request:new Request(N,L)};let Q,te=!1,F=x&&setTimeout(()=>{te=!0,y.abort()},x);try{Q=await n(U)}catch(G){return{error:{status:te?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(G)},meta:S}}finally{F&&clearTimeout(F)}const $=Q.clone();S.response=$;let V,Y="";try{let G;if(await Promise.all([p(Q,w).then(W=>V=W,W=>G=W),$.text().then(W=>Y=W,()=>{})]),G)throw G}catch(G){return{error:{status:"PARSING_ERROR",originalStatus:Q.status,data:Y,error:String(G)},meta:S}}return I(Q,V)?{data:V,meta:S}:{error:{status:Q.status,data:V},meta:S}};async function p(d,y){if(typeof y=="function")return y(d);if(y==="content-type"&&(y=i(d.headers)?"json":"text"),y==="json"){const E=await d.text();return E.length?JSON.parse(E):null}return d.text()}}var D0=class{constructor(t,e=void 0){this.value=t,this.meta=e}},nl=Ot("__rtkq/focused"),Fc=Ot("__rtkq/unfocused"),rl=Ot("__rtkq/online"),Uc=Ot("__rtkq/offline"),_f=!1;function $P(t,e){function n(){const r=()=>t(nl()),i=()=>t(Fc()),s=()=>t(rl()),o=()=>t(Uc()),a=()=>{window.document.visibilityState==="visible"?r():i()};return _f||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),_f=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",a),window.removeEventListener("online",s),window.removeEventListener("offline",o),_f=!1}}return e?e(t,{onFocus:nl,onFocusLost:Fc,onOffline:Uc,onOnline:rl}):n()}function N1(t){return t.type==="query"}function QP(t){return t.type==="mutation"}function jg(t,e,n,r,i,s){return qP(t)?t(e,n,r,i).map(Gp).map(s):Array.isArray(t)?t.map(Gp).map(s):[]}function qP(t){return typeof t=="function"}function Gp(t){return typeof t=="string"?{type:t}:t}function L0(t){return t!=null}function Qs(t){let e=0;for(const n in t)e++;return e}function KP(t,e){return t.catch(e)}var il=Symbol("forceQueryFn"),Yp=t=>typeof t[il]=="function";function GP({serializeQueryArgs:t,queryThunk:e,mutationThunk:n,api:r,context:i}){const s=new Map,o=new Map,{unsubscribeQueryResult:a,removeMutationResult:u,updateSubscriptionOptions:c}=r.internalActions;return{buildInitiateQuery:E,buildInitiateMutation:k,getRunningQueryThunk:f,getRunningMutationThunk:p,getRunningQueriesThunk:d,getRunningMutationsThunk:y};function f(T,A){return v=>{var N;const g=i.endpointDefinitions[T],S=t({queryArgs:A,endpointDefinition:g,endpointName:T});return(N=s.get(v))==null?void 0:N[S]}}function p(T,A){return v=>{var g;return(g=o.get(v))==null?void 0:g[A]}}function d(){return T=>Object.values(s.get(T)||{}).filter(L0)}function y(){return T=>Object.values(o.get(T)||{}).filter(L0)}function E(T,A){const v=(g,{subscribe:S=!0,forceRefetch:N,subscriptionOptions:D,[il]:C,...w}={})=>(I,x)=>{var G;const O=t({queryArgs:g,endpointDefinition:A,endpointName:T}),L=e({...w,type:"query",subscribe:S,forceRefetch:N,subscriptionOptions:D,endpointName:T,originalArgs:g,queryCacheKey:O,[il]:C}),R=r.endpoints[T].select(g),U=I(L),K=R(x()),{requestId:Q,abort:te}=U,F=K.requestId!==Q,$=(G=s.get(I))==null?void 0:G[O],V=()=>R(x()),Y=Object.assign(C?U.then(V):F&&!$?Promise.resolve(K):Promise.all([$,U]).then(V),{arg:g,requestId:Q,subscriptionOptions:D,queryCacheKey:O,abort:te,async unwrap(){const W=await Y;if(W.isError)throw W.error;return W.data},refetch:()=>I(v(g,{subscribe:!1,forceRefetch:!0})),unsubscribe(){S&&I(a({queryCacheKey:O,requestId:Q}))},updateSubscriptionOptions(W){Y.subscriptionOptions=W,I(c({endpointName:T,requestId:Q,queryCacheKey:O,options:W}))}});if(!$&&!F&&!C){const W=s.get(I)||{};W[O]=Y,s.set(I,W),Y.then(()=>{delete W[O],Qs(W)||s.delete(I)})}return Y};return v}function k(T){return(A,{track:v=!0,fixedCacheKey:g}={})=>(S,N)=>{const D=n({type:"mutation",endpointName:T,originalArgs:A,track:v,fixedCacheKey:g}),C=S(D),{requestId:w,abort:I,unwrap:x}=C,O=KP(C.unwrap().then(K=>({data:K})),K=>({error:K})),L=()=>{S(u({requestId:w,fixedCacheKey:g}))},R=Object.assign(O,{arg:C.arg,requestId:w,abort:I,unwrap:x,reset:L}),U=o.get(S)||{};return o.set(S,U),U[w]=R,R.then(()=>{delete U[w],Qs(U)||o.delete(S)}),g&&(U[g]=R,R.then(()=>{U[g]===R&&(delete U[g],Qs(U)||o.delete(S))})),R}}}function M0(t){return t}function YP({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:s}){const o=(v,g,S,N)=>(D,C)=>{const w=n[v],I=r({queryArgs:g,endpointDefinition:w,endpointName:v});if(D(i.internalActions.queryResultPatched({queryCacheKey:I,patches:S})),!N)return;const x=i.endpoints[v].select(g)(C()),O=jg(w.providesTags,x.data,void 0,g,{},s);D(i.internalActions.updateProvidedBy({queryCacheKey:I,providedTags:O}))},a=(v,g,S,N=!0)=>(D,C)=>{const I=i.endpoints[v].select(g)(C());let x={patches:[],inversePatches:[],undo:()=>D(i.util.patchQueryData(v,g,x.inversePatches,N))};if(I.status==="uninitialized")return x;let O;if("data"in I)if(jn(I.data)){const[L,R,U]=E1(I.data,S);x.patches.push(...R),x.inversePatches.push(...U),O=L}else O=S(I.data),x.patches.push({op:"replace",path:[],value:O}),x.inversePatches.push({op:"replace",path:[],value:I.data});return x.patches.length===0||D(i.util.patchQueryData(v,g,x.patches,N)),x},u=(v,g,S)=>N=>N(i.endpoints[v].initiate(g,{subscribe:!1,forceRefetch:!0,[il]:()=>({data:S})})),c=async(v,{signal:g,abort:S,rejectWithValue:N,fulfillWithValue:D,dispatch:C,getState:w,extra:I})=>{const x=n[v.endpointName];try{let O=M0,L;const R={signal:g,abort:S,dispatch:C,getState:w,extra:I,endpoint:v.endpointName,type:v.type,forced:v.type==="query"?f(v,w()):void 0},U=v.type==="query"?v[il]:void 0;if(U?L=U():x.query?(L=await e(x.query(v.originalArgs),R,x.extraOptions),x.transformResponse&&(O=x.transformResponse)):L=await x.queryFn(v.originalArgs,R,x.extraOptions,K=>e(K,R,x.extraOptions)),typeof process<"u",L.error)throw new D0(L.error,L.meta);return D(await O(L.data,L.meta,v.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:L.meta,[Fs]:!0})}catch(O){let L=O;if(L instanceof D0){let R=M0;x.query&&x.transformErrorResponse&&(R=x.transformErrorResponse);try{return N(await R(L.value,L.meta,v.originalArgs),{baseQueryMeta:L.meta,[Fs]:!0})}catch(U){L=U}}throw typeof process<"u",console.error(L),L}};function f(v,g){var w,I,x;const S=(I=(w=g[t])==null?void 0:w.queries)==null?void 0:I[v.queryCacheKey],N=(x=g[t])==null?void 0:x.config.refetchOnMountOrArgChange,D=S==null?void 0:S.fulfilledTimeStamp,C=v.forceRefetch??(v.subscribe&&N);return C?C===!0||(Number(new Date)-Number(D))/1e3>=C:!1}const p=R0(`${t}/executeQuery`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Fs]:!0}},condition(v,{getState:g}){var x,O,L;const S=g(),N=(O=(x=S[t])==null?void 0:x.queries)==null?void 0:O[v.queryCacheKey],D=N==null?void 0:N.fulfilledTimeStamp,C=v.originalArgs,w=N==null?void 0:N.originalArgs,I=n[v.endpointName];return Yp(v)?!0:(N==null?void 0:N.status)==="pending"?!1:f(v,S)||N1(I)&&((L=I==null?void 0:I.forceRefetch)!=null&&L.call(I,{currentArg:C,previousArg:w,endpointState:N,state:S}))?!0:!D},dispatchConditionRejection:!0}),d=R0(`${t}/executeMutation`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Fs]:!0}}}),y=v=>"force"in v,E=v=>"ifOlderThan"in v,k=(v,g,S)=>(N,D)=>{const C=y(S)&&S.force,w=E(S)&&S.ifOlderThan,I=(O=!0)=>{const L={forceRefetch:O,isPrefetch:!0};return i.endpoints[v].initiate(g,L)},x=i.endpoints[v].select(g)(D());if(C)N(I());else if(w){const O=x==null?void 0:x.fulfilledTimeStamp;if(!O){N(I());return}(Number(new Date)-Number(new Date(O)))/1e3>=w&&N(I())}else N(I(!1))};function T(v){return g=>{var S,N;return((N=(S=g==null?void 0:g.meta)==null?void 0:S.arg)==null?void 0:N.endpointName)===v}}function A(v,g){return{matchPending:ka(Og(v),T(g)),matchFulfilled:ka(hi(v),T(g)),matchRejected:ka(ao(v),T(g))}}return{queryThunk:p,mutationThunk:d,prefetch:k,updateQueryData:a,upsertQueryData:u,patchQueryData:o,buildMatchThunkActions:A}}function P1(t,e,n,r){return jg(n[t.meta.arg.endpointName][e],hi(t)?t.payload:void 0,Bd(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function bu(t,e,n){const r=t[e];r&&n(r)}function sl(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function j0(t,e,n){const r=t[sl(e)];r&&n(r)}var ta={};function XP({reducerPath:t,queryThunk:e,mutationThunk:n,context:{endpointDefinitions:r,apiUid:i,extractRehydrationInfo:s,hasRehydrationInfo:o},assertTagType:a,config:u}){const c=Ot(`${t}/resetApiState`),f=it({name:`${t}/queries`,initialState:ta,reducers:{removeQueryResult:{reducer(g,{payload:{queryCacheKey:S}}){delete g[S]},prepare:ea()},queryResultPatched:{reducer(g,{payload:{queryCacheKey:S,patches:N}}){bu(g,S,D=>{D.data=C0(D.data,N.concat())})},prepare:ea()}},extraReducers(g){g.addCase(e.pending,(S,{meta:N,meta:{arg:D}})=>{var w;const C=Yp(D);S[w=D.queryCacheKey]??(S[w]={status:"uninitialized",endpointName:D.endpointName}),bu(S,D.queryCacheKey,I=>{I.status="pending",I.requestId=C&&I.requestId?I.requestId:N.requestId,D.originalArgs!==void 0&&(I.originalArgs=D.originalArgs),I.startedTimeStamp=N.startedTimeStamp})}).addCase(e.fulfilled,(S,{meta:N,payload:D})=>{bu(S,N.arg.queryCacheKey,C=>{if(C.requestId!==N.requestId&&!Yp(N.arg))return;const{merge:w}=r[N.arg.endpointName];if(C.status="fulfilled",w)if(C.data!==void 0){const{fulfilledTimeStamp:I,arg:x,baseQueryMeta:O,requestId:L}=N;let R=bl(C.data,U=>w(U,D,{arg:x.originalArgs,baseQueryMeta:O,fulfilledTimeStamp:I,requestId:L}));C.data=R}else C.data=D;else C.data=r[N.arg.endpointName].structuralSharing??!0?b1(Mn(C.data)?jN(C.data):C.data,D):D;delete C.error,C.fulfilledTimeStamp=N.fulfilledTimeStamp})}).addCase(e.rejected,(S,{meta:{condition:N,arg:D,requestId:C},error:w,payload:I})=>{bu(S,D.queryCacheKey,x=>{if(!N){if(x.requestId!==C)return;x.status="rejected",x.error=I??w}})}).addMatcher(o,(S,N)=>{const{queries:D}=s(N);for(const[C,w]of Object.entries(D))((w==null?void 0:w.status)==="fulfilled"||(w==null?void 0:w.status)==="rejected")&&(S[C]=w)})}}),p=it({name:`${t}/mutations`,initialState:ta,reducers:{removeMutationResult:{reducer(g,{payload:S}){const N=sl(S);N in g&&delete g[N]},prepare:ea()}},extraReducers(g){g.addCase(n.pending,(S,{meta:N,meta:{requestId:D,arg:C,startedTimeStamp:w}})=>{C.track&&(S[sl(N)]={requestId:D,status:"pending",endpointName:C.endpointName,startedTimeStamp:w})}).addCase(n.fulfilled,(S,{payload:N,meta:D})=>{D.arg.track&&j0(S,D,C=>{C.requestId===D.requestId&&(C.status="fulfilled",C.data=N,C.fulfilledTimeStamp=D.fulfilledTimeStamp)})}).addCase(n.rejected,(S,{payload:N,error:D,meta:C})=>{C.arg.track&&j0(S,C,w=>{w.requestId===C.requestId&&(w.status="rejected",w.error=N??D)})}).addMatcher(o,(S,N)=>{const{mutations:D}=s(N);for(const[C,w]of Object.entries(D))((w==null?void 0:w.status)==="fulfilled"||(w==null?void 0:w.status)==="rejected")&&C!==(w==null?void 0:w.requestId)&&(S[C]=w)})}}),d=it({name:`${t}/invalidation`,initialState:ta,reducers:{updateProvidedBy:{reducer(g,S){var C,w;const{queryCacheKey:N,providedTags:D}=S.payload;for(const I of Object.values(g))for(const x of Object.values(I)){const O=x.indexOf(N);O!==-1&&x.splice(O,1)}for(const{type:I,id:x}of D){const O=(C=g[I]??(g[I]={}))[w=x||"__internal_without_id"]??(C[w]=[]);O.includes(N)||O.push(N)}},prepare:ea()}},extraReducers(g){g.addCase(f.actions.removeQueryResult,(S,{payload:{queryCacheKey:N}})=>{for(const D of Object.values(S))for(const C of Object.values(D)){const w=C.indexOf(N);w!==-1&&C.splice(w,1)}}).addMatcher(o,(S,N)=>{var C,w;const{provided:D}=s(N);for(const[I,x]of Object.entries(D))for(const[O,L]of Object.entries(x)){const R=(C=S[I]??(S[I]={}))[w=O||"__internal_without_id"]??(C[w]=[]);for(const U of L)R.includes(U)||R.push(U)}}).addMatcher(Sr(hi(e),Bd(e)),(S,N)=>{const D=P1(N,"providesTags",r,a),{queryCacheKey:C}=N.meta.arg;d.caseReducers.updateProvidedBy(S,d.actions.updateProvidedBy({queryCacheKey:C,providedTags:D}))})}}),y=it({name:`${t}/subscriptions`,initialState:ta,reducers:{updateSubscriptionOptions(g,S){},unsubscribeQueryResult(g,S){},internal_getRTKQSubscriptions(){}}}),E=it({name:`${t}/internalSubscriptions`,initialState:ta,reducers:{subscriptionsUpdated:{reducer(g,S){return C0(g,S.payload)},prepare:ea()}}}),k=it({name:`${t}/config`,initialState:{online:zP(),focused:VP(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(g,{payload:S}){g.middlewareRegistered=g.middlewareRegistered==="conflict"||i!==S?"conflict":!0}},extraReducers:g=>{g.addCase(rl,S=>{S.online=!0}).addCase(Uc,S=>{S.online=!1}).addCase(nl,S=>{S.focused=!0}).addCase(Fc,S=>{S.focused=!1}).addMatcher(o,S=>({...S}))}}),T=f1({queries:f.reducer,mutations:p.reducer,provided:d.reducer,subscriptions:E.reducer,config:k.reducer}),A=(g,S)=>T(c.match(S)?void 0:g,S),v={...k.actions,...f.actions,...y.actions,...E.actions,...p.actions,...d.actions,resetApiState:c};return{reducer:A,actions:v}}var Fi=Symbol.for("RTKQ/skipToken"),O1={status:"uninitialized"},F0=bl(O1,()=>{}),U0=bl(O1,()=>{});function JP({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=p=>F0,i=p=>U0;return{buildQuerySelector:a,buildMutationSelector:u,selectInvalidatedBy:c,selectCachedArgsForQuery:f};function s(p){return{...p,...MP(p.status)}}function o(p){return p[e]}function a(p,d){return y=>{const E=t({queryArgs:y,endpointDefinition:d,endpointName:p});return n(y===Fi?r:A=>{var v,g;return((g=(v=o(A))==null?void 0:v.queries)==null?void 0:g[E])??F0},s)}}function u(){return p=>{let d;return typeof p=="object"?d=sl(p)??Fi:d=p,n(d===Fi?i:k=>{var T,A;return((A=(T=o(k))==null?void 0:T.mutations)==null?void 0:A[d])??U0},s)}}function c(p,d){const y=p[e],E=new Set;for(const k of d.map(Gp)){const T=y.provided[k.type];if(!T)continue;let A=(k.id!==void 0?T[k.id]:b0(Object.values(T)))??[];for(const v of A)E.add(v)}return b0(Array.from(E.values()).map(k=>{const T=y.queries[k];return T?[{queryCacheKey:k,endpointName:T.endpointName,originalArgs:T.originalArgs}]:[]}))}function f(p,d){return Object.values(p[e].queries).filter(y=>(y==null?void 0:y.endpointName)===d&&y.status!=="uninitialized").map(y=>y.originalArgs)}}var Ss=WeakMap?new WeakMap:void 0,B0=({endpointName:t,queryArgs:e})=>{let n="";const r=Ss==null?void 0:Ss.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,o)=>Xn(o)?Object.keys(o).sort().reduce((a,u)=>(a[u]=o[u],a),{}):o);Xn(e)&&(Ss==null||Ss.set(e,i)),n=i}return`${t}(${n})`};function ZP(...t){return function(n){const r=tl(c=>{var f;return(f=n.extractRehydrationInfo)==null?void 0:f.call(n,c,{reducerPath:n.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(c){let f=B0;if("serializeQueryArgs"in c.endpointDefinition){const p=c.endpointDefinition.serializeQueryArgs;f=d=>{const y=p(d);return typeof y=="string"?y:B0({...d,queryArgs:y})}}else n.serializeQueryArgs&&(f=n.serializeQueryArgs);return f(c)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(c){c()},apiUid:Pg(),extractRehydrationInfo:r,hasRehydrationInfo:tl(c=>r(c)!=null)},o={injectEndpoints:u,enhanceEndpoints({addTagTypes:c,endpoints:f}){if(c)for(const p of c)i.tagTypes.includes(p)||i.tagTypes.push(p);if(f)for(const[p,d]of Object.entries(f))typeof d=="function"?d(s.endpointDefinitions[p]):Object.assign(s.endpointDefinitions[p]||{},d);return o}},a=t.map(c=>c.init(o,i,s));function u(c){const f=c.endpoints({query:p=>({...p,type:"query"}),mutation:p=>({...p,type:"mutation"})});for(const[p,d]of Object.entries(f)){if(c.overrideExisting!==!0&&p in s.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(_t(39));typeof process<"u";continue}s.endpointDefinitions[p]=d;for(const y of a)y.injectEndpoint(p,d)}return o}return o.injectEndpoints({endpoints:n.endpoints})}}function eO(t){for(let e in t)return!1;return!0}var tO=2147483647/1e3-1,nO=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:o}=e.internalActions,a=Sr(o.match,n.fulfilled,n.rejected);function u(d){const y=i.currentSubscriptions[d];return!!y&&!eO(y)}const c={},f=(d,y,E)=>{var k;if(a(d)){const T=y.getState()[t],{queryCacheKey:A}=o.match(d)?d.payload:d.meta.arg;p(A,(k=T.queries[A])==null?void 0:k.endpointName,y,T.config)}if(e.util.resetApiState.match(d))for(const[T,A]of Object.entries(c))A&&clearTimeout(A),delete c[T];if(r.hasRehydrationInfo(d)){const T=y.getState()[t],{queries:A}=r.extractRehydrationInfo(d);for(const[v,g]of Object.entries(A))p(v,g==null?void 0:g.endpointName,y,T.config)}};function p(d,y,E,k){const T=r.endpointDefinitions[y],A=(T==null?void 0:T.keepUnusedDataFor)??k.keepUnusedDataFor;if(A===1/0)return;const v=Math.max(0,Math.min(A,tO));if(!u(d)){const g=c[d];g&&clearTimeout(g),c[d]=setTimeout(()=>{u(d)||E.dispatch(s({queryCacheKey:d})),delete c[d]},v*1e3)}}return f},rO=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:u})=>{const{removeQueryResult:c}=s.internalActions,f=Sr(hi(r),Bd(r)),p=Sr(hi(r,i),ao(r,i));let d=[];const y=(T,A)=>{f(T)?k(P1(T,"invalidatesTags",n,o),A):p(T)?k([],A):s.util.invalidateTags.match(T)&&k(jg(T.payload,void 0,void 0,void 0,void 0,o),A)};function E(T){var A,v;for(const g in T.queries)if(((A=T.queries[g])==null?void 0:A.status)==="pending")return!0;for(const g in T.mutations)if(((v=T.mutations[g])==null?void 0:v.status)==="pending")return!0;return!1}function k(T,A){const v=A.getState(),g=v[t];if(d.push(...T),g.config.invalidationBehavior==="delayed"&&E(g))return;const S=d;if(d=[],S.length===0)return;const N=s.util.selectInvalidatedBy(v,S);e.batch(()=>{const D=Array.from(N.values());for(const{queryCacheKey:C}of D){const w=g.queries[C],I=u.currentSubscriptions[C]??{};w&&(Qs(I)===0?A.dispatch(c({queryCacheKey:C})):w.status!=="uninitialized"&&A.dispatch(a(w,C)))}})}return y},iO=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:i})=>{const s={},o=(d,y)=>{(n.internalActions.updateSubscriptionOptions.match(d)||n.internalActions.unsubscribeQueryResult.match(d))&&u(d.payload,y),(e.pending.match(d)||e.rejected.match(d)&&d.meta.condition)&&u(d.meta.arg,y),(e.fulfilled.match(d)||e.rejected.match(d)&&!d.meta.condition)&&a(d.meta.arg,y),n.util.resetApiState.match(d)&&f()};function a({queryCacheKey:d},y){const E=y.getState()[t],k=E.queries[d],T=i.currentSubscriptions[d];if(!k||k.status==="uninitialized")return;const{lowestPollingInterval:A,skipPollingIfUnfocused:v}=p(T);if(!Number.isFinite(A))return;const g=s[d];g!=null&&g.timeout&&(clearTimeout(g.timeout),g.timeout=void 0);const S=Date.now()+A;s[d]={nextPollTimestamp:S,pollingInterval:A,timeout:setTimeout(()=>{(E.config.focused||!v)&&y.dispatch(r(k,d)),a({queryCacheKey:d},y)},A)}}function u({queryCacheKey:d},y){const k=y.getState()[t].queries[d],T=i.currentSubscriptions[d];if(!k||k.status==="uninitialized")return;const{lowestPollingInterval:A}=p(T);if(!Number.isFinite(A)){c(d);return}const v=s[d],g=Date.now()+A;(!v||g<v.nextPollTimestamp)&&a({queryCacheKey:d},y)}function c(d){const y=s[d];y!=null&&y.timeout&&clearTimeout(y.timeout),delete s[d]}function f(){for(const d of Object.keys(s))c(d)}function p(d={}){let y=!1,E=Number.POSITIVE_INFINITY;for(let k in d)d[k].pollingInterval&&(E=Math.min(d[k].pollingInterval,E),y=d[k].skipPollingIfUnfocused||y);return{lowestPollingInterval:E,skipPollingIfUnfocused:y}}return o},sO=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=n.internalActions,o=(u,c)=>{nl.match(u)&&a(c,"refetchOnFocus"),rl.match(u)&&a(c,"refetchOnReconnect")};function a(u,c){const f=u.getState()[t],p=f.queries,d=i.currentSubscriptions;e.batch(()=>{for(const y of Object.keys(d)){const E=p[y],k=d[y];if(!k||!E)continue;(Object.values(k).some(A=>A[c]===!0)||Object.values(k).every(A=>A[c]===void 0)&&f.config[c])&&(Qs(k)===0?u.dispatch(s({queryCacheKey:y})):E.status!=="uninitialized"&&u.dispatch(r(E,y)))}})}return o},z0=new Error("Promise never resolved before cacheEntryRemoved."),oO=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:i,internalState:s})=>{const o=Kp(r),a=Kp(i),u=hi(r,i),c={},f=(y,E,k)=>{const T=p(y);if(r.pending.match(y)){const A=k[e].queries[T],v=E.getState()[e].queries[T];!A&&v&&d(y.meta.arg.endpointName,y.meta.arg.originalArgs,T,E,y.meta.requestId)}else if(i.pending.match(y))E.getState()[e].mutations[T]&&d(y.meta.arg.endpointName,y.meta.arg.originalArgs,T,E,y.meta.requestId);else if(u(y)){const A=c[T];A!=null&&A.valueResolved&&(A.valueResolved({data:y.payload,meta:y.meta.baseQueryMeta}),delete A.valueResolved)}else if(t.internalActions.removeQueryResult.match(y)||t.internalActions.removeMutationResult.match(y)){const A=c[T];A&&(delete c[T],A.cacheEntryRemoved())}else if(t.util.resetApiState.match(y))for(const[A,v]of Object.entries(c))delete c[A],v.cacheEntryRemoved()};function p(y){return o(y)?y.meta.arg.queryCacheKey:a(y)?y.meta.arg.fixedCacheKey??y.meta.requestId:t.internalActions.removeQueryResult.match(y)?y.payload.queryCacheKey:t.internalActions.removeMutationResult.match(y)?sl(y.payload):""}function d(y,E,k,T,A){const v=n.endpointDefinitions[y],g=v==null?void 0:v.onCacheEntryAdded;if(!g)return;let S={};const N=new Promise(O=>{S.cacheEntryRemoved=O}),D=Promise.race([new Promise(O=>{S.valueResolved=O}),N.then(()=>{throw z0})]);D.catch(()=>{}),c[k]=S;const C=t.endpoints[y].select(v.type==="query"?E:k),w=T.dispatch((O,L,R)=>R),I={...T,getCacheEntry:()=>C(T.getState()),requestId:A,extra:w,updateCachedData:v.type==="query"?O=>T.dispatch(t.util.updateQueryData(y,E,O)):void 0,cacheDataLoaded:D,cacheEntryRemoved:N},x=g(E,I);Promise.resolve(x).catch(O=>{if(O!==z0)throw O})}return f},aO=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const i=Og(n,r),s=ao(n,r),o=hi(n,r),a={};return(c,f)=>{var p,d;if(i(c)){const{requestId:y,arg:{endpointName:E,originalArgs:k}}=c.meta,T=e.endpointDefinitions[E],A=T==null?void 0:T.onQueryStarted;if(A){const v={},g=new Promise((C,w)=>{v.resolve=C,v.reject=w});g.catch(()=>{}),a[y]=v;const S=t.endpoints[E].select(T.type==="query"?k:y),N=f.dispatch((C,w,I)=>I),D={...f,getCacheEntry:()=>S(f.getState()),requestId:y,extra:N,updateCachedData:T.type==="query"?C=>f.dispatch(t.util.updateQueryData(E,k,C)):void 0,queryFulfilled:g};A(k,D)}}else if(o(c)){const{requestId:y,baseQueryMeta:E}=c.meta;(p=a[y])==null||p.resolve({data:c.payload,meta:E}),delete a[y]}else if(s(c)){const{requestId:y,rejectedWithValue:E,baseQueryMeta:k}=c.meta;(d=a[y])==null||d.reject({error:c.payload??c.error,isUnhandledError:!E,meta:k}),delete a[y]}}},lO=({api:t,context:{apiUid:e},reducerPath:n})=>(r,i)=>{t.util.resetApiState.match(r)&&i.dispatch(t.internalActions.middlewareRegistered(e)),typeof process<"u"},uO=({api:t,queryThunk:e,internalState:n})=>{const r=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=t.internalActions,u=(y,E)=>{var T,A,v;if(o.match(E)){const{queryCacheKey:g,requestId:S,options:N}=E.payload;return(T=y==null?void 0:y[g])!=null&&T[S]&&(y[g][S]=N),!0}if(a.match(E)){const{queryCacheKey:g,requestId:S}=E.payload;return y[g]&&delete y[g][S],!0}if(t.internalActions.removeQueryResult.match(E))return delete y[E.payload.queryCacheKey],!0;if(e.pending.match(E)){const{meta:{arg:g,requestId:S}}=E,N=y[A=g.queryCacheKey]??(y[A]={});return N[`${S}_running`]={},g.subscribe&&(N[S]=g.subscriptionOptions??N[S]??{}),!0}let k=!1;if(e.fulfilled.match(E)||e.rejected.match(E)){const g=y[E.meta.arg.queryCacheKey]||{},S=`${E.meta.requestId}_running`;k||(k=!!g[S]),delete g[S]}if(e.rejected.match(E)){const{meta:{condition:g,arg:S,requestId:N}}=E;if(g&&S.subscribe){const D=y[v=S.queryCacheKey]??(y[v]={});D[N]=S.subscriptionOptions??D[N]??{},k=!0}}return k},c=()=>n.currentSubscriptions,d={getSubscriptions:c,getSubscriptionCount:y=>{const k=c()[y]??{};return Qs(k)},isRequestSubscribed:(y,E)=>{var T;const k=c();return!!((T=k==null?void 0:k[y])!=null&&T[E])}};return(y,E)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(y))return i=n.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,d];const k=u(n.currentSubscriptions,y);let T=!0;if(k){s||(s=setTimeout(()=>{const g=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,S]=E1(i,()=>g);E.next(t.internalActions.subscriptionsUpdated(S)),i=g,s=null},500));const A=typeof y.type=="string"&&!!y.type.startsWith(r),v=e.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;T=!A&&!v}return[T,!1]}};function cO(t){const{reducerPath:e,queryThunk:n,api:r,context:i}=t,{apiUid:s}=i,o={invalidateTags:Ot(`${e}/invalidateTags`)},a=p=>p.type.startsWith(`${e}/`),u=[lO,nO,rO,iO,oO,aO];return{middleware:p=>{let d=!1;const E={...t,internalState:{currentSubscriptions:{}},refetchQuery:f,isThisApiSliceAction:a},k=u.map(v=>v(E)),T=uO(E),A=sO(E);return v=>g=>{if(!p1(g))return v(g);d||(d=!0,p.dispatch(r.internalActions.middlewareRegistered(s)));const S={...p,next:v},N=p.getState(),[D,C]=T(g,S,N);let w;if(D?w=v(g):w=C,p.getState()[e]&&(A(g,S,N),a(g)||i.hasRehydrationInfo(g)))for(let I of k)I(g,S,N);return w}},actions:o};function f(p,d,y={}){return n({type:"query",endpointName:p.endpointName,originalArgs:p.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:d,...y})}}function Or(t,...e){return Object.assign(t,...e)}var V0=Symbol(),dO=({createSelector:t=Ng}={})=>({name:V0,init(e,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:u,refetchOnReconnect:c,invalidationBehavior:f},p){QN();const d=F=>(typeof process<"u",F);Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:rl,onOffline:Uc,onFocus:nl,onFocusLost:Fc},util:{}});const{queryThunk:y,mutationThunk:E,patchQueryData:k,updateQueryData:T,upsertQueryData:A,prefetch:v,buildMatchThunkActions:g}=YP({baseQuery:n,reducerPath:i,context:p,api:e,serializeQueryArgs:s,assertTagType:d}),{reducer:S,actions:N}=XP({context:p,queryThunk:y,mutationThunk:E,reducerPath:i,assertTagType:d,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:f}});Or(e.util,{patchQueryData:k,updateQueryData:T,upsertQueryData:A,prefetch:v,resetApiState:N.resetApiState}),Or(e.internalActions,N);const{middleware:D,actions:C}=cO({reducerPath:i,context:p,queryThunk:y,mutationThunk:E,api:e,assertTagType:d});Or(e.util,C),Or(e,{reducer:S,middleware:D});const{buildQuerySelector:w,buildMutationSelector:I,selectInvalidatedBy:x,selectCachedArgsForQuery:O}=JP({serializeQueryArgs:s,reducerPath:i,createSelector:t});Or(e.util,{selectInvalidatedBy:x,selectCachedArgsForQuery:O});const{buildInitiateQuery:L,buildInitiateMutation:R,getRunningMutationThunk:U,getRunningMutationsThunk:K,getRunningQueriesThunk:Q,getRunningQueryThunk:te}=GP({queryThunk:y,mutationThunk:E,api:e,serializeQueryArgs:s,context:p});return Or(e.util,{getRunningMutationThunk:U,getRunningMutationsThunk:K,getRunningQueryThunk:te,getRunningQueriesThunk:Q}),{name:V0,injectEndpoint(F,$){var Y;const V=e;(Y=V.endpoints)[F]??(Y[F]={}),N1($)?Or(V.endpoints[F],{name:F,select:w(F,$),initiate:L(F,$)},g(y,F)):QP($)&&Or(V.endpoints[F],{name:F,select:I(),initiate:R(F)},g(E,F))}}}});function hO(t){return t.type==="query"}function fO(t){return t.type==="mutation"}function Nu(t,...e){return Object.assign(t,...e)}function wf(t){return t.replace(t[0],t[0].toUpperCase())}var Cs=WeakMap?new WeakMap:void 0,pO=({endpointName:t,queryArgs:e})=>{let n="";const r=Cs==null?void 0:Cs.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,o)=>Xn(o)?Object.keys(o).sort().reduce((a,u)=>(a[u]=o[u],a),{}):o);Xn(e)&&(Cs==null||Cs.set(e,i)),n=i}return`${t}(${n})`},Ef=Symbol();function W0(t,e,n,r){const i=P.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}),[t,e,n,r]),s=P.useRef(i);return P.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function Sf(t){const e=P.useRef(t);return P.useEffect(()=>{Ca(e.current,t)||(e.current=t)},[t]),Ca(e.current,t)?e.current:t}var mO=typeof window<"u"&&window.document&&window.document.createElement?P.useLayoutEffect:P.useEffect,gO=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:R1.pending}:t;function yO({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:u}){const c=s?E=>E():P.useEffect;return{buildQueryHooks:d,buildMutationHook:y,usePrefetch:p};function f(E,k,T){if(k!=null&&k.endpointName&&E.isUninitialized){const{endpointName:D}=k,C=u.endpointDefinitions[D];a({queryArgs:k.originalArgs,endpointDefinition:C,endpointName:D})===a({queryArgs:T,endpointDefinition:C,endpointName:D})&&(k=void 0)}let A=E.isSuccess?E.data:k==null?void 0:k.data;A===void 0&&(A=E.data);const v=A!==void 0,g=E.isLoading,S=!v&&g,N=E.isSuccess||g&&v;return{...E,data:A,currentData:E.data,isFetching:g,isLoading:S,isSuccess:N}}function p(E,k){const T=n(),A=Sf(k);return P.useCallback((v,g)=>T(t.util.prefetch(E,v,{...A,...g})),[E,T,A])}function d(E){const k=(v,{refetchOnReconnect:g,refetchOnFocus:S,refetchOnMountOrArgChange:N,skip:D=!1,pollingInterval:C=0,skipPollingIfUnfocused:w=!1}={})=>{const{initiate:I}=t.endpoints[E],x=n(),O=P.useRef();if(!O.current){const V=x(t.internalActions.internal_getRTKQSubscriptions());O.current=V}const L=W0(D?Fi:v,pO,u.endpointDefinitions[E],E),R=Sf({refetchOnReconnect:g,refetchOnFocus:S,pollingInterval:C,skipPollingIfUnfocused:w}),U=P.useRef(!1),K=P.useRef();let{queryCacheKey:Q,requestId:te}=K.current||{},F=!1;Q&&te&&(F=O.current.isRequestSubscribed(Q,te));const $=!F&&U.current;return c(()=>{U.current=F}),c(()=>{$&&(K.current=void 0)},[$]),c(()=>{var G;const V=K.current;if(typeof process<"u",L===Fi){V==null||V.unsubscribe(),K.current=void 0;return}const Y=(G=K.current)==null?void 0:G.subscriptionOptions;if(!V||V.arg!==L){V==null||V.unsubscribe();const W=x(I(L,{subscriptionOptions:R,forceRefetch:N}));K.current=W}else R!==Y&&V.updateSubscriptionOptions(R)},[x,I,N,L,R,$]),P.useEffect(()=>()=>{var V;(V=K.current)==null||V.unsubscribe(),K.current=void 0},[]),P.useMemo(()=>({refetch:()=>{var V;if(!K.current)throw new Error(_t(38));return(V=K.current)==null?void 0:V.refetch()}}),[])},T=({refetchOnReconnect:v,refetchOnFocus:g,pollingInterval:S=0,skipPollingIfUnfocused:N=!1}={})=>{const{initiate:D}=t.endpoints[E],C=n(),[w,I]=P.useState(Ef),x=P.useRef(),O=Sf({refetchOnReconnect:v,refetchOnFocus:g,pollingInterval:S,skipPollingIfUnfocused:N});c(()=>{var K,Q;const U=(K=x.current)==null?void 0:K.subscriptionOptions;O!==U&&((Q=x.current)==null||Q.updateSubscriptionOptions(O))},[O]);const L=P.useRef(O);c(()=>{L.current=O},[O]);const R=P.useCallback(function(U,K=!1){let Q;return e(()=>{var te;(te=x.current)==null||te.unsubscribe(),x.current=Q=C(D(U,{subscriptionOptions:L.current,forceRefetch:!K})),I(U)}),Q},[C,D]);return P.useEffect(()=>()=>{var U;(U=x==null?void 0:x.current)==null||U.unsubscribe()},[]),P.useEffect(()=>{w!==Ef&&!x.current&&R(w,!0)},[w,R]),P.useMemo(()=>[R,w],[R,w])},A=(v,{skip:g=!1,selectFromResult:S}={})=>{const{select:N}=t.endpoints[E],D=W0(g?Fi:v,a,u.endpointDefinitions[E],E),C=P.useRef(),w=P.useMemo(()=>o([N(D),(R,U)=>U,R=>D],f,{memoizeOptions:{resultEqualityCheck:Ca}}),[N,D]),I=P.useMemo(()=>S?o([w],S,{devModeChecks:{identityFunctionCheck:"never"}}):w,[w,S]),x=r(R=>I(R,C.current),Ca),O=i(),L=w(O.getState(),C.current);return mO(()=>{C.current=L},[L]),x};return{useQueryState:A,useQuerySubscription:k,useLazyQuerySubscription:T,useLazyQuery(v){const[g,S]=T(v),N=A(S,{...v,skip:S===Ef}),D=P.useMemo(()=>({lastArg:S}),[S]);return P.useMemo(()=>[g,N,D],[g,N,D])},useQuery(v,g){const S=k(v,g),N=A(v,{selectFromResult:v===Fi||g!=null&&g.skip?void 0:gO,...g}),{data:D,status:C,isLoading:w,isSuccess:I,isError:x,error:O}=N;return P.useDebugValue({data:D,status:C,isLoading:w,isSuccess:I,isError:x,error:O}),P.useMemo(()=>({...N,...S}),[N,S])}}}function y(E){return({selectFromResult:k,fixedCacheKey:T}={})=>{const{select:A,initiate:v}=t.endpoints[E],g=n(),[S,N]=P.useState();P.useEffect(()=>()=>{S!=null&&S.arg.fixedCacheKey||S==null||S.reset()},[S]);const D=P.useCallback(function(Y){const G=g(v(Y,{fixedCacheKey:T}));return N(G),G},[g,v,T]),{requestId:C}=S||{},w=P.useMemo(()=>A({fixedCacheKey:T,requestId:S==null?void 0:S.requestId}),[T,S,A]),I=P.useMemo(()=>k?o([w],k):w,[k,w]),x=r(I,Ca),O=T==null?S==null?void 0:S.arg.originalArgs:void 0,L=P.useCallback(()=>{e(()=>{S&&N(void 0),T&&g(t.internalActions.removeMutationResult({requestId:C,fixedCacheKey:T}))})},[g,T,S,C]),{endpointName:R,data:U,status:K,isLoading:Q,isSuccess:te,isError:F,error:$}=x;P.useDebugValue({endpointName:R,data:U,status:K,isLoading:Q,isSuccess:te,isError:F,error:$});const V=P.useMemo(()=>({...x,originalArgs:O,reset:L}),[x,O,L]);return P.useMemo(()=>[D,V],[D,V])}}}var vO=Symbol(),_O=({batch:t=NN,hooks:e={useDispatch:lt,useSelector:oe,useStore:d1},createSelector:n=Ng,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:vO,init(s,{serializeQueryArgs:o},a){const u=s,{buildQueryHooks:c,buildMutationHook:f,usePrefetch:p}=yO({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:o,context:a});return Nu(u,{usePrefetch:p}),Nu(a,{batch:t}),{injectEndpoint(d,y){if(hO(y)){const{useQuery:E,useLazyQuery:k,useLazyQuerySubscription:T,useQueryState:A,useQuerySubscription:v}=c(d);Nu(u.endpoints[d],{useQuery:E,useLazyQuery:k,useLazyQuerySubscription:T,useQueryState:A,useQuerySubscription:v}),s[`use${wf(d)}Query`]=E,s[`useLazy${wf(d)}Query`]=k}else if(fO(y)){const E=f(d);Nu(u.endpoints[d],{useMutation:E}),s[`use${wf(d)}Mutation`]=E}}}}}),Fg=ZP(dO(),_O());const Xu=Fg({reducerPath:"tracksApi",baseQuery:Mg({baseUrl:"https://api.jamendo.com/v3.0/"}),endpoints:t=>({getTrack:t.query({query:()=>({url:"tracks/",params:{client_id:"354e8ba5",format:"jsonpretty",limit:10,featured:1}})})})}),{useGetTrackQuery:D1}=Xu,L1=it({name:"history",initialState:{historyArray:[]},reducers:{addTrackToHistory:(t,e)=>{t.historyArray.push(e.payload)},clearHistory:t=>{t.historyArray=null}}}),{addTrackToHistory:lo,clearHistory:W9}=L1.actions,wO=L1.reducer;function EO({track:t}){const e=lt();return m.jsx(i1,{to:`/player/${t.id}`,onClick:()=>{e(Lg(t)),e(lo(t))},children:m.jsxs("div",{className:"card",children:[m.jsx("div",{className:"card-img",children:m.jsx("img",{src:t.image,alt:"img"})}),m.jsx("div",{className:"card-title",children:m.jsx("p",{children:t.name})})]})})}const Jn="/assets/default-BxQV96rn.png",M1=it({name:"artist",initialState:{artistData:[]},reducers:{addArtistData:(t,e)=>{t.artistData=e.payload},clearArtistData:t=>{t.artistData=null}}}),{addArtistData:j1,clearArtistData:SO}=M1.actions,CO=M1.reducer;function AO({artist:t}){const[e,n]=P.useState(t.image);P.useEffect(()=>{t.image||n(Jn)},[t.image]);const r=lt(),i=()=>{r(j1(t))};return m.jsx(i1,{onClick:i,to:"/artist",children:m.jsxs("div",{className:"artistCard",children:[m.jsx("div",{className:"artistCard-img",children:m.jsx("img",{src:e,alt:"img"})}),m.jsx("div",{className:"artistCard-title",children:m.jsx("p",{children:t.name})})]})})}let Pu;const kO=new Uint8Array(16);function TO(){if(!Pu&&(Pu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pu(kO)}const tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).slice(1));function IO(t,e=0){return tt[t[e+0]]+tt[t[e+1]]+tt[t[e+2]]+tt[t[e+3]]+"-"+tt[t[e+4]]+tt[t[e+5]]+"-"+tt[t[e+6]]+tt[t[e+7]]+"-"+tt[t[e+8]]+tt[t[e+9]]+"-"+tt[t[e+10]]+tt[t[e+11]]+tt[t[e+12]]+tt[t[e+13]]+tt[t[e+14]]+tt[t[e+15]]}const xO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H0={randomUUID:xO};function Ju(t,e,n){if(H0.randomUUID&&!e&&!t)return H0.randomUUID();t=t||{};const r=t.random||(t.rng||TO)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return IO(r)}const F1=it({name:"album",initialState:{albumData:null,albumId:null,isCustomPlaylist:!1},reducers:{addAlbum:(t,e)=>{t.albumData=e.payload.albumData,t.albumId=Ju(),t.isCustomPlaylist=e.payload.isCustomPlaylist||!1},clearAlbum:(t,e)=>{t.albumData=null,t.albumId=null,t.isCustomPlaylist=!1}}}),{addAlbum:U1,clearAlbum:H9}=F1.actions,RO=F1.reducer;function bO({playlist:t}){const e=nr(),n=lt(),r=()=>{n(U1({albumData:t,isCustomPlaylist:!0})),e(`/album/${t.id}`)};return m.jsxs("div",{className:"playlistCard",onClick:r,children:[m.jsx("div",{className:"playlistCard-img",children:m.jsx("img",{src:t.tracks[0].image,alt:"img"})}),m.jsx("div",{className:"playlistCard-title",children:m.jsx("p",{children:t.name})})]})}function zd(){return m.jsxs("nav",{className:"nav",children:[m.jsx(vt,{to:"/",children:m.jsxs("div",{className:"nav__item",children:[m.jsxs("svg",{width:"20.000000",height:"20.000000",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[m.jsx("defs",{}),m.jsx("path",{id:"Vector",d:"M9 1.16L0.94 6.08L0.94 19L6.04 19L6.04 12.03L11.99 12.03L11.99 19L17.05 19L17.05 6.04L9 1.16ZM9 0L18 5.28L18 20L11.04 20L11.04 13.02L6.99 13.02L6.99 20L0 20L0 5.33L9 0Z",fill:"#B3B3B3",fillOpacity:"1.000000",fillRule:"nonzero"})]}),m.jsx("span",{children:"Home"})]})}),m.jsx(vt,{to:"/search",children:m.jsxs("div",{className:"nav__item",children:[m.jsxs("svg",{width:"20.000000",height:"20.000000",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[m.jsx("defs",{}),m.jsx("path",{id:"Vector",d:"M19.69 18.21L14.76 13.26C16.03 11.81 16.72 9.98 16.72 8.07C16.72 3.62 12.97 0 8.36 0C3.75 0 0 3.62 0 8.07C0 12.52 3.75 16.14 8.36 16.14C10.09 16.14 11.74 15.64 13.15 14.68L18.12 19.67C18.33 19.88 18.61 20 18.9 20C19.19 20 19.46 19.89 19.66 19.7C20.09 19.3 20.11 18.63 19.69 18.21ZM8.36 2.1C11.77 2.1 14.54 4.78 14.54 8.07C14.54 11.36 11.77 14.04 8.36 14.04C4.95 14.04 2.18 11.36 2.18 8.07C2.18 4.78 4.95 2.1 8.36 2.1Z",fill:"#777777",fillOpacity:"1.000000",fillRule:"nonzero"})]}),m.jsx("span",{children:"Search"})]})}),m.jsx(vt,{to:"/profile",children:m.jsxs("div",{className:"nav__item",children:[m.jsxs("svg",{width:"22.000000",height:"22.000000",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[m.jsx("defs",{children:m.jsx("clipPath",{id:"clip5_1853",children:m.jsx("rect",{id:"Library small",width:"22.000000",height:"22.000000",fill:"white",fillOpacity:"0"})})}),m.jsx("rect",{id:"Library small",width:"22.000000",height:"22.000000",fill:"#FFFFFF",fillOpacity:"0"}),m.jsx("g",{clipPath:"url(#clip5_1853)",children:m.jsx("path",{id:"Vector",d:"M12.61 0.9L21.44 20.74L20.42 21.2L11.59 1.36L12.61 0.9ZM0.54 21.18L0.54 0.79L1.68 0.79L1.68 21.18L0.54 21.18ZM7.34 21.18L7.34 0.79L8.47 0.79L8.47 21.18L7.34 21.18Z",fill:"#777777",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),m.jsx("span",{children:"Your Library"})]})})]})}var B1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$0=Fe.createContext&&Fe.createContext(B1),NO=["attr","size","title"];function PO(t,e){if(t==null)return{};var n=OO(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}function Q0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q0(Object(n),!0).forEach(function(r){DO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DO(t,e,n){return e=LO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LO(t){var e=MO(t,"string");return typeof e=="symbol"?e:String(e)}function MO(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z1(t){return t&&t.map((e,n)=>Fe.createElement(e.tag,zc({key:n},e.attr),z1(e.child)))}function Je(t){return e=>Fe.createElement(jO,Bc({attr:zc({},t.attr)},e),z1(t.child))}function jO(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=PO(t,NO),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Fe.createElement("svg",Bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:zc(zc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Fe.createElement("title",null,s),t.children)};return $0!==void 0?Fe.createElement($0.Consumer,null,n=>e(n)):e(B1)}function FO(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(t)}function UO(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},child:[]}]})(t)}function BO(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 96h16v320h-16zm144 0h16v320h-16z"},child:[]}]})(t)}function Ug(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M208 432h-48a16 16 0 0 1-16-16V96a16 16 0 0 1 16-16h48a16 16 0 0 1 16 16v320a16 16 0 0 1-16 16zm144 0h-48a16 16 0 0 1-16-16V96a16 16 0 0 1 16-16h48a16 16 0 0 1 16 16v320a16 16 0 0 1-16 16z"},child:[]}]})(t)}function Vd(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M133 440a35.37 35.37 0 0 1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0 1 35.77.45l247.85 148.36a36 36 0 0 1 0 61l-247.89 148.4A35.5 35.5 0 0 1 133 440z"},child:[]}]})(t)}function zO(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(t)}const Wd=({imageUrl:t,onColorGenerated:e})=>{const n=P.useRef(null);return P.useEffect(()=>{const r=n.current,i=r.getContext("2d"),s=new Image;s.crossOrigin="Anonymous",s.src=t,s.onload=function(){r.width=s.width,r.height=s.height,i.drawImage(s,0,0,s.width,s.height);const o=i.getImageData(0,0,s.width,s.height).data;let a=0,u=0,c=0;for(let k=0;k<o.length;k+=4)a+=o[k],u+=o[k+1],c+=o[k+2];const f=o.length/4,p=Math.floor(a/f),d=Math.floor(u/f),y=Math.floor(c/f),E=`rgb(${p}, ${d}, ${y})`;e&&e(E)}},[t,e]),m.jsx("canvas",{ref:n,style:{display:"none"}})},V1=it({name:"appAudio",initialState:{audio:null,isPlay:!1},reducers:{setAudio(t,e){t.audio=e.payload.audio,t.isPlay=e.payload.isPlay},removeAudio(t){t.audio=null,t.isPlay=!1}}}),{setAudio:Vc,removeAudio:$9}=V1.actions,VO=V1.reducer;function Bg(){const[t,e]=P.useState(""),[n,r]=P.useState(Jn),[i,s]=P.useState(""),[o,a]=P.useState(""),[u,c]=P.useState(""),[f,p]=P.useState(!1),[d,y]=P.useState(!1),[E,k]=P.useState(!1),T=P.useRef(),A=lt(),v=oe(D=>D.audio);P.useEffect(()=>{v.isPlay?k(!0):k(!1)},[v]);const g=D=>{e(D)};function S(){const D=T.current;D.paused?(A(Vc({audio:u,isPlay:!0})),D.play(),k(!0)):(A(Vc({audio:u,isPlay:!1})),D.pause(),k(!1))}P.useEffect(()=>{const D=JSON.parse(localStorage.getItem("track"));D!==null&&(p(!0),r(D.image),s(D.name),a(D.artist_name),c(D.audio))},[]),P.useEffect(()=>{o?i.length+o.length>=35&&y(!0):y(!1)},[o,i]);const N=`${t}`;return m.jsxs("div",{className:`${f?"visible_track":"last_track"}`,style:{background:N},children:[m.jsx("audio",{className:"audio_element",ref:T,src:u,muted:"true",controls:!0}),m.jsx(Wd,{imageUrl:n,onColorGenerated:g}),m.jsxs("div",{className:"last_track_container",children:[m.jsx("div",{className:"track_image_box",children:m.jsx("img",{className:"last_track_img__content",src:n,alt:""})}),m.jsx("div",{className:"track_main_content",children:m.jsxs("div",{className:`title_box ${d&&"rotationLastTrack"}`,children:[m.jsxs("p",{className:"track_name_text",children:[i," ",o&&""]}),m.jsx("p",{className:"track_name_artist",children:o})]})}),m.jsx("div",{className:"track_funcrion_box",children:E?m.jsx(BO,{onClick:()=>S(),className:"last_track__btn"}):m.jsx(FO,{onClick:()=>S(),className:"last_track__btn"})})]})]})}var q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw So(e)},So=function(t){return new Error("Firebase Database ("+W1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(d=64)),r.push(n[f],n[p],n[d],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new HO;const d=s<<2|a>>4;if(r.push(d),c!==64){const y=a<<4&240|c>>2;if(r.push(y),p!==64){const E=c<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $1=function(t){const e=H1(t);return zg.encodeByteArray(e,!0)},Wc=function(t){return $1(t).replace(/\./g,"")},Hc=function(t){try{return zg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){return ol(void 0,t)}function ol(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QO(n)||(t[n]=ol(t[n],e[n]));return t}function QO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=()=>qO().__FIREBASE_DEFAULTS__,GO=()=>{if(typeof process>"u"||typeof q0>"u")return;const t=q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hc(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return KO()||GO()||YO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q1=t=>{var e,n;return(n=(e=Vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XO=t=>{const e=Q1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},q1=()=>{var t;return(t=Vg())===null||t===void 0?void 0:t.config},K1=t=>{var e;return(e=Vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function Y1(){return typeof self=="object"&&self.self===self}function JO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZO(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J1(){return W1.NODE_ADMIN===!0}function eD(){try{return typeof indexedDB=="object"}catch{return!1}}function tD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="FirebaseError";class Un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nD,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ds.prototype.create)}}class ds{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Un(i,a,r)}}function rD(t,e){return t.replace(iD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){return JSON.parse(t)}function We(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=al(Hc(s[0])||""),n=al(Hc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},sD=function(t){const e=Z1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oD=function(t){const e=Z1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function es(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $c(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(K0(s)&&K0(o)){if(!qc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function K0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const d=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],c,f;for(let p=0;p<80;p++){p<40?p<20?(c=a^s&(o^a),f=1518500249):(c=s^o^a,f=1859775393):p<60?(c=s&o|a&(s|o),f=2400959708):(c=s^o^a,f=3395469782);const d=(i<<5|i>>>27)+c+u+f+r[p]&4294967295;u=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function eA(t,e){const n=new lD(t,e);return n.subscribe.bind(n)}class lD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cf),i.error===void 0&&(i.error=Cf),i.complete===void 0&&(i.complete=Cf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cf(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Qt(t,e){return`${t} failed: ${e} argument `}function qe(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Qt(t,e)+"must be a valid function.")}function G0(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Qt(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,z(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t){return t&&t._delegate?t._delegate:t}class ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hD(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dD(t){return t===Oi?void 0:t}function hD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=[];var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const tA={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},fD=fe.INFO,pD={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},mD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ao{constructor(e){this.name=e,this._logLevel=fD,this._logHandler=mD,this._userLogHandler=null,$g.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}function gD(t){$g.forEach(e=>{e.setLogLevel(t)})}function yD(t,e){for(const n of $g){let r=null;e&&e.level&&(r=tA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:fe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const vD=(t,e)=>e.some(n=>t instanceof n);let Y0,X0;function _D(){return Y0||(Y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wD(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nA=new WeakMap,Jp=new WeakMap,rA=new WeakMap,Af=new WeakMap,Qg=new WeakMap;function ED(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nA.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function SD(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CD(t){Zp=t(Zp)}function AD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kf(this),e,...n);return rA.set(r,e.sort?e.sort():[e]),si(r)}:wD().includes(t)?function(...e){return t.apply(kf(this),e),si(nA.get(this))}:function(...e){return si(t.apply(kf(this),e))}}function kD(t){return typeof t=="function"?AD(t):(t instanceof IDBTransaction&&SD(t),vD(t,_D())?new Proxy(t,Zp):t)}function si(t){if(t instanceof IDBRequest)return ED(t);if(Af.has(t))return Af.get(t);const e=kD(t);return e!==t&&(Af.set(t,e),Qg.set(e,t)),e}const kf=t=>Qg.get(t);function TD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(si(o.result),u.oldVersion,u.newVersion,si(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ID=["get","getKey","getAll","getAllKeys","count"],xD=["put","add","delete","clear"],Tf=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ID.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Tf.set(e,s),s}CD(t=>({...t,get:(e,n,r)=>J0(e,n)||t.get(e,n,r),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kc="@firebase/app",em="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Ao("@firebase/app"),ND="@firebase/app-compat",PD="@firebase/analytics-compat",OD="@firebase/analytics",DD="@firebase/app-check-compat",LD="@firebase/app-check",MD="@firebase/auth",jD="@firebase/auth-compat",FD="@firebase/database",UD="@firebase/database-compat",BD="@firebase/functions",zD="@firebase/functions-compat",VD="@firebase/installations",WD="@firebase/installations-compat",HD="@firebase/messaging",$D="@firebase/messaging-compat",QD="@firebase/performance",qD="@firebase/performance-compat",KD="@firebase/remote-config",GD="@firebase/remote-config-compat",YD="@firebase/storage",XD="@firebase/storage-compat",JD="@firebase/firestore",ZD="@firebase/vertexai-preview",e2="@firebase/firestore-compat",t2="firebase",n2="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]",r2={[Kc]:"fire-core",[ND]:"fire-core-compat",[OD]:"fire-analytics",[PD]:"fire-analytics-compat",[LD]:"fire-app-check",[DD]:"fire-app-check-compat",[MD]:"fire-auth",[jD]:"fire-auth-compat",[FD]:"fire-rtdb",[UD]:"fire-rtdb-compat",[BD]:"fire-fn",[zD]:"fire-fn-compat",[VD]:"fire-iid",[WD]:"fire-iid-compat",[HD]:"fire-fcm",[$D]:"fire-fcm-compat",[QD]:"fire-perf",[qD]:"fire-perf-compat",[KD]:"fire-rc",[GD]:"fire-rc-compat",[YD]:"fire-gcs",[XD]:"fire-gcs-compat",[JD]:"fire-fst",[e2]:"fire-fst-compat",[ZD]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Map,uo=new Map,co=new Map;function ll(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function iA(t,e){t.container.addOrOverwriteComponent(e)}function Zn(t){const e=t.name;if(co.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;co.set(e,t);for(const n of pi.values())ll(n,t);for(const n of uo.values())ll(n,t);return!0}function Pl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function i2(t,e,n=fi){Pl(t,e).clearInstance(n)}function sA(t){return t.options!==void 0}function bn(t){return t.settings!==void 0}function s2(){co.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wn=new ds("app","Firebase",o2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oA=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends oA{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,wt(Kc,em,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Kg(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw wn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=n2;function Ol(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wn.create("bad-app-name",{appName:String(i)});if(n||(n=q1()),!n)throw wn.create("no-options");const s=pi.get(i);if(s){if(qc(n,s.options)&&qc(r,s.config))return s;throw wn.create("duplicate-app",{appName:i})}const o=new Hg(i);for(const u of co.values())o.addComponent(u);const a=new oA(n,r,o);return pi.set(i,a),a}function l2(t,e){if(Y1())throw wn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;sA(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((f,p)=>Math.imul(31,f)+p.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw wn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=uo.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new Hg(s);for(const c of co.values())a.addComponent(c);const u=new a2(n,e,s,a);return uo.set(s,u),u}function qg(t=fi){const e=pi.get(t);if(!e&&t===fi&&q1())return Ol();if(!e)throw wn.create("no-app",{appName:t});return e}function u2(){return Array.from(pi.values())}async function Kg(t){let e=!1;const n=t.name;pi.has(n)?(e=!0,pi.delete(n)):uo.has(n)&&t.decRefCount()<=0&&(uo.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function wt(t,e,n){var r;let i=(r=r2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(a.join(" "));return}Zn(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function aA(t,e){if(t!==null&&typeof t!="function")throw wn.create("invalid-log-argument");yD(t,e)}function lA(t){gD(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="firebase-heartbeat-database",d2=1,ul="firebase-heartbeat-store";let If=null;function uA(){return If||(If=TD(c2,d2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw wn.create("idb-open",{originalErrorMessage:t.message})})),If}async function h2(t){try{const n=(await uA()).transaction(ul),r=await n.objectStore(ul).get(cA(t));return await n.done,r}catch(e){if(e instanceof Un)ts.warn(e.message);else{const n=wn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function Z0(t,e){try{const r=(await uA()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,cA(t)),await r.done}catch(n){if(n instanceof Un)ts.warn(n.message);else{const r=wn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function cA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1024,p2=30*24*60*60*1e3;class m2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ew();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=p2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ew(),{heartbeatsToSend:r,unsentEntries:i}=g2(this._heartbeatsCache.heartbeats),s=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function ew(){return new Date().toISOString().substring(0,10)}function g2(t,e=f2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eD()?tD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tw(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){Zn(new ln("platform-logger",e=>new RD(e),"PRIVATE")),Zn(new ln("heartbeat",e=>new m2(e),"PRIVATE")),wt(Kc,em,t),wt(Kc,em,"esm2017"),wt("fire-js","")}v2("");const _2=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Un,SDK_VERSION:rr,_DEFAULT_ENTRY_NAME:fi,_addComponent:ll,_addOrOverwriteComponent:iA,_apps:pi,_clearComponents:s2,_components:co,_getProvider:Pl,_isFirebaseApp:sA,_isFirebaseServerApp:bn,_registerComponent:Zn,_removeServiceInstance:i2,_serverApps:uo,deleteApp:Kg,getApp:qg,getApps:u2,initializeApp:Ol,initializeServerApp:l2,onLog:aA,registerVersion:wt,setLogLevel:lA},Symbol.toStringTag,{value:"Module"}));function Gg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w2=dA,hA=new ds("auth","Firebase",dA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Ao("@firebase/auth");function E2(t,...e){Gc.logLevel<=fe.WARN&&Gc.warn(`Auth (${rr}): ${t}`,...e)}function Zu(t,...e){Gc.logLevel<=fe.ERROR&&Gc.error(`Auth (${rr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Yg(t,...e)}function Kn(t,...e){return Yg(t,...e)}function fA(t,e,n){const r=Object.assign(Object.assign({},w2()),{[e]:n});return new ds("auth","Firebase",r).create(e,{appName:t.name})}function gr(t){return fA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hA.create(t,...e)}function ee(t,e,...n){if(!t)throw Yg(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function Cr(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S2(){return nw()==="http:"||nw()==="https:"}function nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S2()||JO()||"connection"in navigator)?navigator.onLine:!0}function A2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Wg()||X1()}get(){return C2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Dl(3e4,6e4);function ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tr(t,e,n,r,i={}){return mA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Co(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),pA.fetch()(gA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function mA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},k2),e);try{const i=new x2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ou(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ou(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fA(t,f,c);Fn(t,f)}}catch(i){if(i instanceof Un)throw i;Fn(t,"network-request-failed",{message:String(i)})}}async function Ll(t,e,n,r,i={}){const s=await Tr(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function gA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xg(t.config,i):`${t.config.apiScheme}://${i}`}function I2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),T2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(t,e,r);return i.customData._tokenResponse=n,i}function rw(t){return t!==void 0&&t.enterprise!==void 0}class R2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return I2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function b2(t,e){return Tr(t,"GET","/v2/recaptchaConfig",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e){return Tr(t,"POST","/v1/accounts:delete",e)}async function yA(t,e){return Tr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(t,e=!1){const n=Ee(t),r=await n.getIdToken(e),i=Jg(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ta(xf(i.auth_time)),issuedAtTime:Ta(xf(i.iat)),expirationTime:Ta(xf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function Jg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hc(n);return i?JSON.parse(i):(Zu("Failed to decode base64 JWT payload"),null)}catch(i){return Zu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iw(t){const e=Jg(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Un&&O2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ho(t,yA(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vA(s.providerUserInfo):[],a=M2(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nm(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function L2(t){const e=Ee(t);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vA(t){return t.map(e=>{var{providerId:n}=e,r=Gg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){const n=await mA(t,{},async()=>{const r=Co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F2(t,e){return Tr(t,"POST","/v2/accounts:revokeToken",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await j2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new qs;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qs,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ho(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P2(this,e)}reload(){return L2(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await ho(this,N2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:g,emailVerified:S,isAnonymous:N,providerData:D,stsTokenManager:C}=n;ee(g&&C,e,"internal-error");const w=qs.fromJSON(this.name,C);ee(typeof g=="string",e,"internal-error"),Dr(p,e.name),Dr(d,e.name),ee(typeof S=="boolean",e,"internal-error"),ee(typeof N=="boolean",e,"internal-error"),Dr(y,e.name),Dr(E,e.name),Dr(k,e.name),Dr(T,e.name),Dr(A,e.name),Dr(v,e.name);const I=new hr({uid:g,auth:e,email:d,emailVerified:S,displayName:p,isAnonymous:N,photoURL:E,phoneNumber:y,tenantId:k,stsTokenManager:w,createdAt:A,lastLoginAt:v});return D&&Array.isArray(D)&&(I.providerData=D.map(x=>Object.assign({},x))),T&&(I._redirectEventId=T),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new qs;i.updateFromServerResponse(n);const s=new hr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new qs;a.updateFromIdToken(r);const u=new hr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;function fr(t){Cr(t instanceof Function,"Expected a class definition");let e=sw.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_A.type="NONE";const ow=_A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ks(fr(ow),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||fr(ow);const o=ec(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const p=hr._fromJSON(e,f);c!==s&&(a=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ks(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ks(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AA(e))return"Blackberry";if(kA(e))return"Webos";if(Zg(e))return"Safari";if((e.includes("chrome/")||EA(e))&&!e.includes("edge/"))return"Chrome";if(CA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wA(t=Ct()){return/firefox\//i.test(t)}function Zg(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EA(t=Ct()){return/crios\//i.test(t)}function SA(t=Ct()){return/iemobile/i.test(t)}function CA(t=Ct()){return/android/i.test(t)}function AA(t=Ct()){return/blackberry/i.test(t)}function kA(t=Ct()){return/webos/i.test(t)}function $d(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U2(t=Ct()){var e;return $d(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B2(){return ZO()&&document.documentMode===10}function TA(t=Ct()){return $d(t)||CA(t)||kA(t)||AA(t)||/windows phone/i.test(t)||SA(t)}function z2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e=[]){let n;switch(t){case"Browser":n=aw(Ct());break;case"Worker":n=`${aw(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=6;class $2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:H2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lw(this),this.idTokenSubscription=new lw(this),this.beforeStateQueue=new V2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yA(this,{idToken:e}),r=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(gr(this));const n=e?Ee(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W2(this),n=new $2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ds("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return Ee(t)}class lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=eA(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(t){Qd=t}function xA(t){return Qd.loadJS(t)}function K2(){return Qd.recaptchaEnterpriseScript}function G2(){return Qd.gapiScript}function Y2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const X2="recaptcha-enterprise",J2="NO_RECAPTCHA";class Z2{constructor(e){this.type=X2,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{b2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new R2(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;rw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(J2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=K2();u.length!==0&&(u+=a),xA(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function uw(t,e,n,r=!1){const i=new Z2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e){const n=Pl(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(qc(s,e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}function tL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nL(t,e,n){const r=hs(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=RA(e),{host:o,port:a}=rL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||iL()}function RA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rL(t){const e=RA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:cw(o)}}}function cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function sL(t,e){return Tr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){return Ll(t,"POST","/v1/accounts:signInWithPassword",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(t,e){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}async function lL(t,e){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends ey{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,n,"signInWithPassword",oL);case"emailLink":return aL(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,r,"signUpPassword",sL);case"emailLink":return lL(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e){return Ll(t,"POST","/v1/accounts:signInWithIdp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="http://localhost";class ns extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Gg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Gs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gs(e,n)}buildRequest(){const e={requestUri:uL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Co(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dL(t){const e=ha(fa(t)).link,n=e?ha(fa(e)).deep_link_id:null,r=ha(fa(t)).deep_link_id;return(r?ha(fa(r)).link:null)||r||n||e||t}class ty{constructor(e){var n,r,i,s,o,a;const u=ha(fa(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=cL((i=u.mode)!==null&&i!==void 0?i:null);ee(c&&f&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=dL(e);try{return new ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ty.parseLink(n);return ee(r,"argument-error"),cl._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ml{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ns._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ml{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ml{constructor(){super("twitter.com")}static credential(e,n){return ns._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return Ll(t,"POST","/v1/accounts:signUp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await hr._fromIdTokenResponse(e,r,i),o=dw(r);return new rs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dw(r);return new rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Un{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xc(e,n,r,i)}}function NA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(t,s,e,r):s})}async function fL(t,e,n=!1){const r=await ho(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(gr(r));const i="reauthenticate";try{const s=await ho(t,NA(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Jg(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e,n=!1){if(bn(t.app))return Promise.reject(gr(t));const r="signIn",i=await NA(t,r,e),s=await rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function mL(t,e){return PA(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gL(t,e,n){if(bn(t.app))return Promise.reject(gr(t));const r=hs(t),o=await rm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&OA(t),u}),a=await rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function yL(t,e,n){return bn(t.app)?Promise.reject(gr(t)):mL(Ee(t),ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e){return Tr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ee(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ho(r,vL(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function wL(t,e,n,r){return Ee(t).onIdTokenChanged(e,n,r)}function EL(t,e,n){return Ee(t).beforeAuthStateChanged(e,n)}function ny(t,e,n,r){return Ee(t).onAuthStateChanged(e,n,r)}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){const t=Ct();return Zg(t)||$d(t)}const CL=1e3,AL=10;class LA extends DA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=SL()&&z2(),this.fallbackToPolling=TA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);B2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LA.type="LOCAL";const kL=LA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends DA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MA.type="SESSION";const jA=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await TL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=ry("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const d=p;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function xL(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function RL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NL(){return FA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebaseLocalStorageDb",PL=1,Zc="firebaseLocalStorage",BA="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(t,e){return t.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function OL(){const t=indexedDB.deleteDatabase(UA);return new jl(t).toPromise()}function im(){const t=indexedDB.open(UA,PL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zc,{keyPath:BA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zc)?e(r):(r.close(),await OL(),e(await im()))})})}async function hw(t,e,n){const r=Kd(t,!0).put({[BA]:e,value:n});return new jl(r).toPromise()}async function DL(t,e){const n=Kd(t,!1).get(e),r=await new jl(n).toPromise();return r===void 0?null:r.value}function fw(t,e){const n=Kd(t,!0).delete(e);return new jl(n).toPromise()}const LL=800,ML=3;class zA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ML)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qd._getInstance(NL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RL(),!this.activeServiceWorker)return;this.sender=new IL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await hw(e,Jc,"1"),await fw(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>DL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kd(i,!1).getAll();return new jl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zA.type="LOCAL";const jL=zA;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){return e?fr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UL(t){return PA(t.auth,new iy(t),t.bypassAuthState)}function BL(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),pL(n,new iy(t),t.bypassAuthState)}async function zL(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),fL(n,new iy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UL;case"linkViaPopup":case"linkViaRedirect":return zL;case"reauthViaPopup":case"reauthViaRedirect":return BL;default:Fn(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new Dl(2e3,1e4);class Us extends VA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VL.get())};e()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="pendingRedirect",tc=new Map;class HL extends VA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const r=await $L(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $L(t,e){const n=KL(e),r=qL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function QL(t,e){tc.set(t._key(),e)}function qL(t){return fr(t._redirectPersistence)}function KL(t){return ec(WL,t.config.apiKey,t.name)}async function GL(t,e,n=!1){if(bn(t.app))return Promise.reject(gr(t));const r=hs(t),i=FL(r,e),o=await new HL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=10*60*1e3;class XL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YL&&this.cachedEventUids.clear(),this.cachedEventUids.has(pw(e))}saveEventToCache(e){this.cachedEventUids.add(pw(e)),this.lastProcessedEventTime=Date.now()}}function pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e={}){return Tr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tM=/^https?/;async function nM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZL(t);for(const n of e)try{if(rM(n))return}catch{}Fn(t,"unauthorized-domain")}function rM(t){const e=tm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tM.test(n))return!1;if(eM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new Dl(3e4,6e4);function mw(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sM(t){return new Promise((e,n)=>{var r,i,s;function o(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),n(Kn(t,"network-request-failed"))},timeout:iM.get()})}if(!((i=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gn().gapi)===null||s===void 0)&&s.load)o();else{const a=Y2("iframefcb");return Gn()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},xA(`${G2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw nc=null,e})}let nc=null;function oM(t){return nc=nc||sM(t),nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Dl(5e3,15e3),lM="__/auth/iframe",uM="emulator/auth/iframe",cM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hM(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xg(e,uM):`https://${t.config.authDomain}/${lM}`,r={apiKey:e.apiKey,appName:t.name,v:rr},i=dM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Co(r).slice(1)}`}async function fM(t){const e=await oM(t),n=Gn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:hM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=Gn().setTimeout(()=>{s(o)},aM.get());function u(){Gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mM=500,gM=600,yM="_blank",vM="http://localhost";class gw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _M(t,e,n,r=mM,i=gM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},pM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=EA(c)?yM:n),wA(c)&&(e=e||vM,u.scrollbars="yes");const f=Object.entries(u).reduce((d,[y,E])=>`${d}${y}=${E},`,"");if(U2(c)&&a!=="_self")return wM(e||"",a),new gw(null);const p=window.open(e||"",a,f);ee(p,t,"popup-blocked");try{p.focus()}catch{}return new gw(p)}function wM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="__/auth/handler",SM="emulator/auth/handler",CM=encodeURIComponent("fac");async function yw(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rr,eventId:i};if(e instanceof bA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$c(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Ml){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${CM}=${encodeURIComponent(u)}`:"";return`${AM(t)}?${Co(a).slice(1)}${c}`}function AM({config:t}){return t.emulator?Xg(t,SM):`https://${t.authDomain}/${EM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class kM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jA,this._completeRedirectFn=GL,this._overrideRedirectResult=QL}async _openPopup(e,n,r,i){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yw(e,n,r,tm(),i);return _M(e,o,ry())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yw(e,n,r,tm(),i);return xL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fM(e),r=new XL(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rf,{type:Rf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Rf];o!==void 0&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TA()||Zg()||$d()}}const TM=kM;var vw="@firebase/auth",_w="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RM(t){Zn(new ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IA(t)},c=new Q2(r,i,s,u);return tL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zn(new ln("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new IM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wt(vw,_w,xM(t)),wt(vw,_w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=5*60,NM=K1("authIdTokenMaxAge")||bM;let ww=null;const PM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NM)return;const i=n==null?void 0:n.token;ww!==i&&(ww=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function To(t=qg()){const e=Pl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eL(t,{popupRedirectResolver:TM,persistence:[jL,kL,jA]}),r=K1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=PM(s.toString());EL(n,o,()=>o(n.currentUser)),wL(n,a=>o(a))}}const i=Q1("auth");return i&&nL(n,`http://${i}`),n}function OM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RM("Browser");const HA=it({name:"user",initialState:{email:null,id:null,username:null,news:null,share:null,search:[]},reducers:{setUser(t,e){t.email=e.payload.email,t.id=e.payload.id,t.username=e.payload.username,t.news=e.payload.news,t.share=e.payload.share,t.search=e.payload.search},removeUser(t){t.email=null,t.id=null,t.username=null,t.news=null,t.share=null,t.search=null}}}),{setUser:sy,removeUser:q9}=HA.actions,DM=HA.reducer;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this._delegate=e,this.firebase=n,ll(e,new ln("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Kg(this._delegate)))}_getService(e,n=fi){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=fi){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ll(this._delegate,e)}_addOrOverwriteComponent(e){iA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Ew=new ds("app-compat","Firebase",MM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:wt,setLogLevel:lA,onLog:aA,apps:null,SDK_VERSION:rr,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:_2}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||fi,!an(e,c))throw Ew.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,f={}){const p=Ol(c,f);if(an(e,p.name))return e[p.name];const d=new t(p,n);return e[p.name]=d,d}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const f=c.name,p=f.replace("-compat","");if(Zn(c)&&c.type==="PUBLIC"){const d=(y=i())=>{if(typeof y[p]!="function")throw Ew.create("invalid-app-argument",{appName:f});return y[p]()};c.serviceProps!==void 0&&ol(d,c.serviceProps),n[p]=d,t.prototype[p]=function(...y){return this._getService.bind(this,f).apply(this,c.multipleInstances?y:[])}}return c.type==="PUBLIC"?n[p]:null}function u(c,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){const t=jM(LM);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:$A,extendNamespace:e,createSubscribe:eA,ErrorFactory:ds,deepExtend:ol});function e(n){ol(t,n)}return t}const FM=$A();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Ao("@firebase/app-compat"),UM="@firebase/app-compat",BM="0.2.35";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){wt(UM,BM,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Y1()&&self.firebase!==void 0){Sw.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Sw.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const oy=FM;zM();var VM="firebase",WM="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oy.registerVersion(VM,WM,"app-compat");const ay={apiKey:"AIzaSyB9_eokBXrfpk8sHjRSkowXzcWjk1yjDQA",authDomain:"musplayer-42b4a.firebaseapp.com",projectId:"musplayer-42b4a",storageBucket:"musplayer-42b4a.appspot.com",messagingSenderId:"475828266667",appId:"1:475828266667:web:36cb07a3f0430fef55f9ee",measurementId:"G-9P4QVEEZXX",databaseURL:"https://musplayer-42b4a-default-rtdb.europe-west1.firebasedatabase.app"};var Cw={};const Aw="@firebase/database",kw="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QA="";function qA(t){QA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:al(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HM(e)}}catch{}return new $M},Ui=KA("localStorage"),sm=KA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Ao("@firebase/database"),GA=function(){let t=1;return function(){return t++}}(),YA=function(t){const e=cD(t),n=new aD;n.update(e);const r=n.digest();return zg.encodeByteArray(r)},Fl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Fl.apply(null,r):typeof r=="object"?e+=We(r):e+=r,e+=" "}return e};let Hi=null,Tw=!0;const XA=function(t,e){z(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ys.logLevel=fe.VERBOSE,Hi=Ys.log.bind(Ys),e&&sm.set("logging_enabled",!0)):typeof t=="function"?Hi=t:(Hi=null,sm.remove("logging_enabled"))},Ge=function(...t){if(Tw===!0&&(Tw=!1,Hi===null&&sm.get("logging_enabled")===!0&&XA(!0)),Hi){const e=Fl.apply(null,t);Hi(e)}},Ul=function(t){return function(...e){Ge(t,...e)}},om=function(...t){const e="FIREBASE INTERNAL ERROR: "+Fl(...t);Ys.error(e)},er=function(...t){const e=`FIREBASE FATAL ERROR: ${Fl(...t)}`;throw Ys.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+Fl(...t);Ys.warn(e)},QM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},qM=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mi="[MIN_NAME]",Ar="[MAX_NAME]",fs=function(t,e){if(t===e)return 0;if(t===mi||e===Ar)return-1;if(e===mi||t===Ar)return 1;{const n=Iw(t),r=Iw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},KM=function(t,e){return t===e?0:t<e?-1:1},na=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+We(e))},ly=function(t){if(typeof t!="object"||t===null)return We(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=We(e[r]),n+=":",n+=ly(t[e[r]]);return n+="}",n},JA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ZA=function(t){z(!Gd(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const f=c.join("");let p="";for(u=0;u<64;u+=8){let d=parseInt(f.substr(u,8),2).toString(16);d.length===1&&(d="0"+d),p=p+d}return p.toLowerCase()},GM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XM(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const JM=new RegExp("^-?(0*)\\d{1,10}$"),ZM=-2147483648,ej=2147483647,Iw=function(t){if(JM.test(t)){const e=Number(t);if(e>=ZM&&e<=ej)return e}return null},Io=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},tj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class Xs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="5",ek="v",tk="s",nk="r",rk="f",ik=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sk="ls",ok="p",am="ac",ak="websocket",lk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ij(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ck(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let r;if(e===ak)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===lk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ij(t)&&(n.ns=t.namespace);const i=[];return Xe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.counters_={}}incrementCounter(e,n=1){an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return $O(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf={},Nf={};function cy(t){const e=t.toString();return bf[e]||(bf[e]=new sj),bf[e]}function oj(t,e){const n=t.toString();return Nf[n]||(Nf[n]=e()),Nf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Io(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="start",lj="close",uj="pLPCommand",cj="pRTLPCB",dk="id",hk="pw",fk="ser",dj="cb",hj="seg",fj="ts",pj="d",mj="dframe",pk=1870,mk=30,gj=pk-mk,yj=25e3,vj=3e4;class Kr{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ul(e),this.stats_=cy(n),this.urlFn=u=>(this.appCheckToken&&(u[am]=this.appCheckToken),ck(n,lk,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vj)),qM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dy((...s)=>{const[o,a,u,c,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===xw)this.id=a,this.password=u;else if(o===lj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[xw]="t",r[fk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ek]=uy,this.transportSessionId&&(r[tk]=this.transportSessionId),this.lastSessionId&&(r[sk]=this.lastSessionId),this.applicationId&&(r[ok]=this.applicationId),this.appCheckToken&&(r[am]=this.appCheckToken),typeof location<"u"&&location.hostname&&ik.test(location.hostname)&&(r[nk]=rk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kr.forceAllow_=!0}static forceDisallow(){Kr.forceDisallow_=!0}static isAvailable(){return Kr.forceAllow_?!0:!Kr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!GM()&&!YM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$1(n),i=JA(r,gj);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mj]="t",r[dk]=e,r[hk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=We(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dy{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=GA(),window[uj+this.uniqueCallbackIdentifier]=e,window[cj+this.uniqueCallbackIdentifier]=n,this.myIFrame=dy.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ge("frame writing exception"),a.stack&&Ge(a.stack),Ge(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ge("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dk]=this.myID,e[hk]=this.myPW,e[fk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mk+r.length<=pk;){const o=this.pendingSegs.shift();r=r+"&"+hj+i+"="+o.seg+"&"+fj+i+"="+o.ts+"&"+pj+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(yj)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ge("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=16384,wj=45e3;let ed=null;typeof MozWebSocket<"u"?ed=MozWebSocket:typeof WebSocket<"u"&&(ed=WebSocket);class mn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ul(this.connId),this.stats_=cy(n),this.connURL=mn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[ek]=uy,typeof location<"u"&&location.hostname&&ik.test(location.hostname)&&(o[nk]=rk),n&&(o[tk]=n),r&&(o[sk]=r),i&&(o[am]=i),s&&(o[ok]=s),ck(e,ak,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;J1(),this.mySock=new ed(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ed!==null&&!mn.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=al(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=JA(n,_j);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Kr,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=mn&&mn.isAvailable();let r=n&&!mn.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mn];else{const i=this.transports_=[];for(const s of fo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=6e4,Sj=5e3,Cj=10*1024,Aj=100*1024,Pf="t",Rw="d",kj="s",bw="r",Tj="e",Nw="o",Pw="a",Ow="n",Dw="p",Ij="h";class xj{constructor(e,n,r,i,s,o,a,u,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ul("c:"+this.id+":"),this.transportManager_=new fo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Aj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Cj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pf in e){const n=e[Pf];n===Pw?this.upgradeIfSecondaryHealthy_():n===bw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Nw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=na("t",e),r=na("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Dw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ow,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=na("t",e),r=na("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=na(Pf,e);if(Rw in e){const r=e[Rw];if(n===Ij){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ow){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kj?this.onConnectionShutdown_(r):n===bw?this.onReset_(r):n===Tj?om("Server Error: "+r):n===Nw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):om("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),uy!==r&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ej))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Sj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Dw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends yk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new td}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=32,Mw=768;class pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new pe("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gi(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function hy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Rj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function dl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Ie(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function Nt(t,e){const n=re(t),r=re(e);if(n===null)return e;if(n===r)return Nt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bj(t,e){const n=dl(t,0),r=dl(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=fs(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function fy(t,e){if(gi(t)!==gi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gi(t)>gi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Nj{constructor(e,n){this.errorPrefix_=n,this.parts_=dl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Hd(this.parts_[r]);_k(this)}}function Pj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hd(e),_k(t)}function Oj(t){const e=t.parts_.pop();t.byteLength_-=Hd(e),t.parts_.length>0&&(t.byteLength_-=1)}function _k(t){if(t.byteLength_>Mw)throw new Error(t.errorPrefix_+"has a key path longer than "+Mw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Lw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lw+") or object contains a cycle "+Di(t))}function Di(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends yk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new py}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=1e3,Dj=60*5*1e3,jw=30*1e3,Lj=1.3,Mj=3e4,jj="server_kill",Fw=3;class yr extends gk{constructor(e,n,r,i,s,o,a,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=u,this.id=yr.nextPersistentConnectionId_++,this.log_=Ul("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ra,this.maxReconnectDelay_=Dj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!J1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");py.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&td.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(We(s)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Bt,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const u=a.d,c=a.s;yr.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&an(e,"w")){const r=es(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):om("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Mj&&(this.reconnectDelay_=ra),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Lj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+yr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const u=function(){a?a.close():(o=!0,r())},c=function(p){z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(p)};this.realtime_={close:u,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Ge("getToken() completed but was canceled"):(Ge("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=d&&d.token,a=new xj(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Et(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(jj)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Et(p),u())}}}interrupt(e){Ge("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ge("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$c(this.interruptReasons_)&&(this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ly(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ge("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fw&&(this.reconnectDelay_=jw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ge("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+QA.replace(/\./g,"-")]=1,Wg()?e["framework.cordova"]=1:X1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=td.getInstance().currentlyOnline();return $c(this.interruptReasons_)&&e}}yr.nextPersistentConnectionId_=0;yr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(mi,e),i=new se(mi,n);return this.compare(r,i)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du;class wk extends Yd{static get __EMPTY_NODE(){return Du}static set __EMPTY_NODE(e){Du=e}compare(e,n){return fs(e.name,n.name)}isDefinedOn(e){throw So("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(Ar,Du)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,Du)}toString(){return".key"}}const Yn=new wk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??Vt.EMPTY_NODE,this.right=s??Vt.EMPTY_NODE}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Vt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class Fj{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(e,n=Vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new Vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lu(this.root_,null,this.comparator_,!0,e)}}Vt.EMPTY_NODE=new Fj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e){return fs(t.name,e.name)}function my(t,e){return fs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm;function Bj(t){lm=t}const Ek=function(t){return typeof t=="number"?"number:"+ZA(t):"string:"+t},Sk=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&an(e,".sv"),"Priority must be a string or number.")}else z(t===lm||t.isEmpty(),"priority of unexpected type.");z(t===lm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uw;class $e{constructor(e,n=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sk(this.priorityNode_)}static set __childrenNodeConstructor(e){Uw=e}static get __childrenNodeConstructor(){return Uw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $e(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ie(e)?this:re(e)===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=re(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||gi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ek(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ZA(this.value_):e+=this.value_,this.lazyHash_=YA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $e.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$e.VALUE_TYPE_ORDER.indexOf(n),s=$e.VALUE_TYPE_ORDER.indexOf(r);return z(i>=0,"Unknown leaf type: "+n),z(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ck,Ak;function zj(t){Ck=t}function Vj(t){Ak=t}class Wj extends Yd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Ar,new $e("[PRIORITY-POST]",Ak))}makePost(e,n){const r=Ck(e);return new se(n,new $e("[PRIORITY-POST]",r))}toString(){return".priority"}}const we=new Wj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=Math.log(2);class $j{constructor(e){const n=s=>parseInt(Math.log(s)/Hj,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nd=function(t,e,n,r){t.sort(e);const i=function(u,c){const f=c-u;let p,d;if(f===0)return null;if(f===1)return p=t[u],d=n?n(p):p,new Ke(d,p.node,Ke.BLACK,null,null);{const y=parseInt(f/2,10)+u,E=i(u,y),k=i(y+1,c);return p=t[y],d=n?n(p):p,new Ke(d,p.node,Ke.BLACK,E,k)}},s=function(u){let c=null,f=null,p=t.length;const d=function(E,k){const T=p-E,A=p;p-=E;const v=i(T+1,A),g=t[T],S=n?n(g):g;y(new Ke(S,g.node,k,null,v))},y=function(E){c?(c.left=E,c=E):(f=E,c=E)};for(let E=0;E<u.count;++E){const k=u.nextBitIsOne(),T=Math.pow(2,u.count-(E+1));k?d(T,Ke.BLACK):(d(T,Ke.BLACK),d(T,Ke.RED))}return f},o=new $j(t.length),a=s(o);return new Vt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of;const As={};class pr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return z(As&&we,"ChildrenNode.ts has not been loaded"),Of=Of||new pr({".priority":As},{".priority":we}),Of}get(e){const n=es(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Vt?n:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(se.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=nd(r,e.getCompare()):a=As;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const f=Object.assign({},this.indexes_);return f[u]=a,new pr(f,c)}addToIndexes(e,n){const r=Qc(this.indexes_,(i,s)=>{const o=es(this.indexSet_,s);if(z(o,"Missing index implementation for "+s),i===As)if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(se.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),nd(a,o.getCompare())}else return As;else{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new se(e.name,a))),u.insert(e,e.node)}});return new pr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Qc(this.indexes_,i=>{if(i===As)return i;{const s=n.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new pr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia;class J{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Sk(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ia||(ia=new J(new Vt(my),null,pr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ia}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ia:n}}getChild(e){const n=re(e);return n===null?this:this.getImmediateChild(n).getChild(ye(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new se(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ia:this.priorityNode_;return new J(i,o,s)}}updateChild(e,n){const r=re(e);if(r===null)return n;{z(re(e)!==".priority"||gi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ye(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(we,(o,a)=>{n[o]=a.val(e),r++,s&&J.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ek(this.getPriority().val())+":"),this.forEachChild(we,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":YA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new se(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new se(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bl?-1:0}withIndex(e){if(e===Yn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Yn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(we),i=n.getIterator(we);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Yn?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Qj extends J{constructor(){super(new Vt(my),J.EMPTY_NODE,pr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const Bl=new Qj;Object.defineProperties(se,{MIN:{value:new se(mi,J.EMPTY_NODE)},MAX:{value:new se(Ar,Bl)}});wk.__EMPTY_NODE=J.EMPTY_NODE;$e.__childrenNodeConstructor=J;Bj(Bl);Vj(Bl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=!0;function Re(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $e(n,Re(e))}if(!(t instanceof Array)&&qj){const n=[];let r=!1;if(Xe(t,(o,a)=>{if(o.substring(0,1)!=="."){const u=Re(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new se(o,u)))}}),n.length===0)return J.EMPTY_NODE;const s=nd(n,Uj,o=>o.name,my);if(r){const o=nd(n,we.getCompare());return new J(s,Re(e),new pr({".priority":o},{".priority":we}))}else return new J(s,Re(e),pr.Default)}else{let n=J.EMPTY_NODE;return Xe(t,(r,i)=>{if(an(t,r)&&r.substring(0,1)!=="."){const s=Re(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Re(e))}}zj(Re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends Yd{constructor(e){super(),this.indexPath_=e,z(!ie(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fs(e.name,n.name):s}makePost(e,n){const r=Re(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,Bl);return new se(Ar,e)}toString(){return dl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj extends Yd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=Re(e);return new se(n,r)}toString(){return".value"}}const yy=new Kj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){return{type:"value",snapshotNode:t}}function po(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function hl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function fl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Gj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(hl(n,a)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(po(n,r)):o.trackChildChange(fl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(we,(i,s)=>{n.hasChild(i)||r.trackChildChange(hl(i,s))}),n.isLeafNode()||n.forEachChild(we,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(fl(i,s,o))}else r.trackChildChange(po(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.indexedFilter_=new vy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=pl.getStartPost_(e),this.endPost_=pl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new se(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const s=this;return n.forEachChild(we,(o,a)=>{s.matches(new se(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new pl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new se(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(d,y)=>p(y,d)}else o=this.index_.getCompare();const a=e;z(a.numChildren()===this.limit_,"");const u=new se(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(a.hasChild(n)){const p=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const y=d==null?1:o(d,u);if(f&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(fl(n,r,p)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(hl(n,p));const k=a.updateImmediateChild(n,J.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(po(d.name,d.node)),k.updateImmediateChild(d.name,d.node)):k}}else return r.isEmpty()?e:f&&o(c,u)>=0?(s!=null&&(s.trackChildChange(hl(c.name,c.node)),s.trackChildChange(po(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=we}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mi}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===we}copy(){const e=new Xd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Xj(t){return t.loadsAllData()?new vy(t.getIndex()):t.hasLimit()?new Yj(t):new pl(t)}function Jj(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Zj(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function um(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function e4(t,e,n){let r;return t.index_===Yn||n?r=um(t,e,n):r=um(t,e,Ar),r.startAfterSet_=!0,r}function cm(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function t4(t,e,n){let r;return t.index_===Yn||n?r=cm(t,e,n):r=cm(t,e,mi),r.endBeforeSet_=!0,r}function Jd(t,e){const n=t.copy();return n.index_=e,n}function Bw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===we?n="$priority":t.index_===yy?n="$value":t.index_===Yn?n="$key":(z(t.index_ instanceof gy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=We(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=We(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+We(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=We(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+We(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==we&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends gk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ul("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=rd.getListenId_(e,r),a={};this.listens_[o]=a;const u=Bw(e._queryParams);this.restRequest_(s+".json",u,(c,f)=>{let p=f;if(c===404&&(p=null,c=null),c===null&&this.onDataUpdate_(s,p,!1,r),es(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,n){const r=rd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Bw(e._queryParams),r=e._path.toString(),i=new Bt;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Co(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=al(a.responseText)}catch{Et("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else a.status!==401&&a.status!==404&&Et("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(){return{value:null,children:new Map}}function xo(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=re(e);t.children.has(r)||t.children.set(r,id());const i=t.children.get(r);e=ye(e),xo(i,e,n)}}function dm(t,e){if(ie(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(we,(r,i)=>{xo(t,new pe(r),i)}),dm(t,e)}}else if(t.children.size>0){const n=re(e);return e=ye(e),t.children.has(n)&&dm(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function hm(t,e,n){t.value!==null?n(e,t.value):r4(t,(r,i)=>{const s=new pe(e.toString()+"/"+r);hm(i,s,n)})}function r4(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=10*1e3,s4=30*1e3,o4=5*60*1e3;class a4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new i4(e);const r=Vw+(s4-Vw)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xe(e,(i,s)=>{s>0&&an(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*o4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nn||(Nn={}));function _y(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ey(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nn.ACK_USER_WRITE,this.source=_y()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new sd(he(),n,this.revert)}}else return z(re(this.path)===e,"operationForChild called for unrelated child."),new sd(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.source=e,this.path=n,this.type=Nn.LISTEN_COMPLETE}operationForChild(e){return ie(this.path)?new ml(this.source,he()):new ml(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nn.OVERWRITE}operationForChild(e){return ie(this.path)?new is(this.source,he(),this.snap.getImmediateChild(e)):new is(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nn.MERGE}operationForChild(e){if(ie(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new is(this.source,he(),n.value):new mo(this.source,he(),n)}else return z(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mo(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function u4(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Gj(o.childName,o.snapshotNode))}),sa(t,i,"child_removed",e,r,n),sa(t,i,"child_added",e,r,n),sa(t,i,"child_moved",s,r,n),sa(t,i,"child_changed",e,r,n),sa(t,i,"value",e,r,n),i}function sa(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>d4(t,a,u)),o.forEach(a=>{const u=c4(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function c4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function d4(t,e,n){if(e.childName==null||n.childName==null)throw So("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),i=new se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t,e){return{eventCache:t,serverCache:e}}function xa(t,e,n,r){return Zd(new yi(e,n,r),t.serverCache)}function Tk(t,e,n,r){return Zd(t.eventCache,new yi(e,n,r))}function od(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ss(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df;const h4=()=>(Df||(Df=new Vt(KM)),Df);class ve{constructor(e,n=h4()){this.value=e,this.children=n}static fromObject(e){let n=new ve(null);return Xe(e,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(ie(e))return null;{const r=re(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ye(e),n);return s!=null?{path:Ie(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const n=re(e),r=this.children.get(n);return r!==null?r.subtree(ye(e)):new ve(null)}}set(e,n){if(ie(e))return new ve(n,this.children);{const r=re(e),s=(this.children.get(r)||new ve(null)).set(ye(e),n),o=this.children.insert(r,s);return new ve(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=re(e),r=this.children.get(n);if(r){const i=r.remove(ye(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ve(null):new ve(this.value,s)}else return this}}get(e){if(ie(e))return this.value;{const n=re(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(ie(e))return n;{const r=re(e),s=(this.children.get(r)||new ve(null)).setTree(ye(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ve(this.value,o)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ie(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ie(e))return null;{const s=re(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),Ie(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);const i=re(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),Ie(n,i),r):new ve(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ie(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.writeTree_=e}static empty(){return new Dn(new ve(null))}}function Ra(t,e,n){if(ie(e))return new Dn(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Nt(i,e);return s=s.updateChild(o,n),new Dn(t.writeTree_.set(i,s))}else{const i=new ve(n),s=t.writeTree_.setTree(e,i);return new Dn(s)}}}function fm(t,e,n){let r=t;return Xe(n,(i,s)=>{r=Ra(r,Ie(e,i),s)}),r}function Ww(t,e){if(ie(e))return Dn.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new Dn(n)}}function pm(t,e){return ps(t,e)!=null}function ps(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nt(n.path,e)):null}function Hw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(we,(r,i)=>{e.push(new se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new se(r,i.value))}),e}function oi(t,e){if(ie(e))return t;{const n=ps(t,e);return n!=null?new Dn(new ve(n)):new Dn(t.writeTree_.subtree(e))}}function mm(t){return t.writeTree_.isEmpty()}function go(t,e){return Ik(he(),t.writeTree_,e)}function Ik(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(z(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Ik(Ie(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ie(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e){return Nk(e,t)}function f4(t,e,n,r,i){z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ra(t.visibleWrites,e,n)),t.lastWriteId=r}function p4(t,e,n,r){z(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=fm(t.visibleWrites,e,n),t.lastWriteId=r}function m4(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function g4(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&y4(a,r.path)?i=!1:yn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return v4(t),!0;if(r.snap)t.visibleWrites=Ww(t.visibleWrites,r.path);else{const a=r.children;Xe(a,u=>{t.visibleWrites=Ww(t.visibleWrites,Ie(r.path,u))})}return!0}else return!1}function y4(t,e){if(t.snap)return yn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&yn(Ie(t.path,n),e))return!0;return!1}function v4(t){t.visibleWrites=xk(t.allWrites,_4,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function _4(t){return t.visible}function xk(t,e,n){let r=Dn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)yn(n,o)?(a=Nt(n,o),r=Ra(r,a,s.snap)):yn(o,n)&&(a=Nt(o,n),r=Ra(r,he(),s.snap.getChild(a)));else if(s.children){if(yn(n,o))a=Nt(n,o),r=fm(r,a,s.children);else if(yn(o,n))if(a=Nt(o,n),ie(a))r=fm(r,he(),s.children);else{const u=es(s.children,re(a));if(u){const c=u.getChild(ye(a));r=Ra(r,he(),c)}}}else throw So("WriteRecord should have .snap or .children")}}return r}function Rk(t,e,n,r,i){if(!r&&!i){const s=ps(t.visibleWrites,e);if(s!=null)return s;{const o=oi(t.visibleWrites,e);if(mm(o))return n;if(n==null&&!pm(o,he()))return null;{const a=n||J.EMPTY_NODE;return go(o,a)}}}else{const s=oi(t.visibleWrites,e);if(!i&&mm(s))return n;if(!i&&n==null&&!pm(s,he()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(yn(c.path,e)||yn(e,c.path))},a=xk(t.allWrites,o,e),u=n||J.EMPTY_NODE;return go(a,u)}}}function w4(t,e,n){let r=J.EMPTY_NODE;const i=ps(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(we,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=oi(t.visibleWrites,e);return n.forEachChild(we,(o,a)=>{const u=go(oi(s,new pe(o)),a);r=r.updateImmediateChild(o,u)}),Hw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=oi(t.visibleWrites,e);return Hw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function E4(t,e,n,r,i){z(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ie(e,n);if(pm(t.visibleWrites,s))return null;{const o=oi(t.visibleWrites,s);return mm(o)?i.getChild(n):go(o,i.getChild(n))}}function S4(t,e,n,r){const i=Ie(e,n),s=ps(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=oi(t.visibleWrites,i);return go(o,r.getNode().getImmediateChild(n))}else return null}function C4(t,e){return ps(t.visibleWrites,e)}function A4(t,e,n,r,i,s,o){let a;const u=oi(t.visibleWrites,e),c=ps(u,he());if(c!=null)a=c;else if(n!=null)a=go(u,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],p=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=d.getNext();for(;y&&f.length<i;)p(y,r)!==0&&f.push(y),y=d.getNext();return f}else return[]}function k4(){return{visibleWrites:Dn.empty(),allWrites:[],lastWriteId:-1}}function ad(t,e,n,r){return Rk(t.writeTree,t.treePath,e,n,r)}function Sy(t,e){return w4(t.writeTree,t.treePath,e)}function $w(t,e,n,r){return E4(t.writeTree,t.treePath,e,n,r)}function ld(t,e){return C4(t.writeTree,Ie(t.treePath,e))}function T4(t,e,n,r,i,s){return A4(t.writeTree,t.treePath,e,n,r,i,s)}function Cy(t,e,n){return S4(t.writeTree,t.treePath,e,n)}function bk(t,e){return Nk(Ie(t.treePath,e),t.writeTree)}function Nk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,fl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,hl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,po(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,fl(r,e.snapshotNode,i.oldSnap));else throw So("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Pk=new x4;class Ay{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cy(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ss(this.viewCache_),s=T4(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){return{filter:t}}function b4(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function N4(t,e,n,r,i){const s=new I4;let o,a;if(n.type===Nn.OVERWRITE){const c=n;c.source.fromUser?o=gm(t,e,c.path,c.snap,r,i,s):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ie(c.path),o=ud(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Nn.MERGE){const c=n;c.source.fromUser?o=O4(t,e,c.path,c.children,r,i,s):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=ym(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Nn.ACK_USER_WRITE){const c=n;c.revert?o=M4(t,e,c.path,r,i,s):o=D4(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Nn.LISTEN_COMPLETE)o=L4(t,e,n.path,r,s);else throw So("Unknown operation type: "+n.type);const u=s.getChanges();return P4(e,o,u),{viewCache:o,changes:u}}function P4(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=od(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(kk(od(e)))}}function Ok(t,e,n,r,i,s){const o=e.eventCache;if(ld(r,n)!=null)return e;{let a,u;if(ie(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ss(e),f=c instanceof J?c:J.EMPTY_NODE,p=Sy(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const c=ad(r,ss(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=re(n);if(c===".priority"){z(gi(n)===1,"Can't have a priority with additional path components");const f=o.getNode();u=e.serverCache.getNode();const p=$w(r,n,f,u);p!=null?a=t.filter.updatePriority(f,p):a=o.getNode()}else{const f=ye(n);let p;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const d=$w(r,n,o.getNode(),u);d!=null?p=o.getNode().getImmediateChild(c).updateChild(f,d):p=o.getNode().getImmediateChild(c)}else p=Cy(r,c,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),c,p,f,i,s):a=o.getNode()}}return xa(e,a,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function ud(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(ie(n))c=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){const y=u.getNode().updateChild(n,r);c=f.updateFullNode(u.getNode(),y,null)}else{const y=re(n);if(!u.isCompleteForPath(n)&&gi(n)>1)return e;const E=ye(n),T=u.getNode().getImmediateChild(y).updateChild(E,r);y===".priority"?c=f.updatePriority(u.getNode(),T):c=f.updateChild(u.getNode(),y,T,E,Pk,null)}const p=Tk(e,c,u.isFullyInitialized()||ie(n),f.filtersNodes()),d=new Ay(i,p,s);return Ok(t,p,n,i,d,a)}function gm(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const f=new Ay(i,e,s);if(ie(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=xa(e,c,!0,t.filter.filtersNodes());else{const p=re(n);if(p===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=xa(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=ye(n),y=a.getNode().getImmediateChild(p);let E;if(ie(d))E=r;else{const k=f.getCompleteChild(p);k!=null?hy(d)===".priority"&&k.getChild(vk(d)).isEmpty()?E=k:E=k.updateChild(d,r):E=J.EMPTY_NODE}if(y.equals(E))u=e;else{const k=t.filter.updateChild(a.getNode(),p,E,d,f,o);u=xa(e,k,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Qw(t,e){return t.eventCache.isCompleteForChild(e)}function O4(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const f=Ie(n,u);Qw(e,re(f))&&(a=gm(t,a,f,c,i,s,o))}),r.foreach((u,c)=>{const f=Ie(n,u);Qw(e,re(f))||(a=gm(t,a,f,c,i,s,o))}),a}function qw(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ym(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;ie(n)?c=r:c=new ve(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((p,d)=>{if(f.hasChild(p)){const y=e.serverCache.getNode().getImmediateChild(p),E=qw(t,y,d);u=ud(t,u,new pe(p),E,i,s,o,a)}}),c.children.inorderTraversal((p,d)=>{const y=!e.serverCache.isCompleteForChild(p)&&d.value===null;if(!f.hasChild(p)&&!y){const E=e.serverCache.getNode().getImmediateChild(p),k=qw(t,E,d);u=ud(t,u,new pe(p),k,i,s,o,a)}}),u}function D4(t,e,n,r,i,s,o){if(ld(i,n)!=null)return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(ie(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ud(t,e,n,u.getNode().getChild(n),i,s,a,o);if(ie(n)){let c=new ve(null);return u.getNode().forEachChild(Yn,(f,p)=>{c=c.set(new pe(f),p)}),ym(t,e,n,c,i,s,a,o)}else return e}else{let c=new ve(null);return r.foreach((f,p)=>{const d=Ie(n,f);u.isCompleteForPath(d)&&(c=c.set(f,u.getNode().getChild(d)))}),ym(t,e,n,c,i,s,a,o)}}function L4(t,e,n,r,i){const s=e.serverCache,o=Tk(e,s.getNode(),s.isFullyInitialized()||ie(n),s.isFiltered());return Ok(t,o,n,r,Pk,i)}function M4(t,e,n,r,i,s){let o;if(ld(r,n)!=null)return e;{const a=new Ay(r,e,i),u=e.eventCache.getNode();let c;if(ie(n)||re(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=ad(r,ss(e));else{const p=e.serverCache.getNode();z(p instanceof J,"serverChildren would be complete if leaf node"),f=Sy(r,p)}f=f,c=t.filter.updateFullNode(u,f,s)}else{const f=re(n);let p=Cy(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?c=t.filter.updateChild(u,f,p,ye(n),a,s):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(u,f,J.EMPTY_NODE,ye(n),a,s):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ad(r,ss(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||ld(r,he())!=null,xa(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j4=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new vy(r.getIndex()),s=Xj(r);this.processor_=R4(s);const o=n.serverCache,a=n.eventCache,u=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),f=new yi(u,o.isFullyInitialized(),i.filtersNodes()),p=new yi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zd(p,f),this.eventGenerator_=new l4(this.query_)}get query(){return this.query_}};function F4(t){return t.viewCache_.serverCache.getNode()}function U4(t){return od(t.viewCache_)}function B4(t,e){const n=ss(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function Kw(t){return t.eventRegistrations_.length===0}function z4(t,e){t.eventRegistrations_.push(e)}function Gw(t,e,n){const r=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Yw(t,e,n,r){e.type===Nn.MERGE&&e.source.queryId!==null&&(z(ss(t.viewCache_),"We should always have a full cache before handling merges"),z(od(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=N4(t.processor_,i,e,n,r);return b4(t.processor_,s.viewCache),z(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Dk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function V4(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(we,(s,o)=>{r.push(po(s,o))}),n.isFullyInitialized()&&r.push(kk(n.getNode())),Dk(t,r,n.getNode(),e)}function Dk(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return u4(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;class Lk{constructor(){this.views=new Map}}function W4(t){z(!cd,"__referenceConstructor has already been defined"),cd=t}function H4(){return z(cd,"Reference.ts has not been loaded"),cd}function $4(t){return t.views.size===0}function ky(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return z(s!=null,"SyncTree gave us an op for an invalid query."),Yw(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Yw(o,e,n,r));return s}}function Mk(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ad(n,i?r:null),u=!1;a?u=!0:r instanceof J?(a=Sy(n,r),u=!1):(a=J.EMPTY_NODE,u=!1);const c=Zd(new yi(a,u,!1),new yi(r,i,!1));return new j4(e,c)}return o}function Q4(t,e,n,r,i,s){const o=Mk(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),z4(o,n),V4(o,n)}function q4(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=vi(t);if(i==="default")for(const[u,c]of t.views.entries())o=o.concat(Gw(c,n,r)),Kw(c)&&(t.views.delete(u),c.query._queryParams.loadsAllData()||s.push(c.query));else{const u=t.views.get(i);u&&(o=o.concat(Gw(u,n,r)),Kw(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return a&&!vi(t)&&s.push(new(H4())(e._repo,e._path)),{removed:s,events:o}}function jk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ai(t,e){let n=null;for(const r of t.views.values())n=n||B4(r,e);return n}function Fk(t,e){if(e._queryParams.loadsAllData())return th(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Uk(t,e){return Fk(t,e)!=null}function vi(t){return th(t)!=null}function th(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd;function K4(t){z(!dd,"__referenceConstructor has already been defined"),dd=t}function G4(){return z(dd,"Reference.ts has not been loaded"),dd}let Y4=1;class Xw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=k4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ty(t,e,n,r,i){return f4(t.pendingWriteTree_,e,n,r,i),i?Ro(t,new is(_y(),e,n)):[]}function X4(t,e,n,r){p4(t.pendingWriteTree_,e,n,r);const i=ve.fromObject(n);return Ro(t,new mo(_y(),e,i))}function Gr(t,e,n=!1){const r=m4(t.pendingWriteTree_,e);if(g4(t.pendingWriteTree_,e)){let s=new ve(null);return r.snap!=null?s=s.set(he(),!0):Xe(r.children,o=>{s=s.set(new pe(o),!0)}),Ro(t,new sd(r.path,s,n))}else return[]}function zl(t,e,n){return Ro(t,new is(wy(),e,n))}function J4(t,e,n){const r=ve.fromObject(n);return Ro(t,new mo(wy(),e,r))}function Z4(t,e){return Ro(t,new ml(wy(),e))}function eF(t,e,n){const r=Iy(t,n);if(r){const i=xy(r),s=i.path,o=i.queryId,a=Nt(s,e),u=new ml(Ey(o),a);return Ry(t,s,u)}else return[]}function hd(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Uk(o,e))){const u=q4(o,e,n,r);$4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=u.removed;if(a=u.events,!i){const f=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(d,y)=>vi(y));if(f&&!p){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const y=rF(d);for(let E=0;E<y.length;++E){const k=y[E],T=k.query,A=Wk(t,k);t.listenProvider_.startListening(ba(T),gl(t,T),A.hashFn,A.onComplete)}}}!p&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(ba(e),null):c.forEach(d=>{const y=t.queryToTagMap.get(rh(d));t.listenProvider_.stopListening(ba(d),y)}))}iF(t,c)}return a}function Bk(t,e,n,r){const i=Iy(t,r);if(i!=null){const s=xy(i),o=s.path,a=s.queryId,u=Nt(o,e),c=new is(Ey(a),u,n);return Ry(t,o,c)}else return[]}function tF(t,e,n,r){const i=Iy(t,r);if(i){const s=xy(i),o=s.path,a=s.queryId,u=Nt(o,e),c=ve.fromObject(n),f=new mo(Ey(a),u,c);return Ry(t,o,f)}else return[]}function vm(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,y)=>{const E=Nt(d,i);s=s||ai(y,E),o=o||vi(y)});let a=t.syncPointTree_.get(i);a?(o=o||vi(a),s=s||ai(a,he())):(a=new Lk,t.syncPointTree_=t.syncPointTree_.set(i,a));let u;s!=null?u=!0:(u=!1,s=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,E)=>{const k=ai(E,he());k&&(s=s.updateImmediateChild(y,k))}));const c=Uk(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=rh(e);z(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const y=sF();t.queryToTagMap.set(d,y),t.tagToQueryMap.set(y,d)}const f=eh(t.pendingWriteTree_,i);let p=Q4(a,e,n,f,s,u);if(!c&&!o&&!r){const d=Fk(a,e);p=p.concat(oF(t,e,d))}return p}function nh(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=Nt(o,e),c=ai(a,u);if(c)return c});return Rk(i,e,s,n,!0)}function nF(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,f)=>{const p=Nt(c,n);r=r||ai(f,p)});let i=t.syncPointTree_.get(n);i?r=r||ai(i,he()):(i=new Lk,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new yi(r,!0,!1):null,a=eh(t.pendingWriteTree_,e._path),u=Mk(i,e,a,s?o.getNode():J.EMPTY_NODE,s);return U4(u)}function Ro(t,e){return zk(e,t.syncPointTree_,null,eh(t.pendingWriteTree_,he()))}function zk(t,e,n,r){if(ie(t.path))return Vk(t,e,n,r);{const i=e.get(he());n==null&&i!=null&&(n=ai(i,he()));let s=[];const o=re(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,f=bk(r,o);s=s.concat(zk(a,u,c,f))}return i&&(s=s.concat(ky(i,t,r,n))),s}}function Vk(t,e,n,r){const i=e.get(he());n==null&&i!=null&&(n=ai(i,he()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=bk(r,o),f=t.operationForChild(o);f&&(s=s.concat(Vk(f,a,u,c)))}),i&&(s=s.concat(ky(i,t,r,n))),s}function Wk(t,e){const n=e.query,r=gl(t,n);return{hashFn:()=>(F4(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?eF(t,n._path,r):Z4(t,n._path);{const s=XM(i,n);return hd(t,n,null,s)}}}}function gl(t,e){const n=rh(e);return t.queryToTagMap.get(n)}function rh(t){return t._path.toString()+"$"+t._queryIdentifier}function Iy(t,e){return t.tagToQueryMap.get(e)}function xy(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function Ry(t,e,n){const r=t.syncPointTree_.get(e);z(r,"Missing sync point for query tag that we're tracking");const i=eh(t.pendingWriteTree_,e);return ky(r,n,i,null)}function rF(t){return t.fold((e,n,r)=>{if(n&&vi(n))return[th(n)];{let i=[];return n&&(i=jk(n)),Xe(r,(s,o)=>{i=i.concat(o)}),i}})}function ba(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(G4())(t._repo,t._path):t}function iF(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=rh(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function sF(){return Y4++}function oF(t,e,n){const r=e._path,i=gl(t,e),s=Wk(t,n),o=t.listenProvider_.startListening(ba(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)z(!vi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const u=a.fold((c,f,p)=>{if(!ie(c)&&f&&vi(f))return[th(f).query];{let d=[];return f&&(d=d.concat(jk(f).map(y=>y.query))),Xe(p,(y,E)=>{d=d.concat(E)}),d}});for(let c=0;c<u.length;++c){const f=u[c];t.listenProvider_.stopListening(ba(f),gl(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new by(n)}node(){return this.node_}}class Ny{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ie(this.path_,e);return new Ny(this.syncTree_,n)}node(){return nh(this.syncTree_,this.path_)}}const aF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jw=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uF(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},uF=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const i=e.node();if(z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Hk=function(t,e,n,r){return Oy(e,new Ny(n,t),r)},Py=function(t,e,n){return Oy(t,new by(e),n)};function Oy(t,e,n){const r=t.getPriority().val(),i=Jw(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Jw(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $e(a,Re(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $e(i))),o.forEachChild(we,(a,u)=>{const c=Oy(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ih(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=re(n);for(;i!==null;){const s=es(r.node.children,i)||{children:{},childCount:0};r=new Dy(i,r,s),n=ye(n),i=re(n)}return r}function ms(t){return t.node.value}function Ly(t,e){t.node.value=e,_m(t)}function $k(t){return t.node.childCount>0}function cF(t){return ms(t)===void 0&&!$k(t)}function sh(t,e){Xe(t.node.children,(n,r)=>{e(new Dy(n,t,r))})}function Qk(t,e,n,r){n&&!r&&e(t),sh(t,i=>{Qk(i,e,!0,r)}),n&&r&&e(t)}function dF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vl(t){return new pe(t.parent===null?t.name:Vl(t.parent)+"/"+t.name)}function _m(t){t.parent!==null&&hF(t.parent,t.name,t)}function hF(t,e,n){const r=cF(n),i=an(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,_m(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,_m(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=/[\[\].#$\/\u0000-\u001F\u007F]/,pF=/[\[\].#$\u0000-\u001F\u007F]/,Lf=10*1024*1024,oh=function(t){return typeof t=="string"&&t.length!==0&&!fF.test(t)},qk=function(t){return typeof t=="string"&&t.length!==0&&!pF.test(t)},mF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qk(t)},yl=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gd(t)||t&&typeof t=="object"&&an(t,".sv")},tr=function(t,e,n,r){r&&e===void 0||Wl(Qt(t,"value"),e,n)},Wl=function(t,e,n){const r=n instanceof pe?new Nj(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Di(r));if(typeof e=="function")throw new Error(t+"contains a function "+Di(r)+" with contents = "+e.toString());if(Gd(e))throw new Error(t+"contains "+e.toString()+" "+Di(r));if(typeof e=="string"&&e.length>Lf/3&&Hd(e)>Lf)throw new Error(t+"contains a string greater than "+Lf+" utf8 bytes "+Di(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xe(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!oh(o)))throw new Error(t+" contains an invalid key ("+o+") "+Di(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Pj(r,o),Wl(t,a,r),Oj(r)}),i&&s)throw new Error(t+' contains ".value" child '+Di(r)+" in addition to actual children.")}},gF=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=dl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!oh(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(bj);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&yn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Kk=function(t,e,n,r){if(r&&e===void 0)return;const i=Qt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Xe(e,(o,a)=>{const u=new pe(o);if(Wl(i,a,Ie(n,u)),hy(u)===".priority"&&!yl(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),gF(i,s)},My=function(t,e,n){if(!(n&&e===void 0)){if(Gd(e))throw new Error(Qt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yl(e))throw new Error(Qt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Hl=function(t,e,n,r){if(!(r&&n===void 0)&&!oh(n))throw new Error(Qt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},vl=function(t,e,n,r){if(!(r&&n===void 0)&&!qk(n))throw new Error(Qt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vl(t,e,n,r)},vn=function(t,e){if(re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Gk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!oh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!mF(n))throw new Error(Qt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ah(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!fy(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Yk(t,e,n){ah(t,n),Xk(t,r=>fy(r,e))}function un(t,e,n){ah(t,n),Xk(t,r=>yn(r,e)||yn(e,r))}function Xk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(_F(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _F(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Hi&&Ge("event: "+n.toString()),Io(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="repo_interrupt",wF=25;class EF{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=id(),this.transactionQueueTree_=new Dy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SF(t,e,n){if(t.stats_=cy(t.repoInfo_),t.forceRestClient_||tj())t.server_=new rd(t.repoInfo_,(r,i,s,o)=>{Zw(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>eE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new yr(t.repoInfo_,e,(r,i,s,o)=>{Zw(t,r,i,s,o)},r=>{eE(t,r)},r=>{CF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oj(t.repoInfo_,()=>new a4(t.stats_,t.server_)),t.infoData_=new n4,t.infoSyncTree_=new Xw({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=zl(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),jy(t,"connected",!1),t.serverSyncTree_=new Xw({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);un(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Zk(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $l(t){return aF({timestamp:Zk(t)})}function Zw(t,e,n,r,i){t.dataUpdateCount++;const s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Qc(n,c=>Re(c));o=tF(t.serverSyncTree_,s,u,i)}else{const u=Re(n);o=Bk(t.serverSyncTree_,s,u,i)}else if(r){const u=Qc(n,c=>Re(c));o=J4(t.serverSyncTree_,s,u)}else{const u=Re(n);o=zl(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=yo(t,s)),un(t.eventQueue_,a,o)}function eE(t,e){jy(t,"connected",e),e===!1&&TF(t)}function CF(t,e){Xe(e,(n,r)=>{jy(t,n,r)})}function jy(t,e,n){const r=new pe("/.info/"+e),i=Re(n);t.infoData_.updateSnapshot(r,i);const s=zl(t.infoSyncTree_,r,i);un(t.eventQueue_,r,s)}function lh(t){return t.nextWriteId_++}function AF(t,e,n){const r=nF(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Re(i).withIndex(e._queryParams.getIndex());vm(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=zl(t.serverSyncTree_,e._path,s);else{const a=gl(t.serverSyncTree_,e);o=Bk(t.serverSyncTree_,e._path,s,a)}return un(t.eventQueue_,e._path,o),hd(t.serverSyncTree_,e,n,null,!0),s},i=>(bo(t,"get for query "+We(e)+" failed: "+i),Promise.reject(new Error(i))))}function Fy(t,e,n,r,i){bo(t,"set",{path:e.toString(),value:n,priority:r});const s=$l(t),o=Re(n,r),a=nh(t.serverSyncTree_,e),u=Py(o,a,s),c=lh(t),f=Ty(t.serverSyncTree_,e,u,c,!0);ah(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(d,y)=>{const E=d==="ok";E||Et("set at "+e+" failed: "+d);const k=Gr(t.serverSyncTree_,c,!E);un(t.eventQueue_,e,k),_i(t,i,d,y)});const p=By(t,e);yo(t,p),un(t.eventQueue_,p,[])}function kF(t,e,n,r){bo(t,"update",{path:e.toString(),value:n});let i=!0;const s=$l(t),o={};if(Xe(n,(a,u)=>{i=!1,o[a]=Hk(Ie(e,a),Re(u),t.serverSyncTree_,s)}),i)Ge("update() called with empty data.  Don't do anything."),_i(t,r,"ok",void 0);else{const a=lh(t),u=X4(t.serverSyncTree_,e,o,a);ah(t.eventQueue_,u),t.server_.merge(e.toString(),n,(c,f)=>{const p=c==="ok";p||Et("update at "+e+" failed: "+c);const d=Gr(t.serverSyncTree_,a,!p),y=d.length>0?yo(t,e):e;un(t.eventQueue_,y,d),_i(t,r,c,f)}),Xe(n,c=>{const f=By(t,Ie(e,c));yo(t,f)}),un(t.eventQueue_,e,[])}}function TF(t){bo(t,"onDisconnectEvents");const e=$l(t),n=id();hm(t.onDisconnect_,he(),(i,s)=>{const o=Hk(i,s,t.serverSyncTree_,e);xo(n,i,o)});let r=[];hm(n,he(),(i,s)=>{r=r.concat(zl(t.serverSyncTree_,i,s));const o=By(t,i);yo(t,o)}),t.onDisconnect_=id(),un(t.eventQueue_,he(),r)}function IF(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&dm(t.onDisconnect_,e),_i(t,n,r,i)})}function tE(t,e,n,r){const i=Re(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&xo(t.onDisconnect_,e,i),_i(t,r,s,o)})}function xF(t,e,n,r,i){const s=Re(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&xo(t.onDisconnect_,e,s),_i(t,i,o,a)})}function RF(t,e,n,r){if($c(n)){Ge("onDisconnect().update() called with empty data.  Don't do anything."),_i(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Xe(n,(o,a)=>{const u=Re(a);xo(t.onDisconnect_,Ie(e,o),u)}),_i(t,r,i,s)})}function bF(t,e,n){let r;re(e._path)===".info"?r=vm(t.infoSyncTree_,e,n):r=vm(t.serverSyncTree_,e,n),Yk(t.eventQueue_,e._path,r)}function wm(t,e,n){let r;re(e._path)===".info"?r=hd(t.infoSyncTree_,e,n):r=hd(t.serverSyncTree_,e,n),Yk(t.eventQueue_,e._path,r)}function eT(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jk)}function NF(t){t.persistentConnection_&&t.persistentConnection_.resume(Jk)}function bo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ge(n,...e)}function _i(t,e,n,r){e&&Io(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function PF(t,e,n,r,i,s){bo(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:GA(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Uy(t,e,void 0);o.currentInputSnapshot=a;const u=o.update(a.val());if(u===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Wl("transaction failed: Data returned ",u,o.path),o.status=0;const c=ih(t.transactionQueueTree_,e),f=ms(c)||[];f.push(o),Ly(c,f);let p;typeof u=="object"&&u!==null&&an(u,".priority")?(p=es(u,".priority"),z(yl(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(nh(t.serverSyncTree_,e)||J.EMPTY_NODE).getPriority().val();const d=$l(t),y=Re(u,p),E=Py(y,a,d);o.currentOutputSnapshotRaw=y,o.currentOutputSnapshotResolved=E,o.currentWriteId=lh(t);const k=Ty(t.serverSyncTree_,e,E,o.currentWriteId,o.applyLocally);un(t.eventQueue_,e,k),uh(t,t.transactionQueueTree_)}}function Uy(t,e,n){return nh(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function uh(t,e=t.transactionQueueTree_){if(e||ch(t,e),ms(e)){const n=nT(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&OF(t,Vl(e),n)}else $k(e)&&sh(e,n=>{uh(t,n)})}function OF(t,e,n){const r=n.map(c=>c.currentWriteId),i=Uy(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const f=n[c];z(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=Nt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{bo(t,"transaction put response",{path:u.toString(),status:c});let f=[];if(c==="ok"){const p=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(Gr(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&p.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();ch(t,ih(t.transactionQueueTree_,e)),uh(t,t.transactionQueueTree_),un(t.eventQueue_,e,f);for(let d=0;d<p.length;d++)Io(p[d])}else{if(c==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Et("transaction at "+u.toString()+" failed: "+c);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=c}yo(t,e)}},o)}function yo(t,e){const n=tT(t,e),r=Vl(n),i=nT(t,n);return DF(t,i,r),r}function DF(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Nt(n,u.path);let f=!1,p;if(z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,i=i.concat(Gr(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=wF)f=!0,p="maxretry",i=i.concat(Gr(t.serverSyncTree_,u.currentWriteId,!0));else{const d=Uy(t,u.path,o);u.currentInputSnapshot=d;const y=e[a].update(d.val());if(y!==void 0){Wl("transaction failed: Data returned ",y,u.path);let E=Re(y);typeof y=="object"&&y!=null&&an(y,".priority")||(E=E.updatePriority(d.getPriority()));const T=u.currentWriteId,A=$l(t),v=Py(E,d,A);u.currentOutputSnapshotRaw=E,u.currentOutputSnapshotResolved=v,u.currentWriteId=lh(t),o.splice(o.indexOf(T),1),i=i.concat(Ty(t.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally)),i=i.concat(Gr(t.serverSyncTree_,T,!0))}else f=!0,p="nodata",i=i.concat(Gr(t.serverSyncTree_,u.currentWriteId,!0))}un(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}ch(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Io(r[a]);uh(t,t.transactionQueueTree_)}function tT(t,e){let n,r=t.transactionQueueTree_;for(n=re(e);n!==null&&ms(r)===void 0;)r=ih(r,n),e=ye(e),n=re(e);return r}function nT(t,e){const n=[];return rT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function rT(t,e,n){const r=ms(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);sh(e,i=>{rT(t,i,n)})}function ch(t,e){const n=ms(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ly(e,n.length>0?n:void 0)}sh(e,r=>{ch(t,r)})}function By(t,e){const n=Vl(tT(t,e)),r=ih(t.transactionQueueTree_,e);return dF(r,i=>{Mf(t,i)}),Mf(t,r),Qk(r,i=>{Mf(t,i)}),n}function Mf(t,e){const n=ms(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(z(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(z(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Gr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ly(e,void 0):n.length=s+1,un(t.eventQueue_,Vl(e),i);for(let o=0;o<r.length;o++)Io(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function MF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Et(`Invalid query segment '${n}' in query '${t}'`)}return e}const Em=function(t,e){const n=jF(t),r=n.namespace;n.domain==="firebase.com"&&er(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&er("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||QM();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uk(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pe(n.pathString)}},jF=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=LF(t.substring(f,p)));const d=MF(t.substring(Math.min(t.length,p)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",FF=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=nE.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=nE.charAt(e[i]);return z(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class sT{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UF=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Bt;return IF(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){vn("OnDisconnect.remove",this._path);const e=new Bt;return tE(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){vn("OnDisconnect.set",this._path),tr("OnDisconnect.set",e,this._path,!1);const n=new Bt;return tE(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){vn("OnDisconnect.setWithPriority",this._path),tr("OnDisconnect.setWithPriority",e,this._path,!1),My("OnDisconnect.setWithPriority",n,!1);const r=new Bt;return xF(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){vn("OnDisconnect.update",this._path),Kk("OnDisconnect.update",e,this._path,!1);const n=new Bt;return RF(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ie(this._path)?null:hy(this._path)}get ref(){return new Cn(this._repo,this._path)}get _queryIdentifier(){const e=zw(this._queryParams),n=ly(e);return n==="{}"?"default":n}get _queryObject(){return zw(this._queryParams)}isEqual(e){if(e=Ee(e),!(e instanceof Kt))return!1;const n=this._repo===e._repo,r=fy(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Rj(this._path)}}function dh(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ti(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Yn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==mi)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ar)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===we){if(e!=null&&!yl(e)||n!=null&&!yl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(z(t.getIndex()instanceof gy||t.getIndex()===yy,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hh(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Cn extends Kt{constructor(e,n){super(e,n,new Xd,!1)}get parent(){const e=vk(this._path);return e===null?null:new Cn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let fh=class Sm{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pe(e),r=os(this.ref,e);return new Sm(this._node.getChild(n),r,we)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Sm(i,os(this.ref,r),we)))}hasChild(e){const n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function oT(t,e){return t=Ee(t),t._checkNotDeleted("ref"),e!==void 0?os(t._root,e):t._root}function rE(t,e){t=Ee(t),t._checkNotDeleted("refFromURL");const n=Em(e,t._repo.repoInfo_.nodeAdmin);Gk("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&er("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),oT(t,n.path.toString())}function os(t,e){return t=Ee(t),re(t._path)===null?yF("child","path",e,!1):vl("child","path",e,!1),new Cn(t._repo,Ie(t._path,e))}function BF(t,e){t=Ee(t),vn("push",t._path),tr("push",e,t._path,!0);const n=Zk(t._repo),r=FF(n),i=os(t,r),s=os(t,r);let o;return e!=null?o=Vy(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function zF(t){return vn("remove",t._path),Vy(t,null)}function Vy(t,e){t=Ee(t),vn("set",t._path),tr("set",e,t._path,!1);const n=new Bt;return Fy(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function VF(t,e){t=Ee(t),vn("setPriority",t._path),My("setPriority",e,!1);const n=new Bt;return Fy(t._repo,Ie(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function WF(t,e,n){if(vn("setWithPriority",t._path),tr("setWithPriority",e,t._path,!1),My("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Bt;return Fy(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function HF(t,e){Kk("update",e,t._path,!1);const n=new Bt;return kF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function $F(t){t=Ee(t);const e=new zy(()=>{}),n=new Ql(e);return AF(t._repo,t,n).then(r=>new fh(r,new Cn(t._repo,t._path),t._queryParams.getIndex()))}class Ql{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new iT("value",this,new fh(e.snapshotNode,new Cn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sT(this,e,n):null}matches(e){return e instanceof Ql?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ph{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sT(this,e,n):null}createEvent(e,n){z(e.childName!=null,"Child events should have a childName.");const r=os(new Cn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new iT(e.type,this,new fh(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ph?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ql(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,c=(f,p)=>{wm(t._repo,t,a),u(f,p)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new zy(n,s||void 0),a=e==="value"?new Ql(o):new ph(e,o);return bF(t._repo,t,a),()=>wm(t._repo,t,a)}function Cm(t,e,n,r){return ql(t,"value",e,n,r)}function iE(t,e,n,r){return ql(t,"child_added",e,n,r)}function sE(t,e,n,r){return ql(t,"child_changed",e,n,r)}function oE(t,e,n,r){return ql(t,"child_moved",e,n,r)}function aE(t,e,n,r){return ql(t,"child_removed",e,n,r)}function lE(t,e,n){let r=null;const i=n?new zy(n):null;e==="value"?r=new Ql(i):e&&(r=new ph(e,i)),wm(t._repo,t,r)}class Bn{}class aT extends Bn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){tr("endAt",this._value,e._path,!0);const n=cm(e._queryParams,this._value,this._key);if(hh(n),Ti(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kt(e._repo,e._path,n,e._orderByCalled)}}function QF(t,e){return Hl("endAt","key",e,!0),new aT(t,e)}class qF extends Bn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){tr("endBefore",this._value,e._path,!1);const n=t4(e._queryParams,this._value,this._key);if(hh(n),Ti(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kt(e._repo,e._path,n,e._orderByCalled)}}function KF(t,e){return Hl("endBefore","key",e,!0),new qF(t,e)}class lT extends Bn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){tr("startAt",this._value,e._path,!0);const n=um(e._queryParams,this._value,this._key);if(hh(n),Ti(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kt(e._repo,e._path,n,e._orderByCalled)}}function GF(t=null,e){return Hl("startAt","key",e,!0),new lT(t,e)}class YF extends Bn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){tr("startAfter",this._value,e._path,!1);const n=e4(e._queryParams,this._value,this._key);if(hh(n),Ti(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kt(e._repo,e._path,n,e._orderByCalled)}}function XF(t,e){return Hl("startAfter","key",e,!0),new YF(t,e)}class JF extends Bn{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kt(e._repo,e._path,Jj(e._queryParams,this._limit),e._orderByCalled)}}function ZF(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new JF(t)}class eU extends Bn{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kt(e._repo,e._path,Zj(e._queryParams,this._limit),e._orderByCalled)}}function tU(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new eU(t)}class nU extends Bn{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){dh(e,"orderByChild");const n=new pe(this._path);if(ie(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new gy(n),i=Jd(e._queryParams,r);return Ti(i),new Kt(e._repo,e._path,i,!0)}}function rU(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vl("orderByChild","path",t,!1),new nU(t)}class iU extends Bn{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){dh(e,"orderByKey");const n=Jd(e._queryParams,Yn);return Ti(n),new Kt(e._repo,e._path,n,!0)}}function sU(){return new iU}class oU extends Bn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){dh(e,"orderByPriority");const n=Jd(e._queryParams,we);return Ti(n),new Kt(e._repo,e._path,n,!0)}}function aU(){return new oU}class lU extends Bn{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){dh(e,"orderByValue");const n=Jd(e._queryParams,yy);return Ti(n),new Kt(e._repo,e._path,n,!0)}}function uU(){return new lU}class cU extends Bn{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(tr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new aT(this._value,this._key)._apply(new lT(this._value,this._key)._apply(e))}}function dU(t,e){return Hl("equalTo","key",e,!0),new cU(t,e)}function Tn(t,...e){let n=Ee(t);for(const r of e)n=r._apply(n);return n}W4(Cn);K4(Cn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="FIREBASE_DATABASE_EMULATOR_HOST",Am={};let fU=!1;function pU(t,e,n,r){t.repoInfo_=new uk(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function uT(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||er("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ge("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Em(s,i),a=o.repoInfo,u,c;typeof process<"u"&&Cw&&(c=Cw[hU]),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=Em(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const f=i&&u?new Xs(Xs.OWNER):new rj(t.name,t.options,e);Gk("Invalid Firebase Database URL",o),ie(o.path)||er("Database URL must point to the root of a Firebase Database (not including a child path).");const p=gU(a,t,f,new nj(t.name,n));return new yU(p,t)}function mU(t,e){const n=Am[e];(!n||n[t.key]!==t)&&er(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eT(t),delete n[t.key]}function gU(t,e,n,r){let i=Am[e.name];i||(i={},Am[e.name]=i);let s=i[t.toURLString()];return s&&er("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new EF(t,fU,n,r),i[t.toURLString()]=s,s}let yU=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(SF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cn(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&er("Cannot call "+e+" on a deleted database.")}};function cT(){fo.IS_TRANSPORT_INITIALIZED&&Et("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function vU(){cT(),Kr.forceDisallow()}function _U(){cT(),mn.forceDisallow(),Kr.forceAllow()}function wU(t,e,n,r={}){t=Ee(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&er("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&er('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xs(Xs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:G1(r.mockUserToken,t.app.options.projectId);s=new Xs(o)}pU(i,e,n,s)}function EU(t){t=Ee(t),t._checkNotDeleted("goOffline"),eT(t._repo)}function SU(t){t=Ee(t),t._checkNotDeleted("goOnline"),NF(t._repo)}function CU(t,e){XA(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){qA(rr),Zn(new ln("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uT(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),wt(Aw,kw,t),wt(Aw,kw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU={".sv":"timestamp"};function TU(){return kU}function IU(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xU=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function RU(t,e,n){var r;if(t=Ee(t),vn("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Bt,o=(u,c,f)=>{let p=null;u?s.reject(u):(p=new fh(f,new Cn(t._repo,t._path),we),s.resolve(new xU(c,p)))},a=Cm(t,()=>{});return PF(t._repo,t._path,e,o,a,i),s.promise}yr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};yr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};AU();const bU="@firebase/database-compat",NU="1.0.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new Ao("@firebase/database-compat"),dT=function(t){const e="FIREBASE WARNING: "+t;PU.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Qt(t,e)+"must be a boolean.")},DU=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Qt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this._delegate=e}cancel(e){Z("OnDisconnect.cancel",0,1,arguments.length),qe("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Z("OnDisconnect.remove",0,1,arguments.length),qe("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Z("OnDisconnect.set",1,2,arguments.length),qe("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Z("OnDisconnect.setWithPriority",2,3,arguments.length),qe("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Z("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,dT("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qe("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Z("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){this._database=e,this._delegate=n}val(){return Z("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Z("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Z("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Z("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Z("DataSnapshot.child",0,1,arguments.length),e=String(e),vl("DataSnapshot.child","path",e,!1),new li(this._database,this._delegate.child(e))}hasChild(e){return Z("DataSnapshot.hasChild",1,1,arguments.length),vl("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return Z("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Z("DataSnapshot.forEach",1,1,arguments.length),qe("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new li(this._database,n)))}hasChildren(){return Z("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Z("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Z("DataSnapshot.ref",0,0,arguments.length),new Bi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}let hT=class Rt{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;Z("Query.on",2,4,arguments.length),qe("Query.on","callback",n,!1);const o=Rt.getCancelAndContextArgs_("Query.on",r,i),a=(c,f)=>{n.call(o.context,new li(this.database,c),f)};a.userCallback=n,a.context=o.context;const u=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return Cm(this._delegate,a,u),n;case"child_added":return iE(this._delegate,a,u),n;case"child_removed":return aE(this._delegate,a,u),n;case"child_changed":return sE(this._delegate,a,u),n;case"child_moved":return oE(this._delegate,a,u),n;default:throw new Error(Qt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Z("Query.off",0,3,arguments.length),DU("Query.off",e,!0),qe("Query.off","callback",n,!0),G0("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,lE(this._delegate,e,i)}else lE(this._delegate,e)}get(){return $F(this._delegate).then(e=>new li(this.database,e))}once(e,n,r,i){Z("Query.once",1,4,arguments.length),qe("Query.once","callback",n,!0);const s=Rt.getCancelAndContextArgs_("Query.once",r,i),o=new Bt,a=(c,f)=>{const p=new li(this.database,c);n&&n.call(s.context,p,f),o.resolve(p)};a.userCallback=n,a.context=s.context;const u=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":Cm(this._delegate,a,u,{onlyOnce:!0});break;case"child_added":iE(this._delegate,a,u,{onlyOnce:!0});break;case"child_removed":aE(this._delegate,a,u,{onlyOnce:!0});break;case"child_changed":sE(this._delegate,a,u,{onlyOnce:!0});break;case"child_moved":oE(this._delegate,a,u,{onlyOnce:!0});break;default:throw new Error(Qt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return Z("Query.limitToFirst",1,1,arguments.length),new Rt(this.database,Tn(this._delegate,ZF(e)))}limitToLast(e){return Z("Query.limitToLast",1,1,arguments.length),new Rt(this.database,Tn(this._delegate,tU(e)))}orderByChild(e){return Z("Query.orderByChild",1,1,arguments.length),new Rt(this.database,Tn(this._delegate,rU(e)))}orderByKey(){return Z("Query.orderByKey",0,0,arguments.length),new Rt(this.database,Tn(this._delegate,sU()))}orderByPriority(){return Z("Query.orderByPriority",0,0,arguments.length),new Rt(this.database,Tn(this._delegate,aU()))}orderByValue(){return Z("Query.orderByValue",0,0,arguments.length),new Rt(this.database,Tn(this._delegate,uU()))}startAt(e=null,n){return Z("Query.startAt",0,2,arguments.length),new Rt(this.database,Tn(this._delegate,GF(e,n)))}startAfter(e=null,n){return Z("Query.startAfter",0,2,arguments.length),new Rt(this.database,Tn(this._delegate,XF(e,n)))}endAt(e=null,n){return Z("Query.endAt",0,2,arguments.length),new Rt(this.database,Tn(this._delegate,QF(e,n)))}endBefore(e=null,n){return Z("Query.endBefore",0,2,arguments.length),new Rt(this.database,Tn(this._delegate,KF(e,n)))}equalTo(e,n){return Z("Query.equalTo",1,2,arguments.length),new Rt(this.database,Tn(this._delegate,dU(e,n)))}toString(){return Z("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Z("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Z("Query.isEqual",1,1,arguments.length),!(e instanceof Rt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,qe(e,"cancel",i.cancel,!0),i.context=r,G0(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Qt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Bi(this.database,new Cn(this._delegate._repo,this._delegate._path))}},Bi=class ks extends hT{constructor(e,n){super(e,new Kt(n._repo,n._path,new Xd,!1)),this.database=e,this._delegate=n}getKey(){return Z("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Z("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new ks(this.database,os(this._delegate,e))}getParent(){Z("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ks(this.database,e):null}getRoot(){return Z("Reference.root",0,0,arguments.length),new ks(this.database,this._delegate.root)}set(e,n){Z("Reference.set",1,2,arguments.length),qe("Reference.set","onComplete",n,!0);const r=Vy(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Z("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,dT("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vn("Reference.update",this._delegate._path),qe("Reference.update","onComplete",n,!0);const r=HF(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Z("Reference.setWithPriority",2,3,arguments.length),qe("Reference.setWithPriority","onComplete",r,!0);const i=WF(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Z("Reference.remove",0,1,arguments.length),qe("Reference.remove","onComplete",e,!0);const n=zF(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Z("Reference.transaction",1,3,arguments.length),qe("Reference.transaction","transactionUpdate",e,!1),qe("Reference.transaction","onComplete",n,!0),OU("Reference.transaction","applyLocally",r,!0);const i=RU(this._delegate,e,{applyLocally:r}).then(s=>new MU(s.committed,new li(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Z("Reference.setPriority",1,2,arguments.length),qe("Reference.setPriority","onComplete",n,!0);const r=VF(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Z("Reference.push",0,2,arguments.length),qe("Reference.push","onComplete",n,!0);const r=BF(this._delegate,e),i=r.then(o=>new ks(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new ks(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return vn("Reference.onDisconnect",this._delegate._path),new LU(new UF(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:vU,forceLongPolling:_U}}useEmulator(e,n,r={}){wU(this._delegate,e,n,r)}ref(e){if(Z("database.ref",0,1,arguments.length),e instanceof Bi){const n=rE(this._delegate,e.toString());return new Bi(this,n)}else{const n=oT(this._delegate,e);return new Bi(this,n)}}refFromURL(e){Z("database.refFromURL",1,1,arguments.length);const r=rE(this._delegate,e);return new Bi(this,r)}goOffline(){return Z("database.goOffline",0,0,arguments.length),EU(this._delegate)}goOnline(){return Z("database.goOnline",0,0,arguments.length),SU(this._delegate)}}_l.ServerValue={TIMESTAMP:TU(),increment:t=>IU(t)};function jU({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){qA(n);const a=new Hg("database-standalone"),u=new Xp("auth-internal",a);u.setComponent(new ln("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new Xp("app-check-internal",a),c.setComponent(new ln("app-check-internal",()=>i,"PRIVATE"))),{instance:new _l(uT(t,u,c,e,o),t),namespace:s}}var FU=Object.freeze({__proto__:null,initStandalone:jU});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=_l.ServerValue;function BU(t){t.INTERNAL.registerComponent(new ln("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new _l(i,r)},"PUBLIC").setServiceProps({Reference:Bi,Query:hT,Database:_l,DataSnapshot:li,enableLogging:CU,INTERNAL:FU,ServerValue:UU}).setMultipleInstances(!0)),t.registerVersion(bU,NU)}BU(oy);function km(t,e){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},km(t,e)}function Kl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,km(t,e)}var Gl=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function ae(){return ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ae.apply(this,arguments)}var fT=typeof window>"u";function gt(){}function zU(t,e){return typeof t=="function"?t(e):t}function VU(t){return typeof t=="number"&&t>=0&&t!==1/0}function fd(t){return Array.isArray(t)?t:[t]}function WU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jf(t,e,n){return Yl(t)?typeof e=="function"?ae({},n,{queryKey:t,queryFn:e}):ae({},e,{queryKey:t}):t}function HU(t,e,n){return Yl(t)?typeof e=="function"?ae({},n,{mutationKey:t,mutationFn:e}):ae({},e,{mutationKey:t}):typeof t=="function"?ae({},e,{mutationFn:t}):ae({},t)}function jr(t,e,n){return Yl(t)?[ae({},e,{queryKey:t}),n]:[t||{},e]}function $U(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function uE(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,u=t.stale;if(Yl(a)){if(r){if(e.queryHash!==Wy(a,e.options))return!1}else if(!pd(e.queryKey,a))return!1}var c=$U(n,s);if(c==="none")return!1;if(c!=="all"){var f=e.isActive();if(c==="active"&&!f||c==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function cE(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(Yl(s)){if(!e.options.mutationKey)return!1;if(n){if(zi(e.options.mutationKey)!==zi(s))return!1}else if(!pd(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Wy(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||zi;return n(t)}function zi(t){var e=fd(t);return QU(e)}function QU(t){return JSON.stringify(t,function(e,n){return Tm(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function pd(t,e){return pT(fd(t),fd(e))}function pT(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!pT(t[n],e[n])}):!1}function mT(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Tm(t)&&Tm(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,u=0;u<s;u++){var c=n?u:i[u];o[c]=mT(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function Tm(t){if(!dE(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!dE(n)||!n.hasOwnProperty("isPrototypeOf"))}function dE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yl(t){return typeof t=="string"||Array.isArray(t)}function qU(t){return new Promise(function(e){setTimeout(e,t)})}function hE(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function gT(){if(typeof AbortController=="function")return new AbortController}var KU=function(t){Kl(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!fT&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Gl),rc=new KU,GU=function(t){Kl(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!fT&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Gl),ic=new GU;function YU(t){return Math.min(1e3*Math.pow(2,t),3e4)}function md(t){return typeof(t==null?void 0:t.cancel)=="function"}var yT=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Ff(t){return t instanceof yT}var vT=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(d){return i==null?void 0:i(d)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,y){o=d,a=y});var u=function(y){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(y),s==null||s(),o(y))},c=function(y){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(y),s==null||s(),a(y))},f=function(){return new Promise(function(y){s=y,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},p=function d(){if(!n.isResolved){var y;try{y=e.fn()}catch(E){y=Promise.reject(E)}i=function(k){if(!n.isResolved&&(c(new yT(k)),n.abort==null||n.abort(),md(y)))try{y.cancel()}catch{}},n.isTransportCancelable=md(y),Promise.resolve(y).then(u).catch(function(E){var k,T;if(!n.isResolved){var A=(k=e.retry)!=null?k:3,v=(T=e.retryDelay)!=null?T:YU,g=typeof v=="function"?v(n.failureCount,E):v,S=A===!0||typeof A=="number"&&n.failureCount<A||typeof A=="function"&&A(n.failureCount,E);if(r||!S){c(E);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,E),qU(g).then(function(){if(!rc.isFocused()||!ic.isOnline())return f()}).then(function(){r?c(E):d()})}})}};p()},XU=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):hE(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&hE(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),Ve=new XU,_T=console;function wT(){return _T}function JU(t){_T=t}var ZU=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=ae({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),VU(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,u=zU(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,u)?u=a:this.options.structuralSharing!==!1&&(u=mT(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),u},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(gt).catch(gt):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!WU(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var f=this.observers.find(function(v){return v.options.queryFn});f&&this.setOptions(f.options)}var p=fd(this.queryKey),d=gT(),y={queryKey:p,pageParam:void 0,meta:this.meta};Object.defineProperty(y,"signal",{enumerable:!0,get:function(){if(d)return s.abortSignalConsumed=!0,d.signal}});var E=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(y)):Promise.reject("Missing queryFn")},k={fetchOptions:i,options:this.options,queryKey:p,state:this.state,fetchFn:E,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var T;(T=this.options.behavior)==null||T.onFetch(k)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=k.fetchOptions)==null?void 0:a.meta)){var A;this.dispatch({type:"fetch",meta:(A=k.fetchOptions)==null?void 0:A.meta})}return this.retryer=new vT({fn:k.fetchFn,abort:d==null||(u=d.abort)==null?void 0:u.bind(d),onSuccess:function(g){s.setData(g),s.cache.config.onSuccess==null||s.cache.config.onSuccess(g,s),s.cacheTime===0&&s.optionalRemove()},onError:function(g){Ff(g)&&g.silent||s.dispatch({type:"error",error:g}),Ff(g)||(s.cache.config.onError==null||s.cache.config.onError(g,s),wT().error(g)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:k.options.retry,retryDelay:k.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Ve.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return ae({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return ae({},r,{isPaused:!0});case"continue":return ae({},r,{isPaused:!1});case"fetch":return ae({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return ae({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return Ff(a)&&a.revert&&this.revertState?ae({},this.revertState):ae({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return ae({},r,{isInvalidated:!0});case"setState":return ae({},r,i.state);default:return r}},t}(),e6=function(t){Kl(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,u=s.queryKey,c=(a=s.queryHash)!=null?a:Wy(u,s),f=this.get(c);return f||(f=new ZU({cache:this,queryKey:u,queryHash:c,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(u),meta:s.meta}),this.add(f)),f},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Ve.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=jr(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return uE(a,u)})},n.findAll=function(i,s){var o=jr(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(u){return uE(a,u)}):this.queries},n.notify=function(i){var s=this;Ve.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;Ve.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;Ve.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Gl),t6=function(){function t(n){this.options=ae({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||ET(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(gt).catch(gt)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),wT().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new vT({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=n6(this.state,r),Ve.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function ET(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function n6(t,e){switch(e.type){case"failed":return ae({},t,{failureCount:t.failureCount+1});case"pause":return ae({},t,{isPaused:!0});case"continue":return ae({},t,{isPaused:!1});case"loading":return ae({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return ae({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return ae({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return ae({},t,e.state);default:return t}}var r6=function(t){Kl(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new t6({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Ve.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return cE(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return cE(i,s)})},n.notify=function(i){var s=this;Ve.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Ve.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(gt)})},Promise.resolve())})},e}(Gl);function i6(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,u=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,f=c==null?void 0:c.pageParam,p=(c==null?void 0:c.direction)==="forward",d=(c==null?void 0:c.direction)==="backward",y=((o=e.state.data)==null?void 0:o.pages)||[],E=((a=e.state.data)==null?void 0:a.pageParams)||[],k=gT(),T=k==null?void 0:k.signal,A=E,v=!1,g=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(U,K,Q,te){return A=te?[K].concat(A):[].concat(A,[K]),te?[Q].concat(U):[].concat(U,[Q])},N=function(U,K,Q,te){if(v)return Promise.reject("Cancelled");if(typeof Q>"u"&&!K&&U.length)return Promise.resolve(U);var F={queryKey:e.queryKey,signal:T,pageParam:Q,meta:e.meta},$=g(F),V=Promise.resolve($).then(function(G){return S(U,Q,G,te)});if(md($)){var Y=V;Y.cancel=$.cancel}return V},D;if(!y.length)D=N([]);else if(p){var C=typeof f<"u",w=C?f:fE(e.options,y);D=N(y,C,w)}else if(d){var I=typeof f<"u",x=I?f:s6(e.options,y);D=N(y,I,x,!0)}else(function(){A=[];var R=typeof e.options.getNextPageParam>"u",U=u&&y[0]?u(y[0],0,y):!0;D=U?N([],R,E[0]):Promise.resolve(S([],E[0],y[0]));for(var K=function(F){D=D.then(function($){var V=u&&y[F]?u(y[F],F,y):!0;if(V){var Y=R?E[F]:fE(e.options,$);return N($,R,Y)}return Promise.resolve(S($,E[F],y[F]))})},Q=1;Q<y.length;Q++)K(Q)})();var O=D.then(function(R){return{pages:R,pageParams:A}}),L=O;return L.cancel=function(){v=!0,k==null||k.abort(),md(D)&&D.cancel()},O}}}}function fE(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function s6(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var o6=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new e6,this.mutationCache=n.mutationCache||new r6,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=rc.subscribe(function(){rc.isFocused()&&ic.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=ic.subscribe(function(){rc.isFocused()&&ic.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=jr(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(ae({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=jf(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Ve.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var u=a.queryKey;return[u,o.setQueryData(u,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=jr(r,i),o=s[0],a=this.queryCache;Ve.batch(function(){a.findAll(o).forEach(function(u){a.remove(u)})})},e.resetQueries=function(r,i,s){var o=this,a=jr(r,i,s),u=a[0],c=a[1],f=this.queryCache,p=ae({},u,{active:!0});return Ve.batch(function(){return f.findAll(u).forEach(function(d){d.reset()}),o.refetchQueries(p,c)})},e.cancelQueries=function(r,i,s){var o=this,a=jr(r,i,s),u=a[0],c=a[1],f=c===void 0?{}:c;typeof f.revert>"u"&&(f.revert=!0);var p=Ve.batch(function(){return o.queryCache.findAll(u).map(function(d){return d.cancel(f)})});return Promise.all(p).then(gt).catch(gt)},e.invalidateQueries=function(r,i,s){var o,a,u,c=this,f=jr(r,i,s),p=f[0],d=f[1],y=ae({},p,{active:(o=(a=p.refetchActive)!=null?a:p.active)!=null?o:!0,inactive:(u=p.refetchInactive)!=null?u:!1});return Ve.batch(function(){return c.queryCache.findAll(p).forEach(function(E){E.invalidate()}),c.refetchQueries(y,d)})},e.refetchQueries=function(r,i,s){var o=this,a=jr(r,i,s),u=a[0],c=a[1],f=Ve.batch(function(){return o.queryCache.findAll(u).map(function(d){return d.fetch(void 0,ae({},c,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),p=Promise.all(f).then(gt);return c!=null&&c.throwOnError||(p=p.catch(gt)),p},e.fetchQuery=function(r,i,s){var o=jf(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(gt).catch(gt)},e.fetchInfiniteQuery=function(r,i,s){var o=jf(r,i,s);return o.behavior=i6(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(gt).catch(gt)},e.cancelMutations=function(){var r=this,i=Ve.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(gt).catch(gt)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return zi(r)===zi(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return pd(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return zi(r)===zi(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return pd(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=ae({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Wy(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:ae({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),a6=function(t){Kl(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,ae({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:ET(),s=ae({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},n.notify=function(i){var s=this;Ve.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(Gl),l6=cb.unstable_batchedUpdates;Ve.setBatchNotifyFunction(l6);var u6=console;JU(u6);var pE=Fe.createContext(void 0),ST=Fe.createContext(!1);function CT(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=pE),window.ReactQueryClientContext):pE}var Hy=function(){var e=Fe.useContext(CT(Fe.useContext(ST)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},c6=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;Fe.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=CT(i);return Fe.createElement(ST.Provider,{value:i},Fe.createElement(o.Provider,{value:n},s))};function d6(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function AT(t,e,n){var r=Fe.useRef(!1),i=Fe.useState(0),s=i[1],o=HU(t,e,n),a=Hy(),u=Fe.useRef();u.current?u.current.setOptions(o):u.current=new a6(a,o);var c=u.current.getCurrentResult();Fe.useEffect(function(){r.current=!0;var p=u.current.subscribe(Ve.batchCalls(function(){r.current&&s(function(d){return d+1})}));return function(){r.current=!1,p()}},[]);var f=Fe.useCallback(function(p,d){u.current.mutate(p,d).catch(gt)},[]);if(c.error&&d6(void 0,u.current.options.useErrorBoundary,[c.error]))throw c.error;return ae({},c,{mutate:f,mutateAsync:c.mutate})}const h6=oy.initializeApp(ay),$y=h6.database();function f6(){const t=Hy();return AT(async e=>{const n=$y.ref("users").push(),r=n.key;return await n.set(e),r},{onSuccess:e=>{t.invalidateQueries("users")}})}function kT(){const t=Hy();return AT(async({id:e,field:n,updateData:r})=>{await $y.ref(`users/${e}/${n}`).set(r)},{onSuccess:()=>{t.invalidateQueries("users")}})}async function gd(){return(await $y.ref("users").once("value")).val()}const TT=it({name:"playlists",initialState:{tracks:[]},reducers:{addPlaylist:(t,e)=>{t.tracks.push(e.payload)}}}),{addPlaylist:p6}=TT.actions,m6=TT.reducer;function as(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z",fill:"currentColor"},child:[]}]})(t)}const IT=it({name:"userKey",initialState:{key:null},reducers:{setKey(t,e){t.key=e.payload.key},removeKey(t){t.key=null}}}),{setKey:Qy,removeKey:J9}=IT.actions,g6=IT.reducer,xT=it({name:"userArtists",initialState:{userAppArtists:[]},reducers:{setArtists:(t,e)=>{t.userAppArtists.push(e.payload)},removeArtists:(t,e)=>{t.userAppArtists=t.userAppArtists.filter(n=>n.id!==e.payload)}}}),{setArtists:mh,removeArtists:RT}=xT.actions,y6=xT.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebasestorage.googleapis.com",NT="storageBucket",v6=2*60*1e3,_6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends Un{constructor(e,n,r=0){super(Uf(e),`Firebase Storage: ${n} (${Uf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var De;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(De||(De={}));function Uf(t){return"storage/"+t}function qy(){const t="An unknown error occurred, please check the error payload for server response.";return new Le(De.UNKNOWN,t)}function w6(t){return new Le(De.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function E6(t){return new Le(De.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function S6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Le(De.UNAUTHENTICATED,t)}function C6(){return new Le(De.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function A6(t){return new Le(De.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function k6(){return new Le(De.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T6(){return new Le(De.CANCELED,"User canceled the upload/download.")}function I6(t){return new Le(De.INVALID_URL,"Invalid URL '"+t+"'.")}function x6(t){return new Le(De.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function R6(){return new Le(De.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NT+"' property when initializing the app?")}function b6(){return new Le(De.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function N6(){return new Le(De.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function P6(t){return new Le(De.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Im(t){return new Le(De.INVALID_ARGUMENT,t)}function PT(){return new Le(De.APP_DELETED,"The Firebase app was deleted.")}function O6(t){return new Le(De.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Na(t,e){return new Le(De.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function oa(t){throw new Le(De.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tn.makeFromUrl(e,n)}catch{return new tn(e,"")}if(r.path==="")return r;throw x6(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${d}`,"i"),E={bucket:1,path:3},k=n===bT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",A=new RegExp(`^https?://${k}/${i}/${T}`,"i"),g=[{regex:a,indices:u,postModify:s},{regex:y,indices:E,postModify:c},{regex:A,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<g.length;S++){const N=g[S],D=N.regex.exec(e);if(D){const C=D[N.indices.bucket];let w=D[N.indices.path];w||(w=""),r=new tn(C,w),N.postModify(r);break}}if(r==null)throw I6(e);return r}}class D6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function f(...T){c||(c=!0,e.apply(null,T))}function p(T){i=setTimeout(()=>{i=null,t(y,u())},T)}function d(){s&&clearTimeout(s)}function y(T,...A){if(c){d();return}if(T){d(),f.call(null,T,...A);return}if(u()||o){d(),f.call(null,T,...A);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,p(g)}let E=!1;function k(T){E||(E=!0,d(),!c&&(i!==null?(T||(a=2),clearTimeout(i),p(0)):T||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,k(!0)},n),k}function M6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){return t!==void 0}function F6(t){return typeof t=="object"&&!Array.isArray(t)}function Ky(t){return typeof t=="string"||t instanceof String}function mE(t){return Gy()&&t instanceof Blob}function Gy(){return typeof Blob<"u"}function gE(t,e,n,r){if(r<e)throw Im(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Im(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($i||($i={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,r,i,s,o,a,u,c,f,p,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=p,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,E)=>{this.resolve_=y,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$i.NO_ERROR,u=s.getStatus();if(!a||U6(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===$i.ABORT;r(!1,new Mu(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Mu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());j6(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=qy();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?PT():T6();o(u)}else{const u=k6();o(u)}};this.canceled_?n(!1,new Mu(!1,null,!0)):this.backoffId_=L6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function z6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function V6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $6(t,e,n,r,i,s,o=!0){const a=OT(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return W6(c,e),z6(c,n),V6(c,s),H6(c,r),new B6(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q6(...t){const e=Q6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gy())return new Blob(t);throw new Le(De.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function K6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){if(typeof atob>"u")throw P6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bf{constructor(e,n){this.data=e,this.contentType=n||null}}function Y6(t,e){switch(t){case $n.RAW:return new Bf(DT(e));case $n.BASE64:case $n.BASE64URL:return new Bf(LT(t,e));case $n.DATA_URL:return new Bf(J6(e),Z6(e))}throw qy()}function DT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function X6(t){let e;try{e=decodeURIComponent(t)}catch{throw Na($n.DATA_URL,"Malformed data URL.")}return DT(e)}function LT(t,e){switch(t){case $n.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Na(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $n.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Na(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=G6(e)}catch(i){throw i.message.includes("polyfill")?i:Na(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class MT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Na($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=e3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function J6(t){const e=new MT(t);return e.base64?LT($n.BASE64,e.rest):X6(e.rest)}function Z6(t){return new MT(t).contentType}function e3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){let r=0,i="";mE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(mE(this.data_)){const r=this.data_,i=K6(r,e,n);return i===null?null:new Hr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hr(r,!0)}}static getBlob(...e){if(Gy()){const n=e.map(r=>r instanceof Hr?r.data_:r);return new Hr(q6.apply(null,n))}else{const n=e.map(o=>Ky(o)?Y6($n.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Hr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){let e;try{e=JSON.parse(t)}catch{return null}return F6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){return e}class It{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||r3}}let ju=null;function i3(t){return!Ky(t)||t.length<2?t:FT(t)}function UT(){if(ju)return ju;const t=[];t.push(new It("bucket")),t.push(new It("generation")),t.push(new It("metageneration")),t.push(new It("name","fullPath",!0));function e(s,o){return i3(o)}const n=new It("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new It("size");return i.xform=r,t.push(i),t.push(new It("timeCreated")),t.push(new It("updated")),t.push(new It("md5Hash",null,!0)),t.push(new It("cacheControl",null,!0)),t.push(new It("contentDisposition",null,!0)),t.push(new It("contentEncoding",null,!0)),t.push(new It("contentLanguage",null,!0)),t.push(new It("contentType",null,!0)),t.push(new It("metadata","customMetadata",!0)),ju=t,ju}function s3(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new tn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function o3(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return s3(r,t),r}function BT(t,e,n){const r=jT(e);return r===null?null:o3(t,r,n)}function a3(t,e,n,r){const i=jT(e);if(i===null||!Ky(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const f=t.bucket,p=t.fullPath,d="/b/"+o(f)+"/o/"+o(p),y=Yy(d,n,r),E=OT({alt:"media",token:c});return y+E})[0]}function l3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class zT{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){if(!t)throw qy()}function u3(t,e){function n(r,i){const s=BT(t,i,e);return VT(s!==null),s}return n}function c3(t,e){function n(r,i){const s=BT(t,i,e);return VT(s!==null),a3(s,i,t.host,t._protocol)}return n}function WT(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=C6():i=S6():n.getStatus()===402?i=E6(t.bucket):n.getStatus()===403?i=A6(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function d3(t){const e=WT(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=w6(t.path)),s.serverResponse=i.serverResponse,s}return n}function h3(t,e,n){const r=e.fullServerUrl(),i=Yy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new zT(i,s,c3(t,n),o);return a.errorHandler=d3(e),a}function f3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=f3(null,e)),r}function m3(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let S=0;S<2;S++)g=g+Math.random().toString().slice(2);return g}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=p3(e,r,i),f=l3(c,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+u+"--",y=Hr.getBlob(p,r,d);if(y===null)throw b6();const E={name:c.fullPath},k=Yy(s,t.host,t._protocol),T="POST",A=t.maxUploadRetryTime,v=new zT(k,T,u3(t,n),A);return v.urlParams=E,v.headers=o,v.body=y.uploadData(),v.errorHandler=WT(e),v}class g3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw oa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw oa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw oa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw oa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw oa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class y3 extends g3{initXhr(){this.xhr_.responseType="text"}}function HT(){return new y3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this._service=e,n instanceof tn?this._location=n:this._location=tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ls(e,n)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FT(this._location.path)}get storage(){return this._service}get parent(){const e=t3(this._location.path);if(e===null)return null;const n=new tn(this._location.bucket,e);return new ls(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw O6(e)}}function v3(t,e,n){t._throwIfRoot("uploadBytes");const r=m3(t.storage,t._location,UT(),new Hr(e,!0),n);return t.storage.makeRequestWithTokens(r,HT).then(i=>({metadata:i,ref:t}))}function _3(t){t._throwIfRoot("getDownloadURL");const e=h3(t.storage,t._location,UT());return t.storage.makeRequestWithTokens(e,HT).then(n=>{if(n===null)throw N6();return n})}function w3(t,e){const n=n3(t._location.path,e),r=new tn(t._location.bucket,n);return new ls(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return/^[A-Za-z]+:\/\//.test(t)}function S3(t,e){return new ls(t,e)}function $T(t,e){if(t instanceof Xy){const n=t;if(n._bucket==null)throw R6();const r=new ls(n,n._bucket);return e!=null?$T(r,e):r}else return e!==void 0?w3(t,e):t}function C3(t,e){if(e&&E3(e)){if(t instanceof Xy)return S3(t,e);throw Im("To use ref(service, url), the first argument must be a Storage instance.")}else return $T(t,e)}function yE(t,e){const n=e==null?void 0:e[NT];return n==null?null:tn.makeFromBucketSpec(n,t)}function A3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:G1(i,t.app.options.projectId))}class Xy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=bT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=v6,this._maxUploadRetryTime=_6,this._requests=new Set,i!=null?this._bucket=tn.makeFromBucketSpec(i,this._host):this._bucket=yE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=yE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ls(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new D6(PT());{const o=$6(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vE="@firebase/storage",_E="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="storage";function k3(t,e,n){return t=Ee(t),v3(t,e,n)}function T3(t){return t=Ee(t),_3(t)}function qT(t,e){return t=Ee(t),C3(t,e)}function I3(t=qg(),e){t=Ee(t);const r=Pl(t,QT).getImmediate({identifier:e}),i=XO("storage");return i&&x3(r,...i),r}function x3(t,e,n,r={}){A3(t,e,n,r)}function R3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Xy(n,r,i,e,rr)}function b3(){Zn(new ln(QT,R3,"PUBLIC").setMultipleInstances(!0)),wt(vE,_E,""),wt(vE,_E,"esm2017")}b3();async function xm(t){const e=qT(aI,`images/${t}.png`);try{return await T3(e)}catch(n){return console.error("Error getting avatar URL:",n),null}}const KT=it({name:"userPhoto",initialState:{photo:null},reducers:{setPhoto(t,e){t.photo=e.payload.photo}}}),{setPhoto:GT}=KT.actions,N3=KT.reducer;function P3(){gd();const{data:t}=D1(),[e,n]=P.useState([]),[r,i]=P.useState(""),[s,o]=P.useState([]),[a,u]=P.useState(!0),[c,f]=P.useState(""),[p,d]=P.useState(!1);P.useState(!1),P.useState({});const[y,E]=P.useState(!0),k=new Date().getHours(),T=lt(),A=nr(),v=To();v.currentUser;const g=oe(R=>R.user),{username:S}=oe(R=>R.user),N=oe(R=>R.userArtists.userAppArtists),D=oe(R=>R.playlists.tracks);P.useEffect(()=>{t&&t.results&&n(t.results)},[t]);const C=oe(R=>R.history.historyArray);P.useEffect(()=>{k>=4&&k<12?i("Good morning, "):k>=12&&k<17?i("Good afternoon, "):k>=17&&k<24?i("Good evening, "):i("Good night, "),ny(v,R=>{R&&!g.email?gd().then(U=>w(U)).then(U=>{const K=v.currentUser.displayName,Q=I(U,K);xm(Q.id).then(F=>{T(GT({photo:F}))}).catch(F=>{console.error(F)}),T(sy({email:Q.email,id:Q.id,share:Q.share,news:Q.news,username:Q.username})),T(Qy({key:Q.key}));const te=JSON.parse(Q.artists);return te.map(F=>T(mh(F))),o(te),u(!1),Q}).catch(U=>{console.error(U)}):(!R||g.email==null)&&A("/registration")})},[]);function w(R){return Object.entries(R).map(([U,K])=>({id:U,...K}))}function I(R,U){return R.find(Q=>Q.key===U)}P.useEffect(()=>{N&&o(N)},[N]),P.useEffect(()=>{const R=()=>{f(new Date().toISOString().slice(0,10))};R();const U=setInterval(R,24*60*60*1e3);return()=>clearInterval(U)},[]);const[x,O]=P.useState(!0);P.useEffect(()=>{L(s,T,c)},[s,T,c]),P.useEffect(()=>{!p&&D!==void 0&&(O(!1),d(!0))},[D,p]),P.useEffect(()=>{D!==void 0&&O(!1)},[D]);async function L(R,U,K){try{R.map(async Q=>{const te=`${Q.name} Mix`,V=(await(await fetch(`https://api.jamendo.com/v3.0/artists/tracks/?client_id=354e8ba5&format=jsonpretty&order=track_name_desc&name=${Q.name}&album_datebetween=1980-01-01_${K}`)).json()).results[0].tracks;U(p6({name:te,tracks:V}))}),u(!1)}catch(Q){console.error("Error creating playlists:",Q)}}return m.jsx("div",{className:"wrapper",children:a?m.jsx("div",{className:"spinnerBox",children:m.jsx(as,{color:"white",className:"spinner",display:"block"})}):m.jsxs("div",{className:"homePage",children:[m.jsx("div",{className:"homePage-titleBox",children:m.jsxs("h1",{className:"homePage-title",children:[r,S]})}),C.length>0&&m.jsx("div",{className:"recentlyPlayed",children:C.filter(R=>R!==null).reduce((R,U)=>(R.some(K=>K.id===U.id)||R.push(U),R),[]).reverse().slice(0,6).map((R,U)=>m.jsxs(vt,{to:`/player/${R.id}`,onClick:()=>{T(Lg(R)),T(lo(R))},children:[m.jsx("img",{src:R.image,alt:"img"}),m.jsx("span",{children:R.name})]},U))}),m.jsxs("div",{className:"featuredTracks",children:[m.jsx("div",{className:"featuredTracks-title",children:"Today's biggest hits!"}),m.jsx("div",{className:"featuredTracks-results",children:e.map((R,U)=>m.jsx(EO,{track:R},U))})]}),D.length>0&&m.jsxs("div",{className:"playlistsMix",children:[m.jsx("div",{className:"playlistsMix-title",children:"Made for You"}),m.jsx("div",{className:"playlistsMix-results",children:x?m.jsx("div",{className:"spinnerBox",children:m.jsx(as,{color:"white",className:"spinner",display:"block"})}):m.jsx("div",{className:"playlistsMix-results",children:D.reduce((R,U)=>(R.some(K=>K.id===U.id)||R.push(U),R),[]).map(R=>m.jsx(bO,{playlist:R},R.id))})})]}),s.length>0&&m.jsxs("div",{className:"suggestedArtists",children:[m.jsx("div",{className:"suggestedArtists-title",children:"Artists you like"}),m.jsx("div",{className:"suggestedArtists-results",children:s.map((R,U)=>m.jsx(AO,{artist:R},U))})]}),y&&m.jsx(Bg,{}),m.jsx(zd,{})]})})}const Jy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACSSURBVHgBtZIrDoAwEESnWDwezynwePB4PB6Pp1fhWOgym1Q0TRP6Y5JJk6b7OtldIEHGmI7u/fsGkRIAj53ukSP5nT5CKWIBI33aJFmAuQZgo9uvtypQLEUr/SilNFIlABt/SanzRzzQkuRGiexCSZoJJXJAM0olvaH3mAnFgK7sXXFAQ9HaOyDpk67V8BF/6AUlaYLlJ7vRFAAAAABJRU5ErkJggg==";function O3({regState:t,userObj:e}){const[n,r]=P.useState(""),[i,s]=P.useState(!1),{userEmail:o,setUserEmail:a,userPassword:u,setUserPassword:c,userName:f,setUserName:p,userNews:d,setUserNews:y,userShare:E,setUserShare:k}=e,T=lt(),A=nr(),v=To(),g=kT(),S=f6();async function N(C){C.preventDefault(),!(!f||!o||!u)&&gL(v,o,u).then(w=>(r(w),T(sy({email:o,id:w.user.uid,username:f,news:d,share:E,search:[]})),a(""),c(""),p(""),k(!1),y(!1),A("/artists"),w)).then(()=>{D()}).catch(w=>{s(!0),console.error(w)})}async function D(){const C=v.currentUser,w={email:o,id:C.uid,username:f,news:d,share:E,search:!1,artists:!1,key:!1,liked:!1},I=await S.mutateAsync(w);T(Qy({key:I})),_L(C,{displayName:I}).catch(O=>console.error(O)),g.mutate({id:I,field:"key",updateData:I})}return m.jsx("div",{className:"registration_data",children:m.jsxs("div",{className:"registration_data__container",children:[m.jsxs("div",{className:"title_box__reg_data",children:[m.jsx("button",{onClick:()=>t.setIsRegistration(!1),className:"go_back__btn_reg",children:m.jsx("img",{src:Jy,alt:""})}),m.jsx("h1",{className:"create_account__title",children:"Create account"})]}),m.jsxs("form",{className:"create_account__content",onSubmit:C=>{N(C)},children:[m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:i?"error_label":"user_data_label",children:"What's your email?"}),m.jsx("input",{className:i?"error_input":"user_data_input",value:o,onChange:C=>{a(C.target.value),s(!1)},type:"email"}),m.jsx("label",{className:"user_data_info",children:"Youll need to confirm this email later."})]}),m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:i?"error_label":"user_data_label",children:"Create a password"}),m.jsx("input",{className:i?"error_input":"user_data_input",value:u,onChange:C=>{c(C.target.value),s(!1)},type:"password"}),m.jsx("label",{className:"user_data_info",children:"Use at least 6 characters."})]}),m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:i?"error_label":"user_data_label",children:"What's your name?"}),m.jsx("input",{className:i?"error_input":"user_data_input",value:f,onChange:C=>{p(C.target.value),s(!1)},type:"text"}),m.jsx("label",{className:"user_data_info",children:"This appears on your Spotify profile."})]}),m.jsxs("div",{className:"user_terms",children:[m.jsxs("p",{className:"user_terms__text",children:["By creating an account, you agree to Music Player's",m.jsx(vt,{to:"*",className:"terms_link",children:"Terms and Conditions of Use"})]}),m.jsxs("p",{className:"user_terms__text",children:[" ","To learn more about how Spotify collect, uses, shares and protects your personal data, please read Music Player's",m.jsx(vt,{to:"*",className:"terms_link",children:"Privacy Policy"})]}),m.jsxs("div",{className:"extra_box",children:[m.jsxs("div",{className:"user_extra",children:[m.jsx("p",{className:"user_extra__text",children:"Please send me news and offers from Music Player."}),m.jsx("input",{className:"user_extra__inp",value:d,checked:d,onChange:C=>{y(!d)},type:"checkbox"})]}),m.jsxs("div",{className:"user_extra",children:[m.jsx("p",{className:"user_extra__text",children:"Share my registration data with Music Player's content providers for marketing purposes."}),m.jsx("input",{className:"user_extra__inp",value:d,checked:E,onChange:C=>{k(!E)},type:"checkbox"})]})]})]}),m.jsx("button",{disabled:i,className:"create_user__btn",type:"submit",children:"Create an account"})]})]})})}const D3="/assets/googleLogo-BiWGFzpO.png",L3="/assets/facebookLogo-DS3UgdAs.png";function M3(t){return Je({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#43A047",points:"40.6,12.1 17,35.7 7.4,26.1 4.6,29 17,41.3 43.4,14.9"},child:[]}]})(t)}function j3(t){return Je({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#E91E63"},child:[{tag:"circle",attr:{cx:"19",cy:"33",r:"9"},child:[]},{tag:"polygon",attr:{points:"24,6 24,33 28,33 28,14 39,17 39,10"},child:[]}]}]})(t)}function F3(){const[t,e]=P.useState(),[n,r]=P.useState(),[i,s]=P.useState(),[o,a]=P.useState(),[u,c]=P.useState(),f={userEmail:t,setUserEmail:e,userPassword:n,setUserPassword:r,userName:i,setUserName:s,userNews:o,setUserNews:a,userShare:u,setUserShare:c},[p,d]=P.useState(!1),y={isRegistration:p,setIsRegistration:d};return m.jsx("div",{className:"registration",children:p?m.jsx(O3,{regState:y,userObj:f}):m.jsx("div",{className:"reg",children:m.jsxs("div",{className:"reg_container",children:[m.jsxs("div",{className:"title_box",children:[m.jsx(j3,{color:"#1ed760",className:"mini_logo"}),m.jsxs("h1",{className:"reg_page__title",children:["Millions of Songs.",m.jsx("br",{}),"Free on Music Player."]})]}),m.jsxs("div",{className:"reg_funct_box",children:[m.jsx("button",{onClick:()=>{d(!0)},className:"sign_up__btn",children:"Sign up free"}),m.jsxs("button",{className:"regGoogleBtn",children:[m.jsx("p",{children:"Continue with Google"}),m.jsx("img",{src:D3,alt:"google"})]}),m.jsxs("button",{className:"regFacebookBtn",children:[m.jsx("p",{children:"Continue with Facebook"}),m.jsx("img",{src:L3,alt:"facebook"})]}),m.jsx(vt,{to:"/login",className:"log_in__link",children:"Log In"})]})]})})})}function No({onClick:t}){const e=nr(),n=()=>{t&&t(),e(-1)};return m.jsx("button",{onClick:n,className:"go_back__button",children:m.jsxs("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),m.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",m.jsx("path",{d:"M14.9998 19.9201L8.47984 13.4001C7.70984 12.6301 7.70984 11.3701 8.47984 10.6001L14.9998 4.08008",stroke:"#FFFFFF",strokeWidth:"2.4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})})}function U3(){const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,s]=P.useState(!1),o=To(),a=lt(),u=nr();gd();async function c(d){d.preventDefault(),!(!t||!n)&&yL(o,t,n).then(()=>{gd().then(y=>p(y)).then(y=>{const E=o.currentUser;return f(y,E.email)}).then(y=>{y&&(a(sy({email:y.email,id:y.uid,username:y.username,news:y.news,share:y.share})),a(Qy({key:y.key})),JSON.parse(y.artists).map((k,T)=>(a(mh(k)),k)))}),u("/")}).catch(y=>{console.error(y),s(!0)})}function f(d,y){return d.find(k=>k.email===y)||null}function p(d){return Object.entries(d).map(([E,k])=>({id:E,...k}))}return m.jsxs("div",{className:"login",children:[m.jsxs("div",{className:"login_container",children:[m.jsxs("div",{className:"title_box_login",children:[m.jsx(vt,{to:"/registration",className:"go_back__btn_log",children:m.jsx("img",{src:Jy,alt:""})}),m.jsx("h1",{className:"title_text_login",children:"Log In"})]}),m.jsxs("form",{onSubmit:d=>c(d),className:"login_user_form",children:[m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:"user_data_label",children:"Please, enter your email"}),m.jsx("input",{className:"user_data_input",value:t,onChange:d=>{e(d.target.value),s(!1)},type:"email"})]}),m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:"user_data_label",children:"Please, enter your password"}),m.jsx("input",{className:"user_data_input",value:n,onChange:d=>{r(d.target.value),s(!1)},type:"password"})]}),m.jsx("button",{type:"submit",className:"login_user__btn",children:"Log In"})]})]}),i&&m.jsx("div",{className:"popUp",children:m.jsx("p",{className:"error_text",children:"This email and password combination is incorrect."})})]})}function B3({info:t}){const[e,n]=P.useState(t.image||Jn);oe(u=>u.album.albumData);const r=lt(),[i,s]=P.useState("");P.useEffect(()=>{t.image||n(Jn)},[t.image]),P.useEffect(()=>{t&&(t.image&&t.image.includes("artist")?s("/artist"):t.zip?s(`/album/${t.id}`):s(`/player/${t.id}`))},[t]);const o=u=>{localStorage.setItem("track",JSON.stringify(u))},a=u=>{o(u),u.image&&u.image.includes("artist")?r(j1(u)):u.zip?r(U1({albumData:u})):r(lo(u))};return m.jsx(vt,{to:i,onClick:()=>a(t),children:m.jsxs("div",{className:"mini_player_card",children:[m.jsx("img",{src:e,className:"mini_player_card__image",alt:"album"}),m.jsxs("div",{className:"mini_player_card__text",children:[m.jsx("div",{className:"mini_player_card__title",children:t.name}),m.jsx("div",{className:"mini_player_card__artist",children:t.artist_name})]})]})})}function z3({info:t,onClick:e}){const n=()=>{e(t.path)};return m.jsx("div",{className:"tab",onClick:n,children:t.name})}const sc=Fg({reducerPath:"searchApi",baseQuery:Mg({baseUrl:"https://api.jamendo.com/v3.0/"}),endpoints:t=>({search:t.query({query:({path:e,name:n})=>({url:e,params:{client_id:"354e8ba5",format:"jsonpretty",limit:"all",name:n}})})})}),{useSearchQuery:Zy}=sc,YT=[{name:"Tracks",path:"tracks/"},{name:"Albums",path:"albums/"},{name:"Artists",path:"artists/"},{name:"Users",path:"users/"}];function V3(){const[t,e]=P.useState(!0),[n,r]=P.useState(YT),[i,s]=P.useState(!0),[o,a]=P.useState(n[0].path),[u,c]=P.useState(""),[f,p]=P.useState([]),[d,y]=P.useState(""),[E,k]=P.useState(!0),[T,A]=P.useState(100),v=To(),g=oe(x=>x.user),S=nr(),N=()=>{A(200)};P.useEffect(()=>{ny(v,x=>{g.email==null&&S("/")})},[]),P.useEffect(()=>{const x=setTimeout(()=>{y(u)},300);return()=>clearTimeout(x)},[u]);const{data:D,error:C,isFetching:w}=Zy({path:o,name:d});P.useEffect(()=>{w?k(!0):D&&D.results?(p(D.results),k(!1),A(100)):(p([]),k(!1))},[D,w]);const I=x=>{a(x),k(!0)};return m.jsxs("div",{className:"wrapper",children:[m.jsxs("div",{className:"search-page",children:[m.jsxs("div",{className:"search-page__box",children:[i&&m.jsx("h1",{className:"search-page__title",children:"Search"}),m.jsxs("div",{className:"searchInput",children:[m.jsx("span",{}),m.jsx("input",{placeholder:"What do you want to listen to?",type:"text",value:u,onChange:x=>c(x.target.value),onFocus:()=>s(!1),onBlur:()=>{u||s(!0)}})]})]}),m.jsx("div",{className:"searchCategories",children:n.map((x,O)=>m.jsx(z3,{info:x,onClick:()=>I(x.path)},O))}),m.jsx("div",{className:"search-page__results",children:E?m.jsx("div",{className:"spinnerBox",children:m.jsx(as,{color:"white",className:"spinner",display:"block"})}):m.jsxs(m.Fragment,{children:[C&&m.jsxs("p",{children:["Error: ",C.message]}),f&&f.length>0?f.filter(x=>x.image!=="").slice(0,T).map((x,O)=>m.jsx(B3,{info:x,onClick:console},O)):m.jsx("p",{className:"noResults",children:"No results found"})]})}),T===100&&m.jsx("button",{onClick:N,className:"seeMoreBtn",children:"See more"})]}),t&&m.jsx(Bg,{}),m.jsx(zd,{})]})}const W3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAFCAYAAACn39dKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABwSURBVHgBfZCBCYAwDASLEzhiN9AN2g1cwQ2qE7ROkBF0k5hghfhgAg/hryn5BGYeRUlURTFAdVZEk8Oy/qPGyt/K5vHisASsqHmB2cwAASPDKrBzEJ9g+2b6Hdjx0z9z/WaaebMxzAazw6ImeW92A2z3xCk5wCFKAAAAAElFTkSuQmCC";function H3(t){return Je({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 4v1.466a.25.25 0 0 0 .41.192l2.36-1.966a.25.25 0 0 0 0-.384l-2.36-1.966a.25.25 0 0 0-.41.192V3H5a5 5 0 0 0-4.48 7.223.5.5 0 0 0 .896-.446A4 4 0 0 1 5 4h6Zm4.48 1.777a.5.5 0 0 0-.896.446A4 4 0 0 1 11 12H5.001v-1.466a.25.25 0 0 0-.41-.192l-2.36 1.966a.25.25 0 0 0 0 .384l2.36 1.966a.25.25 0 0 0 .41-.192V13h6a5 5 0 0 0 4.48-7.223Z"},child:[]},{tag:"path",attr:{d:"M9 5.5a.5.5 0 0 0-.854-.354l-1.75 1.75a.5.5 0 1 0 .708.708L8 6.707V10.5a.5.5 0 0 0 1 0v-5Z"},child:[]}]})(t)}function $3(t){return Je({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192Zm3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},child:[]}]})(t)}function Q3(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function q3(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"},child:[]}]})(t)}function K3(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M96 52v408l320-204L96 52z"},child:[]}]})(t)}const wE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAlCAYAAAAqXEs9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEoSURBVHgB7ZfBjcIwEEV/VntfSsh2sB1stoOlA6iAUAF0QDqAEuiAFqAC0gF0EP4IHxAEyDgzEkh+0mjCwejhbxsHSCQSCT+aphmwKtYvtHBQwdpf1Q8i4diSdWjO3BX6fPI9+dXnL+hFCrYFq9OP+YATFMlZSz5uusoIz2YoVmbONmENoMRUKMQjs5IjEhMhiSeIFOhJLyHZxmwlIuMxFbKIpw21kGU8bWiFyiBiEk8bWqF/OON2MMby9kJHOKMVkjU0ZdVwQh1ZlmUV2x9rBQei1hClataYj98wnq1eizqIiZTI1TDAZJdRagWjGM22vVWM5udQ3xjdDsaLGCvNONeTOsyWnFsyY+suYx79uW5xe8XYIVKMbciry4h9hlcivCy6XV8SiRNYWXKffkHecwAAAABJRU5ErkJggg==",G3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI6SURBVHgBrVW9btpQFD42ZmADkb10qDIGpkqGKGFEQgTUIUur+g3iPAHwBLXfgL5Bg6KyRgiCOhXG0MVSWKlYSIT4y/c5OAoWAhPlk8y95/qc73z33OOLyDtD8SaNRiMxnU4vFEUxYEaXy6WD8WY+n1dLpZKzF2G9XjdA9INEG3xGeGfm8/mfEgAKlc1ms78e2eD+Xv7c3sqX8/M1UvikNintdDrcWTIUCh2l0+mqhi2V5ZWyx4cHGQwG/rgoAi4QbCP4VNO0o8VikcR6EolGeNdFiYqwqxomp4z4d3cn/4dDGeLhSJVE5uREIpGIqKpqIriIYNa1i/HXZDLpZbPZEf1ardaSo4YnwQlJ+v2+OxKcE/rxsYzHY4EiQR0/yg6QkBmin3Vd+FDp7+tr+WYYrgPUuOPq1HdChWNNguEmiJMWDodt1MaQ1cF8OjyUrwcHfr8R+zEIoZrL5RyovJTnrbuIx+NrZOzDoM2t8qdQKNTQCikE1mC6gbFYjHWz2H9Bm3orvDbY11+Vd4YmbwDUmCgHL5IETDa55bXX3oTtdttAk5fx5Vgwr0DET9BaU7gtox8rPxMXgXdQXST5gPUKDZUZYTBjDY4pZLdBZm0RmYRfz7d29aJwV8YNCh34n9HvdRLP1rZkrGwihK/NHeEqc7CbHp4iReGV6W559dGf+eJeMvqRyWQskFyiLKw7L+bvKFcF6+4OFR4IxjIOwvQyQoWb0XPaB+5/SrPZNJCFJEkq5inrum7LG/AEFLhE2VP9SO8AAAAASUVORK5CYII=",Y3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEqSURBVHgB7ZQxjoJAFIbfwFJIZZYL0Gys9wZb7zIFN/AGeoPN9iYbPQHGGwAJrTdAbG28AAkVFEDwPUQjE8UhsdMvmTAMf/68efMzAA+GnSZBEJh5nk8YY2N8HVZVtcfnuizLP9u2970MXdcdo9E/GV3RJPhtalnWEiRgVFlRFOGlWRzHYBhGyxQ1nzKVKrilX9FsMZuJuqGqqhOQQMFefckIm97e5Q2HSZMoDGEbRZClKaRZBivHqQU/nMP7cfvnXXieV3UZJiTWdb3uWzYYwA4XhB5Cc+o1nHN20xCFDp3ix2gENKiH280GvrEygTVIoGiaNm+q7CKhPIIEV3MoxKZfDk8TyiNFqDl1k4yoHbg27/OnPBx2T+D7/hQrbYX/xbPTik3XLSLLAX0QgV+zNXMyAAAAAElFTkSuQmCC",X3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgBpVXbbcIwFLUjBmCEMAHpBA3fPNpMAEwAnYBkgtIJGiYIAvFNOgFhgmYEBkDQcxIbBeMUJCxdxb6P4/t0pLCsJEmajUZjiK0P8kCuEmWgXEq57PV6C5utNBmr1eodBt/cn8/n2HGc7HQ65YWylB4JfB8kIAtN4CvA9Xo9x2cCCo/H41cQBAdRH0GhB4r6/X54AwgwMie4tdPtdjPxwNpsNh683zKSwWDwcQFEmCOGCbCXR8EM0B1AA4AupfLuF58YrkdVZfB9fGaiLEwTlOLi2Mwb9KgzRZpaDr1jgpkzQynEh+GwKNTxAZYzPCW7LG3LzpAQJlA6wN2xVvgvBTpEbDuIKK3YfMLGdbB3sbkywnlIT2z5JA+yuUpFde3B9wjIvjINfVAs6tePKPNadSLXHtrWAZc0a2Q0Zn9a5QTMkSvX4Gcw8kU9IMcyNdht2hGQVfQMYQSjKQtggpEH71m02LiEujmrrEetVR011VshiwPlhUrBKy8iv9qzahR3kIUOgIomVbN5WTQAyJiJxnHLNtIPgzkAsJ2yl9nwevT4wiTPjB7sRwQsqswZZG9x0G15uwO2ZQr0OJrPV5E3UIRUzO88X8zljI7ol+YGkEuNHRV5TNUU7XkAz8WnzfDUeczoqvZS1CwF/CbK51+nIRflbyBlMW0R/AGctDzA63aP5AAAAABJRU5ErkJggg==",J3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIDSURBVHgBrVTLccIwEJWNYbgBFYQOwpU/riBOBTgVBCrArgCoAHcQUoHD/+hQQZwOfOHCz3nL2BnHWI7I5M14ZGlXT7v7VpJYChaLRSeTyTycz+cKzSVJ8jB4siyb1WrVTdsrpZCOQFQAiVWr1Wbh+nq9buMg3ff9z2azabBbAFJjtVoN0nyWy+UQX4+JYrPZlLHBFvHF4R88mxxfOBwOFaQ/ZQJAOaakgxAxxLrH8M4EgFpvocOdEDEpjw1lJgBFUQpBpwgRv2LQmQBQisp+v98KEYf9yatdCBIZxExVVVeImAABnyDg0LbtIuMA5RrAz+TZE4mDKMbZbDaxl9Fmelq0XGJCvV63SJikSwDSbjxa+PlRXy4xAcKMQd6Or2OtnBQtDnyez+far8S5XE6Dc1I7mYhuEl88Ho8q7sEQpapwifHYaEHK/bgtKNMM5E5U4CCLR2R6Teg4TpFeNnpk0rqCAHs5/KcaR21KdELF3+12XaTTiz6VPOTz+Us/J73NF2Iynk6nCdJ7QxrISPXSCEN/fB2ao6Yutd8P4tCJaglC0ceH+ruIPSUa0e8vcR8Zxg49k6KkBESnY0+PMiPBcNDVDZSDCDx2GzyQfwsLTYqYu1EHhf0NJogstKSBMpboYiCDEYtHfCsajcYIWfbxaXQzQWqgt83/iJi1Wi0Lg8WzfwF2Mi0xHJZf4AAAAABJRU5ErkJggg==",XT=it({name:"likes",initialState:{likedTracks:[]},reducers:{addLikedTrack:(t,e)=>{t.likedTracks.push(e.payload)},removeLikedTracks:(t,e)=>{t.likedTracks=t.likedTracks.filter(n=>n.id!==e.payload)}}}),{addLikedTrack:JT,removeLikedTracks:ZT}=XT.actions,Z3=XT.reducer;function Rm(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function bm(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}function EE(){const t=P.useRef(),e=lt(),[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState(""),[u,c]=P.useState(""),[f,p]=P.useState(""),[d,y]=P.useState(""),[E,k]=P.useState(""),[T,A]=P.useState(0),[v,g]=P.useState(0),[S,N]=P.useState(""),[D,C]=P.useState(YT),[w,I]=P.useState(D[0].path),[x,O]=P.useState(!1),[L,R]=P.useState(!1),[U,K]=P.useState(!1),Q=e1(),{data:te,error:F}=Zy({path:w,name:S}),$=oe(ne=>ne.search.search),V=nr(),Y=oe(ne=>ne.likes.likedTracks),[G,W]=P.useState([]),[ke,At]=P.useState();P.useEffect(()=>{d!==void 0&&te!==void 0&&te.results!==void 0&&Q.trackId&&ut(te.results,Q.trackId)},[d,te]),P.useEffect(()=>{const ne=t.current;ne&&(ne.addEventListener("loadedmetadata",()=>{g(ne.duration)}),ne.addEventListener("timeupdate",()=>{A(ne.currentTime)}))},[o]);function Mt(){V(-1)}async function ut(ne,zn){const Be=await ne.find(jt=>jt.id===zn);if(Be)return r(Be.name),s(Be.artist_name),p(Be.album_name),c(Be.image),a(Be.audio),y(Be.id),At(Be),Be;{const jt=$[$.length-1];return r(jt.name),s(jt.artist_name),p(jt.album_name),c(jt.image),a(jt.audio),y(jt.id),At(jt),jt}}function ir(){const ne=t.current;ne&&(ne.paused?(ne.play(),R(!0)):(ne.pause(),R(!1)))}P.useEffect(()=>{const ne=setInterval(()=>{const zn=t.current;zn&&L&&A(zn.currentTime)},1e3);return()=>clearInterval(ne)},[L]);const Po=ne=>{k(ne)},Ir=`linear-gradient(to bottom, ${E}, rgb(0, 0, 0))`;P.useEffect(()=>{W(Y)},[Y]);const X=ne=>{if(!Y.some(Be=>Be.id===ne.id))W(ne),e(JT(ne));else{const Be=G.filter(jt=>jt.id!==ne.id);W(Be),e(ZT(ne.id))}},Ze=ne=>{const zn=t.current,Be=ne.target.value;zn.currentTime=Be,A(Be)},ct=()=>{K(ne=>!ne)};P.useEffect(()=>{const ne=t.current;return ne&&ne.addEventListener("ended",xr),()=>{ne&&ne.removeEventListener("ended",xr)}},[U]);const xr=()=>{U&&(t.current.currentTime=0,t.current.play())};return m.jsxs("div",{className:"player",style:{background:Ir},children:[m.jsx(Wd,{imageUrl:u,onColorGenerated:Po}),m.jsxs("div",{className:"player_container",children:[m.jsx("div",{className:x?"track_modal open":"track_modal",children:m.jsxs("div",{className:"track_box_modal",children:[m.jsx("img",{src:u,width:164,height:169,alt:""}),m.jsx("h1",{children:n}),m.jsx("h2",{children:i}),m.jsxs("div",{className:"modal_function",children:[m.jsx("div",{children:m.jsx("button",{className:"likeBtn",onClick:()=>{X(ke)},children:Y.some(ne=>ne.id===d)?m.jsxs("div",{className:"",children:[m.jsx(Rm,{className:"likeBtnSVG"}),m.jsx("p",{children:"Unlike"})]}):m.jsxs("div",{className:"",children:[m.jsx(bm,{className:"likeBtnSVG"}),m.jsx("p",{children:"Like"})]})})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:G3,alt:"",width:21,height:20}),"Add to playlist"]})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:Y3,alt:"",width:21,height:20}),"Add to queue"]})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:X3,alt:"",width:21,height:20}),"View album"]})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:J3,alt:"",width:21,height:20}),"View artist"]})})]}),m.jsx("button",{onClick:()=>{O(ne=>!ne)},children:"Close"})]})}),m.jsxs("div",{className:"player_content",children:[m.jsxs("div",{className:"upper_info",children:[m.jsx("button",{className:"go_back__btn_player",onClick:()=>{Mt()},children:m.jsx(Q3,{})}),m.jsx("h1",{className:"page_player_title",children:f}),m.jsxs("button",{className:"more_info__btn",onClick:()=>{O(ne=>!ne)},children:[" ",m.jsx("img",{src:W3,alt:""})]})]}),m.jsx("img",{src:u,alt:"",width:380,height:380,className:"track_img"}),m.jsxs("div",{className:"track_info",children:[m.jsxs("div",{className:"track_content_1",children:[m.jsxs("div",{className:"track_info_content",children:[m.jsx("div",{className:"marquee-container",children:m.jsx("h2",{className:"track_name",children:n})}),m.jsx("h3",{className:"track_artist",children:i})]}),m.jsx("div",{className:"track_content_2"})]}),m.jsx("audio",{className:"audioElement",src:o,ref:t}),m.jsx("input",{type:"range",min:"0",max:v,value:T,className:"timeline",onChange:Ze}),m.jsxs("div",{className:"track_time",children:[m.jsxs("p",{children:[Math.floor(T/60),":",Math.floor(T%60).toString().padStart(2,"0")]}),m.jsxs("p",{children:[Math.floor(v/60),":",Math.floor(v%60).toString().padStart(2,"0")]})]})]}),m.jsxs("div",{className:"track_function",children:[U?m.jsx(H3,{className:"repeatBtn",onClick:ct}):m.jsx($3,{className:"repeatBtn",onClick:ct}),m.jsxs("button",{className:"track_function__btn prev_track",children:[" ",m.jsx("img",{src:wE,alt:"",width:36,height:37})]}),L?m.jsx("button",{onClick:ir,className:"track_functionbtn play",children:m.jsx(UO,{id:"stop"})}):m.jsx("button",{onClick:ir,className:"track_functionbtn play",children:m.jsx(K3,{id:"start"})}),m.jsxs("button",{className:"track_function__btn next_track",children:[" ",m.jsx("img",{src:wE,alt:"",width:36,height:37,className:"vector"})]}),m.jsx("button",{className:"likeBtn",onClick:()=>{X(ke)},children:Y.some(ne=>ne.id===d)?m.jsx(Rm,{className:"likeBtnSVG"}):m.jsx(bm,{className:"likeBtnSVG"})})]})]})]})]})}const oc=Fg({reducerPath:"artistsApi",baseQuery:Mg({baseUrl:"https://api.jamendo.com/v3.0/"}),endpoints:t=>({getArtists:t.query({query:()=>"artists/?client_id=354e8ba5&format=jsonpretty&limit=23"})})}),{useGetArtistsQuery:e9}=oc,SE="/assets/chosen-BdHIclC5.png";function t9({item:t,onSelect:e}){const[n,r]=P.useState(t.image),i=()=>{r(n!==SE?SE:t.image),e(t)};return n===""&&r(Jn),m.jsxs("div",{className:"artist",onClick:i,children:[m.jsx("div",{children:m.jsx("button",{className:"choose_actor__button",children:m.jsx("img",{className:"artist_photo",src:n,alt:""})})}),m.jsx("div",{children:m.jsx("p",{className:"artist_name",children:t.name})})]})}function n9(){const[t,e]=P.useState([]),[n,r]=P.useState([]),[i,s]=P.useState(""),{data:o}=e9(),a=lt(),u=nr(),f=oe(N=>N.userKey).key,p="artists",d=kT();JSON.stringify([{artist:"artist_1"},{artist:"artist_2"},{artist:"artist_3"}]);const[y,E]=P.useState(!1);P.useEffect(()=>{o&&o.results&&e(o.results)},[o]),P.useEffect(()=>{localStorage.getItem("track")&&localStorage.removeItem("track")},[]);const k=N=>{s(N.target.value)},T=oe(N=>N.userArtists),A=oe(N=>T.userAppArtists);function v(N){if(n.some(C=>C.id===N.id)){const C=n.filter(w=>w.id!==N.id);r(C),a(RT(N.id))}else r([...n,N]),a(mh(N))}P.useEffect(()=>{A.length>=3?E(!0):E(!1)},[A]);const g=t.filter(N=>N.name.toLowerCase().includes(i.toLowerCase())),S=()=>{if(A.length>=3)d.mutate({id:f,field:p,updateData:JSON.stringify(A)}),u("/");else return};return m.jsxs("div",{className:"artists",children:[m.jsxs("div",{className:"artists_container",children:[m.jsx("div",{className:"top_block",children:m.jsx("div",{className:"text_block",children:m.jsx("p",{className:"choose_artists",children:"Choose 3 or more artists you like."})})}),m.jsx("div",{className:"input_block",children:m.jsxs("div",{className:"searchInput",children:[m.jsx("span",{}),m.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:k})]})}),m.jsx("div",{className:"card_block",children:g.filter(N=>N.image!=="").map(N=>m.jsx(t9,{item:N,onSelect:v},N.id))})]}),y&&m.jsxs("button",{className:"fixedButton",onClick:S,children:[m.jsx("div",{className:"success_icon_box",children:m.jsx(M3,{className:"success_icon"})}),m.jsx("p",{className:"success_text",children:"Perfect! Go to Main page!"})]})]})}function r9(t){return Je({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M9.207 8.5l6.646 6.646-0.707 0.707-6.646-6.646-6.646 6.646-0.707-0.707 6.646-6.646-6.647-6.646 0.707-0.707 6.647 6.646 6.646-6.646 0.707 0.707-6.646 6.646z"},child:[]}]})(t)}const i9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAVCAYAAABYHP4bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE2SURBVHgBtZWBUcMwDEVljgHKBtmAbIBHCBOkG3BMUEYoE5ROUJig2QA2cDdomeAjERvcXOLK5/Td/YvOsfojK1GJCgCwZO3xj8TtYI9lVXGCpQx4/wbT7FhP3vgzTpKFI6tRmqygw7HquCIX3VxdMFlAj/MF1GNGYUM1YWSh5++Ubnz+x+D3xMTBN1eqGNzT8myMeZfA+Kes+CJNWySSOtbB57Sko2Gj3yJu/cID65G1S5hZyuc7BKEiR3lHouWOKzpJEHq0pfk5BJPYaE39+c9JN7oqL8TIa16CnXwE9F/xGuU4SoHzAVlCe8lIju+IMjakAWW9cpgYXSlDmWlv1zap5zYx6Ee4bJLRI/E95Y2bV9ZL/HGmKlgivy97ZPwrm4Gh5Uvjq5LqwoA9eXWsL9ZWVUHED5DmW/mpyfqMAAAAAElFTkSuQmCC",s9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ3SURBVHgB7VY7ktpAEB0JDiASqIKEzRyq+OT4BN49gcUJdn2CZW8AkUPgBHgzZ0voKj6l0I6sCMiscAM+fk/Vs8VSiEGCaEuvatQzmlb3U3dPS0plyHAalroCGo1Ga7fbPWLqYjiY+5Zl+ZvN5sn3/eAcGxcTqdVqfTj1OAeBECLEuirbgW3bd5PJxDfZsdUF0CRAIID8PJ/PCxg3iMQNtnsY1e12++K6btVkK6dSAIadcrn8XZOAM5J4e+vVahUul8uf0Clg2YKexfUpm4kjQhL5fP5ln0RcHSAyHUrofjHZTUwkl8uNQMA1kSCwx5rhftVkNxER1IQH0TqHBMHoCYnQYFrlVTLc84KT0EZNBDpNuDWeTqffDpWhdy/THybDiSKCXLNPhHA6Fke3iAz7xkO9Xu/v62L9FfodztlPTLaNRGgQDUsX27sQIyoDpoipwtKjrjxzCzEQsu1zmpptIkGDcFaQWzyiDjup1qETOpOlxwuIOZoEmtlAnQHbRIJzhDgUB0OR/f0mJamijqv1k5CInjl2k05wTP9GTA8MgiDnJBmAUA/p6cr9fxDObDZL9dk4GhGQ6EQsLevp8K3gyIPo8buClEV7kqroY6dSIu74RsW5Xq+7xzZB5kHPGT2mSoh3VUrE1QiLLZDOGAtJIftIFWMMgkN1ZSIBjUtnNJJgStAr7tQFOEoEhp8p0TUfTSQwhtLujW38FI7+BpRKpd84LR6mrUql4hSLxT/8tHOPhYlaGGkSLF7svaoLEXvUms2mi3CP9N+W/PwwVTpdQzlBV0Hsj9FisVghMs+ITAEkeCI+Qb5C/sJog0TqE5IhQ4YMHxr/AZWmRmdr7VjzAAAAAElFTkSuQmCC",o9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH/SURBVHgBnVaNdYIwED5coIxAJ9ANyga1E2AnECfQTqAbwAbaCaATaCeAToCdIL2TSzmuARq/976XR3I/Se6HBDABY0yMwxOSxohJuCIvyE/kKQiCEu4BOUAW5v+okMmQvWDAyR6HVEyVtGvkF7LmuRA5Ry6hPa1FjtzgCa8wcooQeRa7LPjqRoEyETJXp4vGFKSTFDyBOitkI5yFLqGtcLKCO4G6C+Es04uRcLJTayF4AnWWwl4sF+z9npXC1sYKPCFsFq7TxEJwYfqIPR317M6gS81aFd1S6a7BA2irhrYsbrbI0TN/vCtZXQcR+MPanM+EgYsSkt818gX8UfO4IEehmryBr7HkT+/MY9hbCWdi8sEh+MrC5Oh4T6pbzKDz+qgXOaAb/lwgM91aqO7McLvpbkvkezYgbI0Z0VoSnt+LedcmDr+1ZNr+RGhgBLieqrpqzF9kSqfi+dR2bKuUTDiLhLILiZCNxXykj0hGJgNu2l6Wiw02RnV7saFMK1p4ZZZxJILp/wkiuWCD7d08J5zs9GLhXPBzQLGWWZi7BCwos9bII997RQEeu07WX5l+kuRaLqD44HiEaZTIDySVwTe0PZIeJzF0hUnF/4aFfnDtSD4qCGfOQptZlZlGw3EePHnACUCPQOrWJ9czybQ/vZhPIHdPzy96hl1Gn1eIHziSI5tRTUsTAAAAAElFTkSuQmCC",a9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAZCAYAAAAiwE4nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEoSURBVHgBvZaBUcMwDEXlLkBGCBvABC0bdAM6Qpmg2aBsEBiBCQgT1BvYGzRMIL6wgNBrkzaN/O7+xT778k+KI9nRAMxc4LGE5tAdVEKFLrdQhDzUQB/OuUhjgNECeufLqaHyEqMC2vL1bDU7vWYlFHg6Ap+K1sDsqKnrGAZKB8KCCN3jQLUzNdsYmpG+ey0Dp+EGskd+oVuJcEF5kBO7FsNHysdcUrqnv8phTSuGTBmRlLaUETH0lA8vhq+UD/9daYyrTJeHmQ6eyJ6I0tb8zhDlC9tS/rPn1AcD21AdjZltWlTVm2hsWPI07KEVDcHTfMuah64Xarbh8eygasio2/FXeNQH65FSYXjW+c818Ubnn7rHSzenM+ga7ih1jYZSuXsbfcfs4QvvonBhVXX8gAAAAABJRU5ErkJggg==";function Xl({info:t,img:e,isActive:n,handleClickActive:r}){const[i,s]=P.useState(t.image||e),[o,a]=P.useState(!1),[u,c]=P.useState([]),[f,p]=P.useState(!1),[d,y]=P.useState(!1),E=oe(N=>N.likes.likedTracks);oe(N=>N.userKey);const k=lt();P.useEffect(()=>{t&&!t.image&&!e&&s(Jn)},[t]),P.useEffect(()=>{c(E)},[E]),P.useEffect(()=>{d&&a(!1)},[d]);function T(N){r(N),A(N)}function A(N){localStorage.setItem("track",JSON.stringify(N))}const v=N=>{const D=E.some(C=>C.id===N.id);if(!D)c(N),p(!0),k(JT(N));else{const C=u.filter(w=>w.id!==N.id);c(C),k(ZT(N.id))}return D};function g(N){k(Lg(N))}const S={background:n?"rgba(50, 50, 50, 0.5)":"inherit"};return m.jsxs("div",{onClick:()=>{T(t),a(!1)},className:"album_card",style:S,children:[m.jsx("img",{src:i,className:"album_card__image",alt:"album"}),m.jsxs("div",{className:"album_card__content",children:[m.jsxs("div",{className:"text_content",children:[m.jsx("p",{className:"album_card__title",children:t.name}),m.jsx("p",{className:"album_card__artist",children:t.artist_name})]}),m.jsxs("div",{className:"funct_content",onClick:N=>N.stopPropagation(),children:[m.jsx("button",{id:"more_info_button",onClick:()=>a(N=>!N),children:m.jsx(q3,{className:"button_content"})}),o&&m.jsx("div",{className:`more_info_box ${o?"open":"close"}`,children:m.jsxs("div",{className:"more_info_box__container",children:[m.jsxs("button",{className:"more_info_content",id:"first_btn",onClick:()=>{v(t)},children:[m.jsx("div",{className:"btn_image_content",children:E.some(N=>N.id===t.id)?m.jsx(Rm,{className:"like_img"}):m.jsx(bm,{className:"like_img"})}),m.jsx("div",{className:"btn_text_content ",children:m.jsx("p",{children:"Like"})})]}),m.jsxs(vt,{to:`/player/${t.id}`,className:"more_info_content ",id:"third_btn",onClick:()=>{g(t)},children:[m.jsx("div",{className:"btn_image_content",children:m.jsx(Vd,{})}),m.jsxs("div",{className:"btn_text_content",children:["  ",m.jsx("p",{className:"btn_text_content",children:"Play"})]})]})]})})]})]}),d&&m.jsxs("div",{className:`modal_container ${o?"open":"close"}`,children:[m.jsx("div",{className:"modal_content",children:m.jsxs("div",{className:"source_container",children:[m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo link",children:m.jsx("img",{src:s9,alt:""})}),m.jsx("p",{children:"Copy Link"})]}),m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo whatsup",children:m.jsx("img",{src:o9,alt:""})}),m.jsx("p",{children:"WhatsApp"})]}),m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo twitter",children:m.jsx("img",{src:i9,alt:""})}),m.jsx("p",{children:"Twitter"})]}),m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo message",children:m.jsx("img",{src:a9,alt:""})}),m.jsx("p",{children:"Messages"})]})]})}),m.jsx("button",{className:"close_modal__btn",onClick:()=>y(!1),children:m.jsx(r9,{className:"close_modal__btn_content"})})]})]})}function l9({data:t,close:e}){const[n,r]=P.useState([]),[i,s]=P.useState(null),[o,a]=P.useState(!1),[u,c]=P.useState(null),[f,p]=P.useState(!1),d=P.useRef();P.useEffect(()=>{y(t)},[t]),lt(),P.useEffect(()=>{var g;n.length>0&&c((g=n[0])==null?void 0:g.audio)},[n]),P.useEffect(()=>{i&&(c(i.audio),p(!0))},[i]);async function y(g){const N=await(await fetch(`https://api.jamendo.com/v3.0/albums/tracks/?client_id=354e8ba5&format=jsonpretty&limit=all&artist_name=${g.name}`)).json();r(N.results)}const E=oe(g=>g.likes.likedTracks),[k,T]=P.useState([]);P.useEffect(()=>{T(E)},[E]);function A(){const g=d.current;g&&(g.paused?(g.play(),a(!0)):(g.pause(),a(!1)))}function v(g){g===i?(s(null),d.current&&d.current.pause(),a(!1)):(s(g),a(!0),d.current&&d.current.play())}return m.jsxs("div",{className:"discography",children:[m.jsx("audio",{className:"audio_element",ref:d,src:u,autoPlay:f,controls:!0}),m.jsxs("div",{className:"discography-topPanel",children:[m.jsx(No,{className:"GoBackBtn",onClick:e}),m.jsx("h3",{children:t.name})]}),m.jsxs("div",{className:"discography-info",children:[m.jsx("h1",{children:"Discography"}),m.jsx("div",{className:"discography-results",children:n.length>0&&m.jsx("div",{className:"discography-item",children:[...n].reverse().map(g=>m.jsxs("div",{className:"discography-itemContent",children:[m.jsxs("div",{className:"discography-itemInfo",children:[m.jsx("img",{src:g.image,alt:"image"}),m.jsxs("div",{className:"discography-itemTextInfo",children:[m.jsxs("div",{className:"name",children:[m.jsx("h1",{children:g.name}),m.jsxs("span",{children:["Album  ",g.releasedate.slice(0,4)," "," ",g.tracks.length," songs"]})]}),m.jsx("div",{className:"buttons",children:(i==null?void 0:i.id)===g.id&&o?m.jsx(Ug,{onClick:A,className:"album__btn-pause"}):m.jsx(Vd,{onClick:()=>v(g),className:"album__btn-play"})})]})]}),m.jsx("ol",{className:"discography-tracks",children:g.tracks.slice().sort((S,N)=>S.position-N.position).map(S=>m.jsx(Xl,{img:g.image,info:S,isActive:S===i,handleClickActive:()=>v(S)},S.id))})]},g.id))})})]})]})}function u9(){const[t,e]=P.useState(!1),[n,r]=P.useState(null),[i,s]=P.useState(!1),[o,a]=P.useState(null),[u,c]=P.useState(!1),f=P.useRef(),p=lt(),d=()=>{e(!1)},y=oe(W=>W.artist.artistData),{data:E,error:k}=Zy({path:"artists/albums/",name:y==null?void 0:y.name}),[T,A]=P.useState([]);P.useEffect(()=>{var W;E&&E.results?A(((W=E.results[0])==null?void 0:W.albums)||[]):A([])},[E]);const[v,g]=P.useState(),[S,N]=P.useState();P.useEffect(()=>{var W;S&&a((W=S[0])==null?void 0:W.audio)},[S]);const[D,C]=P.useState(5),w=()=>{C(10)},I=()=>{C(5)};P.useEffect(()=>{const W=()=>{g(new Date().toISOString().slice(0,10))};W();const ke=setInterval(W,24*60*60*1e3);return()=>clearInterval(ke)},[]),P.useEffect(()=>{y&&v&&x(v,y)},[v,y]);async function x(W,ke){var ir;const ut=((ir=(await(await fetch(`https://api.jamendo.com/v3.0/artists/tracks/?client_id=354e8ba5&format=jsonpretty&order=popularity_total&name=${ke.name}&album_datebetween=1980-01-01_${W}`)).json()).results[0])==null?void 0:ir.tracks)||[];ut.splice(10),N(ut)}const O=()=>{p(SO())},L=oe(W=>W.userArtists.userAppArtists),[R,U]=P.useState(!1),[K,Q]=P.useState([]);P.useEffect(()=>{const W=L.some(ke=>ke.id===(y==null?void 0:y.id));U(W)},[y,L]);function te(){if(R){const W=L.filter(ke=>ke.id!==y.id);Q(W),p(RT(y.id))}else Q([...K,y]),p(mh(y))}const F=oe(W=>W.likes.likedTracks),[$,V]=P.useState([]);P.useEffect(()=>{V(F)},[F]);function Y(){const W=f.current;W.paused?(p(lo(n)),W.play(),s(!0)):(W.pause(),s(!1))}P.useEffect(()=>{n!==null&&p(lo(n))},[n]),P.useEffect(()=>{n&&(a(n.audio),c(!0))},[n]);function G(W){W===n?(r(null),f.current.pause()):(r(W),f.current.play())}return y?m.jsxs("div",{className:"artistPage",children:[m.jsx("audio",{className:"audio_element",ref:f,src:o,autoPlay:u,controls:!0}),m.jsxs("div",{className:"artistPage-topPanel",children:[m.jsx(No,{className:"GoBackBtn",onClick:O}),m.jsx("h3",{children:y.name})]}),m.jsxs("div",{className:"artistPage-content",children:[m.jsx("img",{className:"artistPage-image",src:y.image,alt:"image"}),m.jsxs("div",{className:"artistPage-info",children:[m.jsxs("div",{className:"artistPage-buttons",children:[R?m.jsx("button",{onClick:te,className:"followArtistBtn--active",children:"Following"}):m.jsx("button",{onClick:te,className:"followArtistBtn",children:"Follow"}),i?m.jsx(Ug,{onClick:()=>Y(),className:"album__btn-pause"}):m.jsx(Vd,{onClick:()=>Y(),className:"album__btn-play"})]}),m.jsxs("div",{className:"artistPage-topTracks",children:[m.jsx("h1",{children:"Popular tracks"}),S&&m.jsx("ol",{className:"album-tracks",children:S.slice(0,D).sort((W,ke)=>W.position-ke.position).map(W=>m.jsx(Xl,{info:W,isActive:W===n,handleClickActive:G},W.id))}),D<10?m.jsx("button",{onClick:w,children:"See more"}):m.jsx("button",{onClick:I,children:"Show less"})]}),m.jsxs("div",{className:"artistPage-discography",children:[m.jsxs("div",{className:"artistPage-discographyPanel",children:[m.jsx("h1",{children:"Discography"}),m.jsx("button",{onClick:()=>{e(!0)},children:"See more"})]}),T&&m.jsx("ol",{className:"albums",children:T.slice(0,3).map(W=>m.jsxs("li",{children:[m.jsx("img",{src:W.image,alt:"Img"}),m.jsx("span",{children:W.name})]},W.id))})]})]})]}),t&&m.jsx(l9,{data:y,close:d})]}):m.jsx("div",{children:"Loading..."})}async function c9(t,e){const n=qT(aI,"images/"+e.uid+".png");await k3(n,t)}function d9(){const[t,e]=P.useState(Jn),{username:n}=oe(f=>f.user),[r,i]=P.useState(!1),s=lt(),a=To().currentUser,u=oe(f=>f.userPhoto.photo);P.useEffect(()=>{if(u&&u!==void 0){e(u);const f=setTimeout(()=>{i(!1)},3500);return()=>clearTimeout(f)}else e(Jn)},[u]);async function c(f){f.target.files[0]&&(c9(f.target.files[0],a),xm(a.uid)),xm(a.uid).then(p=>(e(p),p)).then(p=>{s(GT({photo:p}))})}return m.jsx("div",{className:"edit_profile",children:m.jsxs("div",{className:"edit_profile_container",children:[m.jsxs("div",{className:"history__topPanel",children:[m.jsx(vt,{to:"/profile",children:m.jsx(No,{})}),m.jsx("h3",{className:"history__title",children:"Your Profile"}),r&&m.jsx("div",{className:"warning_box",children:m.jsx("p",{children:"To work correctly, we recommend that you restart the application"})})]}),m.jsxs("div",{className:"user_profile_content",children:[m.jsx("div",{className:"user_logo__box",children:m.jsx("img",{className:"user__photo",src:t,alt:""})}),m.jsx("div",{className:"user_text__content",children:m.jsx("p",{className:"user__name",children:n})})]}),m.jsx("div",{className:"user_correct_content",children:m.jsxs("div",{className:"createAvatar",children:[m.jsx("input",{type:"file",id:"file",class:"file-input",onChange:f=>c(f)}),m.jsx("label",{for:"file",class:"file-label",children:"Choose a file"})]})})]})})}const eI="/assets/sad-BdracKmW.png",zf="/assets/defaultAlbum-BwsBAV61.jpg";function h9(){e1();const[t,e]=P.useState(!0),[n,r]=P.useState(!1);P.useState(!1);const[i,s]=P.useState(zf),[o,a]=P.useState([]),[u,c]=P.useState([]),[f,p]=P.useState(""),[d,y]=P.useState([]),[E,k]=P.useState(null),[T,A]=P.useState(""),[v,g]=P.useState(!1),[S,N]=P.useState(null),[D,C]=P.useState(0),[w,I]=P.useState(!1),x=oe(X=>X.likes.likedTracks),O=oe(X=>X.album.albumData),L=oe(X=>X.album.isCustomPlaylist),R=lt(),U=P.useRef(),[K,Q]=P.useState(""),[te,F]=P.useState(""),[$,V]=P.useState(""),[Y,G]=P.useState("");oe(X=>X.audio),P.useEffect(()=>{S!==null&&R(lo(S))},[S]);function W(){const X=U.current;X&&(X.paused?(X.play(),r(!0)):(X.pause(),r(!1)))}P.useEffect(()=>{var X,Ze;L&&O?(s(((X=O.tracks[0])==null?void 0:X.image)||zf),c(O.tracks),y(O.tracks),k((Ze=O.tracks[0])==null?void 0:Ze.audio),V(O.tracks.length),e(!1)):O&&(ke(O),s(O.image||zf),G(O.releasedate.slice(0,4)),V(u.length),F(O.artist_name)),Q(O.name)},[O,L]);async function ke(X){const ct=await(await fetch(`https://api.jamendo.com/v3.0/tracks/?client_id=354e8ba5&format=jsonpretty&limit=all&artist_name=${X.artist_name}&album_name=${X.name}`)).json();return y(ct.results),c(ct.results),k(ct.results[0].audio),e(!1),ct.results}P.useEffect(()=>{if(n&&(I(!0),u.length!==0)){const X=u[D],Ze=setTimeout(()=>{const ct=(D+1)%u.length;C(ct)},X.duration*1e3);return()=>clearTimeout(Ze)}},[D,u,n]),P.useEffect(()=>{S&&(k(S.audio),I(!0))},[S]),P.useEffect(()=>{if(u.length!==0&&n){const X=u[D];N(X),k(X.audio)}},[D,u,n]),P.useEffect(()=>{a(x)},[x]);const At=X=>{p(X)},Mt=`linear-gradient(to bottom, ${f}, rgb(0, 0, 0))`,ir=`linear-gradient(to bottom, brightness(120%), ${f}, rgb(0, 0, 0))`;function Po(X,Ze){if(X.preventDefault(),T){N(!1),g(!1);const ct=Ze.filter(xr=>xr.name.toLowerCase().includes(T.toLowerCase()));c(ct),ct.length===0&&g(!0)}else T.length===0&&c(Ze)}function Ir(X){X===S?(R(Vc({audio:X.audio,isPlay:!1})),N(!1),U.current&&U.current.pause()):(R(Vc({audio:X.audio,isPlay:!0})),N(X),U.current&&U.current.play())}return t?m.jsx("div",{className:"spinner-container",children:m.jsx(as,{className:"spinner"})}):m.jsx("div",{className:"album",children:m.jsxs("div",{className:"album_container",children:[m.jsx(Wd,{imageUrl:i,onColorGenerated:At}),m.jsx("audio",{className:"audio_element",ref:U,src:E,autoPlay:w,muted:"true",controls:!0}),m.jsxs("div",{className:"album_color__top",style:{background:Mt},children:[m.jsxs("div",{className:"album_arrow",children:[m.jsx(No,{}),m.jsx("h1",{className:"album_title",children:K})]}),m.jsx("div",{className:"album_search_content",children:m.jsx("form",{onChange:X=>Po(X,d),className:"search_in_plsylist__form",children:m.jsxs("div",{style:{background:ir},className:"search_box",children:[m.jsx("label",{children:m.jsx(zO,{})}),m.jsx("input",{onChange:X=>A(X.target.value),className:"search_content",type:"text",placeholder:`Find in ${L?"playlist":"album"}`})]})})}),m.jsxs("div",{className:"album_content",children:[m.jsx("div",{className:"album_logo",children:m.jsx("img",{src:i,alt:""})}),m.jsx("div",{className:"text_box_content",children:m.jsxs("div",{className:"main_buttons_info",children:[m.jsx("div",{className:"content__1__info",children:m.jsx("div",{className:"main_album__info",children:m.jsxs("div",{className:"content_text",children:[m.jsxs("p",{className:"info_1",children:[K," ",te&&`by ${te}`]}),m.jsxs("p",{className:"album__info",children:["Album  ",Y?`${Y}  `:"",$," tracks"]})]})})}),m.jsx("div",{className:"content_2__buttons",children:n?m.jsx(Ug,{onClick:()=>W(),className:"album__btn-pause"}):m.jsx(Vd,{onClick:()=>W(),className:"album__btn-play"})})]})})]})]}),t?m.jsx(as,{className:"spinner"}):v?m.jsx("div",{className:"sad_box",children:m.jsxs("div",{className:"sad_box_container",children:[m.jsx("p",{children:"Unfortunately, nothing was found. Please check the name of the song you are looking for."}),m.jsx("img",{className:"sad_img",src:eI,alt:""})]})}):m.jsx("div",{className:"album_tracks_box",children:m.jsx("ol",{className:"album-tracks",children:u.slice().sort((X,Ze)=>X.position-Ze.position).map((X,Ze)=>m.jsx(Xl,{info:X,isActive:X===S,handleClickActive:Ir},X.id))})})]})})}function f9(){return oe(t=>t.likes.likedTracks),m.jsx("div",{children:"Liked"})}const p9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACASURBVHgB7ZTBCYAwDEXTkkE6mk4gTuAI4gbeOoaO4AY6ggOU1gQ8m3/wINgPIZeXdwghREBijIsWwjJhCSBHnl5OFX5Q6OS+Qs65eYK895124SaDmzmlFJh5ICAyYHGrCjcRtgY43r03uIOQyFp2LYStd/gHIfRgSymbc+5E2AsE9yUkl6SjggAAAABJRU5ErkJggg==",Nm="/assets/liked_album-Doi1n_Fj.jpg";function Vf({data:t,dataAlbum:e}){const[n,r]=P.useState(null),[i,s]=P.useState(""),[o,a]=P.useState("Artist");return P.useEffect(()=>{e.name==null?(a("Artist"),r(t.name)):(a("Album"),r(e.name)),e.name==null?s(t.image):s(e.tracks[0].album_image)},[]),m.jsx("div",{className:"profile_card_container",children:m.jsxs("div",{className:"profile_card",children:[m.jsx("img",{src:i,className:"card_image"}),m.jsxs("div",{className:"text_block",children:[m.jsx("p",{className:"card_artist",children:n}),m.jsx("p",{className:"card_content",children:o})]})]})})}function m9(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 3V5H17V11L19 14V16H13V23H11V16H5V14L7 11V5H6V3H18Z"},child:[]}]})(t)}function g9({data:t,favArtists:e,playlists:n,statusArr:r}){const[i,s]=P.useState(!0),[o,a]=P.useState("song"),[u,c]=P.useState([]),[f,p]=P.useState(!0),{status:d,setStatus:y}=r;P.useState(!0);const E=oe(g=>g.likes.likedTracks);P.useEffect(()=>{r.status===void 0?p(!0):(p(!1),v(d))},[d]),P.useEffect(()=>{t&&s(!1)},[]),P.useEffect(()=>{E.length!==0&&E.length!==1&&a("songs")},[E]);const k=[{name:null,tracks:{image:!1}}];function T(g,S){let N=[],D=[];for(let C=0;C<g.length;C++)g[C].tracks&&g[C].tracks!==void 0&&N.push(g[C]);for(;D.length<S&&N.length>0;){const C=Math.floor(Math.random()*N.length),w=N[C];D.some(I=>I.name===w.name)||D.push(w),N.splice(C,1)}return D}const A=T(n,4);function v(g){switch(y(g),g){case"Artist":c(e);break;case"Playlist":const S=T(n,4);c(S);break}}return i?m.jsx("p",{children:" Loading..."}):m.jsx("div",{className:"recently_played",children:m.jsxs("div",{className:"recently_played_container",children:[m.jsx(vt,{to:"/userlikes",className:"liked_songs",children:m.jsxs("div",{className:"liked_songs_container",children:[m.jsx("div",{className:"liked_songs_logo",children:m.jsx("img",{className:"liked_img",src:Nm,alt:""})}),m.jsxs("div",{className:"liked_songs_info",children:[m.jsx("p",{className:"album_title",children:"Liked Songs"}),m.jsxs("div",{className:"liked_songs_info_content",children:[m.jsx(m9,{}),m.jsx("p",{className:"status_info",children:"Playlist"}),m.jsx("p",{children:""}),m.jsxs("p",{className:"volume_album",children:[E.length," ",o]})]})]})]})}),f?m.jsxs("div",{children:[e.map((g,S)=>m.jsx(Vf,{data:g,dataAlbum:k},Ju())),A.map((g,S)=>m.jsx(Vf,{data:k,dataAlbum:g},Ju()))]}):m.jsx("div",{children:u.map((g,S)=>m.jsx(Vf,{data:k,dataAlbum:g},Ju()))})]})})}const Gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACGSURBVHgBrZShDoAwDEQvWNB4PF/BB6BBg99X4PF87LgmFQtgduUlZ5bs2u62AQU554HqUUnzsZbMDBGsE+qkJkQojBZEoclObYhCk5U6qBYRaDBTl5Lc02jwjl7JNajDRuqgYHF7Wto4FrMbaAdr8VIJClbVq69QCF97bhzdQH+A6lfwCzf4G4BnG7QVpAAAAABJRU5ErkJggg==";function y9({modalArr:t,photoObj:e}){const{isSettings:n,setIsSettings:r}=t;P.useState("");const{userPhoto:i,setUserPhoto:s}=e,o=oe(a=>a.user);return m.jsxs("div",{className:"setting__page",children:[m.jsx("div",{className:"header",children:m.jsxs("div",{className:"header-components",children:[m.jsxs("button",{className:"go_back__btn",onClick:()=>r(!1),children:[" ",m.jsx("img",{src:Jy,alt:""})]}),m.jsx("h1",{children:"Settings"})]})}),m.jsxs("main",{children:[m.jsxs("div",{className:"Settings-profile",children:[m.jsxs("div",{className:"Settings-profile-information",children:[m.jsx("div",{className:"user__photo_box",children:m.jsx("img",{className:"user__photo",src:i,alt:""})}),m.jsxs("div",{className:"Settings-profile-text",children:[m.jsx("p",{className:"name",children:o.username}),m.jsx("p",{className:"view",children:"View Profile"})]})]}),m.jsx("img",{className:"user-chevronRight",src:Gt,alt:""})]}),m.jsxs("div",{className:"settings",children:[m.jsxs(vt,{to:"/editprofile",className:"settings-user",children:[m.jsx("p",{children:"Account"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs(vt,{to:"/history",className:"settings-user",children:[m.jsx("p",{children:"Recently Played"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Data Saver"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Languages"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Playback"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Explicit Content"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Devices"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Car"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Social"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Voice Assistant & Apps"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Audio Quality"}),m.jsx("img",{src:Gt,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Storage"}),m.jsx("img",{src:Gt,alt:""})]})]}),m.jsx(zd,{})]})]})}function v9(){const[t,e]=P.useState([]),[n,r]=P.useState(void 0),[i,s]=P.useState(!1),[o,a]=P.useState(Jn),[u,c]=P.useState(!1),[f,p]=P.useState(!0),d={userPhoto:o,setUserPhoto:a},{data:y}=D1(),E=oe(C=>C.userPhoto.photo),k=oe(C=>C.user),T=nr(),A=To(),v=oe(C=>C.playlists.tracks),g=oe(C=>C.userArtists.userAppArtists),S=oe(C=>C.likes.likedTracks);P.useEffect(()=>{ny(A,C=>{k.email==null&&(c(!0),T("/"))})},[]),P.useEffect(()=>{y&&(e(y.results),r(y.result))},[y]),P.useEffect(()=>{a(E&&E!==void 0?E:Jn)},[E]);const N={status:n,setStatus:r},D={isSettings:i,setIsSettings:s};return m.jsx("div",{className:"profile",children:u?m.jsx(as,{}):i?m.jsx(y9,{modalArr:D,photoObj:d,className:"settings"}):m.jsxs("div",{className:`profile_container ${i?"hidden":"fade-in"}`,children:[m.jsxs("div",{className:"your_library",children:[m.jsxs("div",{className:"profile_logo",children:[m.jsx("img",{className:"user__photo",src:o,alt:""}),m.jsx("p",{className:"title",children:"Your Library"})]}),m.jsx("button",{onClick:()=>s(!0),className:"plus_btn",children:m.jsx("img",{src:p9,alt:""})})]}),m.jsxs("div",{className:"recently_played",children:[m.jsx(g9,{data:t,favTracks:S,favArtists:g,playlists:v,statusArr:N}),f&&m.jsx(Bg,{}),m.jsx(zd,{})]})]})})}function _9(){const[t,e]=P.useState(""),[n,r]=P.useState(),[i,s]=P.useState({min:0,sec:0}),[o,a]=P.useState(),[u,c]=P.useState(),[f,p]=P.useState(!1),[d,y]=P.useState(!1),[E,k]=P.useState(!0),T=P.useRef(),A=oe(D=>D.likes.likedTracks);P.useEffect(()=>{if(A)if(A.length!==0){k(!1),r(A.length);const D=A.reduce((C,w)=>C+w.duration,0);v(D)}else k(!0),r(0),s({min:0,sec:0})},[A]);function v(D){let C=Math.floor(D/60),w=D%60;const I={min:C,sec:w};return s(I),I}function g(D){D===o?(a(!1),c(o.audio),T.current.pause()):(a(D),T.current.play())}const S=D=>{e(D)},N=`linear-gradient(to bottom, ${t}, rgb(0, 0, 0))`;return m.jsxs("div",{className:"user_likes",children:[m.jsx("audio",{className:"audio_element",ref:T,src:u,autoPlay:f,controls:!0}),d?m.jsx(as,{}):m.jsx("div",{className:"user_likes_container",children:m.jsxs("div",{className:"user_likes_content",children:[m.jsx(Wd,{imageUrl:Nm,onColorGenerated:S}),m.jsx("audio",{className:"audio_element",ref:T,src:u,autoPlay:f,muted:"true",controls:!0}),m.jsxs("div",{className:"album_color__top",style:{background:N},children:[m.jsxs("div",{className:"album_arrow",children:[m.jsx(No,{}),m.jsx("h1",{className:"album_title",children:"Your Liked Songs"})]}),m.jsxs("div",{className:"album_content",children:[m.jsx("div",{className:"album_logo",children:m.jsx("img",{src:Nm,alt:""})}),m.jsx("div",{className:"text_box_content",children:m.jsx("div",{className:"main_buttons_info",children:m.jsx("div",{className:"content__1__info",children:m.jsx("div",{className:"main_album__info",children:m.jsx("div",{className:"content_text",children:m.jsxs("p",{className:"album__info",children:[i.min,"m ",i.sec,"s "," ",n," tracks"]})})})})})})]})]}),m.jsx("div",{className:"user_likes_songs",children:E?m.jsx("div",{className:"empty_box",children:m.jsxs("div",{className:"empty_box_container",children:[m.jsx("p",{children:"Unfortunately, you don't have any liked tracks right now. If you like a track, then you can click the like icon and it will be added to this album."}),m.jsx("img",{className:"sad_img",src:eI,alt:""})]})}):A.map(D=>m.jsx(Xl,{className:"card",info:D,isActive:D===o,img:D.album_image,handleClickActive:g},D.id))})]})})]})}function w9(){const t=oe(k=>k.history.historyArray),[e,n]=P.useState(t),[r,i]=P.useState(!1),[s,o]=P.useState(null),[a,u]=P.useState(0),[c,f]=P.useState(null),[p,d]=P.useState(!1);lt();const y=P.useRef();P.useEffect(()=>{s&&(f(s.audio),d(!0))},[s]),P.useEffect(()=>{if(r&&(d(!0),e.length!==0)){const k=e[a],T=setTimeout(()=>{const A=(a+1)%e.length;u(A)},k.duration*1e3);return()=>clearTimeout(T)}},[a,e,r]),P.useEffect(()=>{s&&(f(s.audio),d(!0))},[s]),P.useEffect(()=>{if(e.length!==0&&r){const k=e[a];o(k),f(k.audio)}},[a,e,r]);function E(k){k===s?(o(!1),y.current&&y.current.pause()):(o(k),y.current&&y.current.play())}return m.jsxs("div",{className:"history",children:[m.jsxs("div",{className:"history__topPanel",children:[m.jsx(vt,{to:"/profile",children:m.jsx(No,{})}),m.jsx("h3",{className:"history__title",children:"Recently played"})]}),m.jsx("div",{className:"history__tracks",children:e.filter(k=>k!==null).reduce((k,T)=>(k.some(A=>A.id===T.id)||k.push(T),k),[]).reverse().map((k,T)=>m.jsx(Xl,{info:k,isActive:k===s,handleClickActive:E},k.id))})]})}function E9(){const t=oe(o=>o.audio),[e,n]=P.useState(null),[r,i]=P.useState(!1),s=P.useRef();return P.useEffect(()=>{const o=s.current;t.audio&&(n(t.audio),t.isPlay?(o.play(),i(!0)):(o.pause(),i(!1)))},[t]),m.jsxs("div",{className:"app",children:[m.jsx("audio",{className:"audio_element",ref:s,src:e,autoPlay:r,controls:!0}),m.jsx(sN,{children:m.jsxs(Xb,{children:[m.jsx(xt,{path:"/",element:m.jsx(P3,{})}),m.jsx(xt,{path:"/registration",element:m.jsx(F3,{})}),m.jsx(xt,{path:"/player",element:m.jsx(EE,{})}),m.jsx(xt,{path:"/player/:trackId",element:m.jsx(EE,{})}),m.jsx(xt,{path:"/login",element:m.jsx(U3,{})}),m.jsx(xt,{path:"/search",element:m.jsx(V3,{})}),m.jsx(xt,{path:"/artists",element:m.jsx(n9,{})}),m.jsx(xt,{path:"/profile",element:m.jsx(v9,{})}),m.jsx(xt,{path:"/artist",element:m.jsx(u9,{})}),m.jsx(xt,{path:"/editprofile",element:m.jsx(d9,{})}),m.jsx(xt,{path:"/album/:albumId",element:m.jsx(h9,{})}),m.jsx(xt,{path:"/liked",element:m.jsx(f9,{})}),m.jsx(xt,{path:"/userlikes",element:m.jsx(_9,{})}),m.jsx(xt,{path:"/history",element:m.jsx(w9,{})})]})})]})}var S9="firebase",C9="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt(S9,C9,"app");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function I(){}I.prototype=w.prototype,C.D=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(x,O,L){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return w.prototype[O].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,w,I){I||(I=0);var x=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)x[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;16>O;++O)x[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],O=C.g[2];var L=C.g[3],R=w+(L^I&(O^L))+x[0]+3614090360&4294967295;w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+x[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+x[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+x[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(O^L&(I^O))+x[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+x[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+x[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+x[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(I^O^L)+x[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+x[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+x[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+x[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(O^(I|~L))+x[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+x[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+x[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+x[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var I=w-this.blockSize,x=this.B,O=this.h,L=0;L<w;){if(O==0)for(;L<=I;)i(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(x[O++]=C.charCodeAt(L++),O==this.blockSize){i(this,x),O=0;break}}else for(;L<w;)if(x[O++]=C[L++],O==this.blockSize){i(this,x),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var I=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=I&255,I/=256;for(this.u(C),C=Array(16),w=I=0;4>w;++w)for(var x=0;32>x;x+=8)C[I++]=this.g[w]>>>x&255;return C};function s(C,w){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function o(C,w){this.h=w;for(var I=[],x=!0,O=C.length-1;0<=O;O--){var L=C[O]|0;x&&L==w||(I[O]=L,x=!1)}this.g=I}var a={};function u(C){return-128<=C&&128>C?s(C,function(w){return new o([w|0],0>w?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return T(c(-C));for(var w=[],I=1,x=0;C>=I;x++)w[x]=C/I|0,I*=4294967296;return new o(w,0)}function f(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return T(f(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(w,8)),x=p,O=0;O<C.length;O+=8){var L=Math.min(8,C.length-O),R=parseInt(C.substring(O,O+L),w);8>L?(L=c(Math.pow(w,L)),x=x.j(L).add(c(R))):(x=x.j(I),x=x.add(c(R)))}return x}var p=u(0),d=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-T(this).m();for(var C=0,w=1,I=0;I<this.g.length;I++){var x=this.i(I);C+=(0<=x?x:4294967296+x)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(k(this))return"-"+T(this).toString(C);for(var w=c(Math.pow(C,6)),I=this,x="";;){var O=S(I,w).g;I=A(I,O.j(w));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=O,E(I))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function k(C){return C.h==-1}t.l=function(C){return C=A(this,C),k(C)?-1:E(C)?0:1};function T(C){for(var w=C.g.length,I=[],x=0;x<w;x++)I[x]=~C.g[x];return new o(I,~C.h).add(d)}t.abs=function(){return k(this)?T(this):this},t.add=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],x=0,O=0;O<=w;O++){var L=x+(this.i(O)&65535)+(C.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);x=R>>>16,L&=65535,R&=65535,I[O]=R<<16|L}return new o(I,I[I.length-1]&-2147483648?-1:0)};function A(C,w){return C.add(T(w))}t.j=function(C){if(E(this)||E(C))return p;if(k(this))return k(C)?T(this).j(T(C)):T(T(this).j(C));if(k(C))return T(this.j(T(C)));if(0>this.l(y)&&0>C.l(y))return c(this.m()*C.m());for(var w=this.g.length+C.g.length,I=[],x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<C.g.length;O++){var L=this.i(x)>>>16,R=this.i(x)&65535,U=C.i(O)>>>16,K=C.i(O)&65535;I[2*x+2*O]+=R*K,v(I,2*x+2*O),I[2*x+2*O+1]+=L*K,v(I,2*x+2*O+1),I[2*x+2*O+1]+=R*U,v(I,2*x+2*O+1),I[2*x+2*O+2]+=L*U,v(I,2*x+2*O+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new o(I,0)};function v(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function g(C,w){this.g=C,this.h=w}function S(C,w){if(E(w))throw Error("division by zero");if(E(C))return new g(p,p);if(k(C))return w=S(T(C),w),new g(T(w.g),T(w.h));if(k(w))return w=S(C,T(w)),new g(T(w.g),w.h);if(30<C.g.length){if(k(C)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var I=d,x=w;0>=x.l(C);)I=N(I),x=N(x);var O=D(I,1),L=D(x,1);for(x=D(x,2),I=D(I,2);!E(x);){var R=L.add(x);0>=R.l(C)&&(O=O.add(I),L=R),x=D(x,1),I=D(I,1)}return w=A(C,O.j(w)),new g(O,w)}for(O=p;0<=C.l(w);){for(I=Math.max(1,Math.floor(C.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=c(I),R=L.j(w);k(R)||0<R.l(C);)I-=x,L=c(I),R=L.j(w);E(L)&&(L=d),O=O.add(L),C=A(C,R)}return new g(O,C)}t.A=function(C){return S(this,C).h},t.and=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],x=0;x<w;x++)I[x]=this.i(x)&C.i(x);return new o(I,this.h&C.h)},t.or=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],x=0;x<w;x++)I[x]=this.i(x)|C.i(x);return new o(I,this.h|C.h)},t.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),I=[],x=0;x<w;x++)I[x]=this.i(x)^C.i(x);return new o(I,this.h^C.h)};function N(C){for(var w=C.g.length+1,I=[],x=0;x<w;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new o(I,C.h)}function D(C,w){var I=w>>5;w%=32;for(var x=C.g.length-I,O=[],L=0;L<x;L++)O[L]=0<w?C.i(L+I)>>>w|C.i(L+I+1)<<32-w:C.i(L+I);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,tI=o}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,_){return l==Array.prototype||l==Object.prototype||(l[h]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var h=0;h<l.length;++h){var _=l[h];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var _=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var M=l[b];if(!(M in _))break e;_=_[M]}l=l[l.length-1],b=_[l],h=h(b),h!=b&&h!=null&&e(_,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var _=0,b=!1,M={next:function(){if(!b&&_<l.length){var j=_++;return{value:h(j,l[j]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,_){return l.call.apply(l.bind,arguments)}function p(l,h,_){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function d(l,h,_){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,d.apply(null,arguments)}function y(l,h){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function E(l,h){function _(){}_.prototype=h.prototype,l.aa=h.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(b,M,j){for(var H=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)H[ge-2]=arguments[ge];return h.prototype[M].apply(b,H)}}function k(l){const h=l.length;if(0<h){const _=Array(h);for(let b=0;b<h;b++)_[b]=l[b];return _}return[]}function T(l,h){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(u(b)){const M=l.length||0,j=b.length||0;l.length=M+j;for(let H=0;H<j;H++)l[M+H]=b[H]}else l.push(b)}}class A{constructor(h,_){this.i=h,this.j=_,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(l){return/^[\s\xa0]*$/.test(l)}function g(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function S(l){return S[" "](l),l}S[" "]=function(){};var N=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function D(l,h,_){for(const b in l)h.call(_,l[b],b,l)}function C(l,h){for(const _ in l)h.call(void 0,l[_],_,l)}function w(l){const h={};for(const _ in l)h[_]=l[_];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,h){let _,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(_ in b)l[_]=b[_];for(let j=0;j<I.length;j++)_=I[j],Object.prototype.hasOwnProperty.call(b,_)&&(l[_]=b[_])}}function O(l){var h=1;l=l.split(":");const _=[];for(;0<h&&l.length;)_.push(l.shift()),h--;return l.length&&_.push(l.join(":")),_}function L(l){a.setTimeout(()=>{throw l},0)}function R(){var l=$;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class U{constructor(){this.h=this.g=null}add(h,_){const b=K.get();b.set(h,_),this.h?this.h.next=b:this.g=b,this.h=b}}var K=new A(()=>new Q,l=>l.reset());class Q{constructor(){this.next=this.g=this.h=null}set(h,_){this.h=h,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,$=new U,V=()=>{const l=a.Promise.resolve(void 0);te=()=>{l.then(Y)}};var Y=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(_){L(_)}var h=K;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}F=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};a.addEventListener("test",_,h),a.removeEventListener("test",_,h)}catch{}return l}();function At(l,h){if(W.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(N){e:{try{S(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else _=="mouseover"?h=l.fromElement:_=="mouseout"&&(h=l.toElement);this.relatedTarget=h,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Mt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&At.aa.h.call(this)}}E(At,W);var Mt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),ir=0;function Po(l,h,_,b,M){this.listener=l,this.proxy=null,this.src=h,this.type=_,this.capture=!!b,this.ha=M,this.key=++ir,this.da=this.fa=!1}function Ir(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function X(l){this.src=l,this.g={},this.h=0}X.prototype.add=function(l,h,_,b,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var H=ct(l,h,b,M);return-1<H?(h=l[H],_||(h.fa=!1)):(h=new Po(h,this.src,j,!!b,M),h.fa=_,l.push(h)),h};function Ze(l,h){var _=h.type;if(_ in l.g){var b=l.g[_],M=Array.prototype.indexOf.call(b,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(b,M,1),j&&(Ir(h),l.g[_].length==0&&(delete l.g[_],l.h--))}}function ct(l,h,_,b){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!_&&j.ha==b)return M}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),ne={};function zn(l,h,_,b,M){if(b&&b.once)return nv(l,h,_,b,M);if(Array.isArray(h)){for(var j=0;j<h.length;j++)zn(l,h[j],_,b,M);return null}return _=wh(_),l&&l[ut]?l.K(h,_,c(b)?!!b.capture:!!b,M):Be(l,h,_,!1,b,M)}function Be(l,h,_,b,M,j){if(!h)throw Error("Invalid event type");var H=c(M)?!!M.capture:!!M,ge=vh(l);if(ge||(l[xr]=ge=new X(l)),_=ge.add(h,_,b,H,j),_.proxy)return _;if(b=jt(),_.proxy=b,b.src=l,b.listener=_,l.addEventListener)ke||(M=H),M===void 0&&(M=!1),l.addEventListener(h.toString(),b,M);else if(l.attachEvent)l.attachEvent(iv(h.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jt(){function l(_){return h.call(l.src,l.listener,_)}const h=lI;return l}function nv(l,h,_,b,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)nv(l,h[j],_,b,M);return null}return _=wh(_),l&&l[ut]?l.L(h,_,c(b)?!!b.capture:!!b,M):Be(l,h,_,!0,b,M)}function rv(l,h,_,b,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)rv(l,h[j],_,b,M);else b=c(b)?!!b.capture:!!b,_=wh(_),l&&l[ut]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],_=ct(j,_,b,M),-1<_&&(Ir(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=vh(l))&&(h=l.g[h.toString()],l=-1,h&&(l=ct(h,_,b,M)),(_=-1<l?h[l]:null)&&yh(_))}function yh(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ut])Ze(h.i,l);else{var _=l.type,b=l.proxy;h.removeEventListener?h.removeEventListener(_,b,l.capture):h.detachEvent?h.detachEvent(iv(_),b):h.addListener&&h.removeListener&&h.removeListener(b),(_=vh(h))?(Ze(_,l),_.h==0&&(_.src=null,h[xr]=null)):Ir(l)}}}function iv(l){return l in ne?ne[l]:ne[l]="on"+l}function lI(l,h){if(l.da)l=!0;else{h=new At(h,this);var _=l.listener,b=l.ha||l.src;l.fa&&yh(l),l=_.call(b,h)}return l}function vh(l){return l=l[xr],l instanceof X?l:null}var _h="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(l){return typeof l=="function"?l:(l[_h]||(l[_h]=function(h){return l.handleEvent(h)}),l[_h])}function dt(){G.call(this),this.i=new X(this),this.M=this,this.F=null}E(dt,G),dt.prototype[ut]=!0,dt.prototype.removeEventListener=function(l,h,_,b){rv(this,l,h,_,b)};function kt(l,h){var _,b=l.F;if(b)for(_=[];b;b=b.F)_.push(b);if(l=l.M,b=h.type||h,typeof h=="string")h=new W(h,l);else if(h instanceof W)h.target=h.target||l;else{var M=h;h=new W(b,l),x(h,M)}if(M=!0,_)for(var j=_.length-1;0<=j;j--){var H=h.g=_[j];M=Jl(H,b,!0,h)&&M}if(H=h.g=l,M=Jl(H,b,!0,h)&&M,M=Jl(H,b,!1,h)&&M,_)for(j=0;j<_.length;j++)H=h.g=_[j],M=Jl(H,b,!1,h)&&M}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var _=l.g[h],b=0;b<_.length;b++)Ir(_[b]);delete l.g[h],l.h--}}this.F=null},dt.prototype.K=function(l,h,_,b){return this.i.add(String(l),h,!1,_,b)},dt.prototype.L=function(l,h,_,b){return this.i.add(String(l),h,!0,_,b)};function Jl(l,h,_,b){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var H=h[j];if(H&&!H.da&&H.capture==_){var ge=H.listener,et=H.ha||H.src;H.fa&&Ze(l.i,H),M=ge.call(et,b)!==!1&&M}}return M&&!b.defaultPrevented}function sv(l,h,_){if(typeof l=="function")_&&(l=d(l,_));else if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function ov(l){l.g=sv(()=>{l.g=null,l.i&&(l.i=!1,ov(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class uI extends G{constructor(h,_){super(),this.m=h,this.l=_,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ov(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oo(l){G.call(this),this.h=l,this.g={}}E(Oo,G);var av=[];function lv(l){D(l.g,function(h,_){this.g.hasOwnProperty(_)&&yh(h)},l),l.g={}}Oo.prototype.N=function(){Oo.aa.N.call(this),lv(this)},Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eh=a.JSON.stringify,cI=a.JSON.parse,dI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Sh(){}Sh.prototype.h=null;function uv(l){return l.h||(l.h=l.i())}function hI(){}var Do={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ch(){W.call(this,"d")}E(Ch,W);function Ah(){W.call(this,"c")}E(Ah,W);var gs={},cv=null;function kh(){return cv=cv||new dt}gs.La="serverreachability";function dv(l){W.call(this,gs.La,l)}E(dv,W);function Lo(l){const h=kh();kt(h,new dv(h))}gs.STAT_EVENT="statevent";function hv(l,h){W.call(this,gs.STAT_EVENT,l),this.stat=h}E(hv,W);function Tt(l){const h=kh();kt(h,new hv(h,l))}gs.Ma="timingevent";function fv(l,h){W.call(this,gs.Ma,l),this.size=h}E(fv,W);function Mo(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function jo(){this.g=!0}jo.prototype.xa=function(){this.g=!1};function fI(l,h,_,b,M,j){l.info(function(){if(l.g)if(j)for(var H="",ge=j.split("&"),et=0;et<ge.length;et++){var de=ge[et].split("=");if(1<de.length){var ht=de[0];de=de[1];var ft=ht.split("_");H=2<=ft.length&&ft[1]=="type"?H+(ht+"="+de+"&"):H+(ht+"=redacted&")}}else H=null;else H=j;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+h+`
`+_+`
`+H})}function pI(l,h,_,b,M,j,H){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+h+`
`+_+`
`+j+" "+H})}function ys(l,h,_,b){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+gI(l,_)+(b?" "+b:"")})}function mI(l,h){l.info(function(){return"TIMEOUT: "+h})}jo.prototype.info=function(){};function gI(l,h){if(!l.g)return h;if(!h)return null;try{var _=JSON.parse(h);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var b=_[l];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return Eh(_)}catch{return h}}var Th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ih;function Zl(){}E(Zl,Sh),Zl.prototype.g=function(){return new XMLHttpRequest},Zl.prototype.i=function(){return{}},Ih=new Zl;function Rr(l,h,_,b){this.j=l,this.i=h,this.l=_,this.R=b||1,this.U=new Oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pv}function pv(){this.i=null,this.g="",this.h=!1}var mv={},xh={};function Rh(l,h,_){l.L=1,l.v=ru(sr(h)),l.m=_,l.P=!0,gv(l,null)}function gv(l,h){l.F=Date.now(),eu(l),l.A=sr(l.v);var _=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),bv(_.i,"t",b),l.C=0,_=l.j.J,l.h=new pv,l.g=Kv(l.j,_?h:null,!l.m),0<l.O&&(l.M=new uI(d(l.Y,l,l.g),l.O)),h=l.U,_=l.g,b=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(av[0]=M.toString()),M=av);for(var j=0;j<M.length;j++){var H=zn(_,M[j],b||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Lo(),fI(l.i,l.u,l.A,l.l,l.R,l.m)}Rr.prototype.ca=function(l){l=l.target;const h=this.M;h&&or(l)==3?h.j():this.Y(l)},Rr.prototype.Y=function(l){try{if(l==this.g)e:{const ft=or(this.g);var h=this.g.Ba();const ws=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||jv(this.g)))){this.J||ft!=4||h==7||(h==8||0>=ws?Lo(3):Lo(2)),bh(this);var _=this.g.Z();this.X=_;t:if(yv(this)){var b=jv(this.g);l="";var M=b.length,j=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),Fo(this);var H="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(b[h],{stream:!(j&&h==M-1)});b.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=_==200,pI(this.i,this.u,this.A,this.l,this.R,ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,et=this.g;if((ge=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ge)){var de=ge;break t}}de=null}if(_=de)ys(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nh(this,_);else{this.o=!1,this.s=3,Tt(12),Ii(this),Fo(this);break e}}if(this.P){_=!0;let An;for(;!this.J&&this.C<H.length;)if(An=vI(this,H),An==xh){ft==4&&(this.s=4,Tt(14),_=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(An==mv){this.s=4,Tt(15),ys(this.i,this.l,H,"[Invalid Chunk]"),_=!1;break}else ys(this.i,this.l,An,null),Nh(this,An);if(yv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||H.length!=0||this.h.h||(this.s=1,Tt(16),_=!1),this.o=this.o&&_,!_)ys(this.i,this.l,H,"[Invalid Chunked Response]"),Ii(this),Fo(this);else if(0<H.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),jh(ht),ht.M=!0,Tt(11))}}else ys(this.i,this.l,H,null),Nh(this,H);ft==4&&Ii(this),this.o&&!this.J&&(ft==4?Hv(this.j,this):(this.o=!1,eu(this)))}else LI(this.g),_==400&&0<H.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Ii(this),Fo(this)}}}catch{}finally{}};function yv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function vI(l,h){var _=l.C,b=h.indexOf(`
`,_);return b==-1?xh:(_=Number(h.substring(_,b)),isNaN(_)?mv:(b+=1,b+_>h.length?xh:(h=h.slice(b,b+_),l.C=b+_,h)))}Rr.prototype.cancel=function(){this.J=!0,Ii(this)};function eu(l){l.S=Date.now()+l.I,vv(l,l.I)}function vv(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Mo(d(l.ba,l),h)}function bh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Rr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(mI(this.i,this.A),this.L!=2&&(Lo(),Tt(17)),Ii(this),this.s=2,Fo(this)):vv(this,this.S-l)};function Fo(l){l.j.G==0||l.J||Hv(l.j,l)}function Ii(l){bh(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,lv(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Nh(l,h){try{var _=l.j;if(_.G!=0&&(_.g==l||Ph(_.h,l))){if(!l.K&&Ph(_.h,l)&&_.G==3){try{var b=_.Da.g.parse(h)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)uu(_),au(_);else break e;Mh(_),Tt(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mo(d(_.Za,_),6e3));if(1>=Ev(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ri(_,11)}else if((l.K||_.g==l)&&uu(_),!v(h))for(M=_.Da.g.parse(h),h=0;h<M.length;h++){let de=M[h];if(_.T=de[0],de=de[1],_.G==2)if(de[0]=="c"){_.K=de[1],_.ia=de[2];const ht=de[3];ht!=null&&(_.la=ht,_.j.info("VER="+_.la));const ft=de[4];ft!=null&&(_.Aa=ft,_.j.info("SVER="+_.Aa));const ws=de[5];ws!=null&&typeof ws=="number"&&0<ws&&(b=1.5*ws,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const An=l.g;if(An){const cu=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cu){var j=b.h;j.g||cu.indexOf("spdy")==-1&&cu.indexOf("quic")==-1&&cu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Oh(j,j.h),j.h=null))}if(b.D){const Fh=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Fh&&(b.ya=Fh,Se(b.I,b.D,Fh))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var H=l;if(b.qa=qv(b,b.J?b.ia:null,b.W),H.K){Sv(b.h,H);var ge=H,et=b.L;et&&(ge.I=et),ge.B&&(bh(ge),eu(ge)),b.g=H}else Vv(b);0<_.i.length&&lu(_)}else de[0]!="stop"&&de[0]!="close"||Ri(_,7);else _.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Ri(_,7):Lh(_):de[0]!="noop"&&_.l&&_.l.ta(de),_.v=0)}}Lo(4)}catch{}}var _I=class{constructor(l,h){this.g=l,this.map=h}};function _v(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ev(l){return l.h?1:l.g?l.g.size:0}function Ph(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Oh(l,h){l.g?l.g.add(h):l.h=h}function Sv(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}_v.prototype.cancel=function(){if(this.i=Cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Cv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const _ of l.g.values())h=h.concat(_.D);return h}return k(l.i)}function wI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],_=l.length,b=0;b<_;b++)h.push(l[b]);return h}h=[],_=0;for(b in l)h[_++]=l[b];return h}function EI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var _=0;_<l;_++)h.push(_);return h}h=[],_=0;for(const b in l)h[_++]=b;return h}}}function Av(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var _=EI(l),b=wI(l),M=b.length,j=0;j<M;j++)h.call(void 0,b[j],_&&_[j],l)}var kv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SI(l,h){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var b=l[_].indexOf("="),M=null;if(0<=b){var j=l[_].substring(0,b);M=l[_].substring(b+1)}else j=l[_];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function xi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof xi){this.h=l.h,tu(this,l.j),this.o=l.o,this.g=l.g,nu(this,l.s),this.l=l.l;var h=l.i,_=new zo;_.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),Tv(this,_),this.m=l.m}else l&&(h=String(l).match(kv))?(this.h=!1,tu(this,h[1]||"",!0),this.o=Uo(h[2]||""),this.g=Uo(h[3]||"",!0),nu(this,h[4]),this.l=Uo(h[5]||"",!0),Tv(this,h[6]||"",!0),this.m=Uo(h[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}xi.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Bo(h,Iv,!0),":");var _=this.g;return(_||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Bo(h,Iv,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Bo(_,_.charAt(0)=="/"?kI:AI,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Bo(_,II)),l.join("")};function sr(l){return new xi(l)}function tu(l,h,_){l.j=_?Uo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function nu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Tv(l,h,_){h instanceof zo?(l.i=h,xI(l.i,l.h)):(_||(h=Bo(h,TI)),l.i=new zo(h,l.h))}function Se(l,h,_){l.i.set(h,_)}function ru(l){return Se(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Uo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Bo(l,h,_){return typeof l=="string"?(l=encodeURI(l).replace(h,CI),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function CI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Iv=/[#\/\?@]/g,AI=/[#\?:]/g,kI=/[#\?]/g,TI=/[#\?@]/g,II=/#/g;function zo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function br(l){l.g||(l.g=new Map,l.h=0,l.i&&SI(l.i,function(h,_){l.add(decodeURIComponent(h.replace(/\+/g," ")),_)}))}t=zo.prototype,t.add=function(l,h){br(this),this.i=null,l=vs(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(h),this.h+=1,this};function xv(l,h){br(l),h=vs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Rv(l,h){return br(l),h=vs(l,h),l.g.has(h)}t.forEach=function(l,h){br(this),this.g.forEach(function(_,b){_.forEach(function(M){l.call(h,M,b,this)},this)},this)},t.na=function(){br(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),_=[];for(let b=0;b<h.length;b++){const M=l[b];for(let j=0;j<M.length;j++)_.push(h[b])}return _},t.V=function(l){br(this);let h=[];if(typeof l=="string")Rv(this,l)&&(h=h.concat(this.g.get(vs(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)h=h.concat(l[_])}return h},t.set=function(l,h){return br(this),this.i=null,l=vs(this,l),Rv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function bv(l,h,_){xv(l,h),0<_.length&&(l.i=null,l.g.set(vs(l,h),k(_)),l.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var _=0;_<h.length;_++){var b=h[_];const j=encodeURIComponent(String(b)),H=this.V(b);for(b=0;b<H.length;b++){var M=j;H[b]!==""&&(M+="="+encodeURIComponent(String(H[b]))),l.push(M)}}return this.i=l.join("&")};function vs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function xI(l,h){h&&!l.j&&(br(l),l.i=null,l.g.forEach(function(_,b){var M=b.toLowerCase();b!=M&&(xv(this,b),bv(this,M,_))},l)),l.j=h}function RI(l,h){const _=new jo;if(a.Image){const b=new Image;b.onload=y(Nr,_,"TestLoadImage: loaded",!0,h,b),b.onerror=y(Nr,_,"TestLoadImage: error",!1,h,b),b.onabort=y(Nr,_,"TestLoadImage: abort",!1,h,b),b.ontimeout=y(Nr,_,"TestLoadImage: timeout",!1,h,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else h(!1)}function bI(l,h){const _=new jo,b=new AbortController,M=setTimeout(()=>{b.abort(),Nr(_,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:b.signal}).then(j=>{clearTimeout(M),j.ok?Nr(_,"TestPingServer: ok",!0,h):Nr(_,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Nr(_,"TestPingServer: error",!1,h)})}function Nr(l,h,_,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(_)}catch{}}function NI(){this.g=new dI}function PI(l,h,_){const b=_||"";try{Av(l,function(M,j){let H=M;c(M)&&(H=Eh(M)),h.push(b+j+"="+encodeURIComponent(H))})}catch(M){throw h.push(b+"type="+encodeURIComponent("_badmap")),M}}function iu(l){this.l=l.Ub||null,this.j=l.eb||!1}E(iu,Sh),iu.prototype.g=function(){return new su(this.l,this.j)},iu.prototype.i=function(l){return function(){return l}}({});function su(l,h){dt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(su,dt),t=su.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Wo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Vo(this):Wo(this),this.readyState==3&&Nv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Vo(this))},t.Qa=function(l){this.g&&(this.response=l,Vo(this))},t.ga=function(){this.g&&Vo(this)};function Vo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Wo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var _=h.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=h.next();return l.join(`\r
`)};function Wo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Pv(l){let h="";return D(l,function(_,b){h+=b,h+=":",h+=_,h+=`\r
`}),h}function Dh(l,h,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Pv(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Se(l,h,_))}function Me(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Me,dt);var OI=/^https?$/i,DI=["POST","PUT"];t=Me.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ih.g(),this.v=this.o?uv(this.o):uv(Ih),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){Ov(this,j);return}if(l=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)_.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())_.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(DI,h,void 0))||b||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,H]of _)this.g.setRequestHeader(j,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mv(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Ov(this,j)}};function Ov(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Dv(l),ou(l)}function Dv(l){l.A||(l.A=!0,kt(l,"complete"),kt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,kt(this,"complete"),kt(this,"abort"),ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lv(this):this.bb())},t.bb=function(){Lv(this)};function Lv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||or(l)!=4||l.Z()!=2)){if(l.u&&or(l)==4)sv(l.Ea,0,l);else if(kt(l,"readystatechange"),or(l)==4){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var _;if(!(_=h)){var b;if(b=H===0){var M=String(l.D).match(kv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),b=!OI.test(M?M.toLowerCase():"")}_=b}if(_)kt(l,"complete"),kt(l,"success");else{l.m=6;try{var j=2<or(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Dv(l)}}finally{ou(l)}}}}function ou(l,h){if(l.g){Mv(l);const _=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||kt(l,"ready");try{_.onreadystatechange=b}catch{}}}function Mv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function or(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),cI(h)}};function jv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function LI(l){const h={};l=(l.g&&2<=or(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(v(l[b]))continue;var _=O(l[b]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=h[M]||[];h[M]=j,j.push(_)}C(h,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(l,h,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||h}function Fv(l){this.Aa=0,this.i=[],this.j=new jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,l),this.cb=Ho("retryDelaySeedMs",1e4,l),this.Wa=Ho("forwardChannelMaxRetries",2,l),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _v(l&&l.concurrentRequestLimit),this.Da=new NI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fv.prototype,t.la=8,t.G=1,t.connect=function(l,h,_,b){Tt(0),this.W=l,this.H=h||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=qv(this,null,this.W),lu(this)};function Lh(l){if(Uv(l),l.G==3){var h=l.U++,_=sr(l.I);if(Se(_,"SID",l.K),Se(_,"RID",h),Se(_,"TYPE","terminate"),$o(l,_),h=new Rr(l,l.j,h),h.L=2,h.v=ru(sr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=h.v,_=!0),_||(h.g=Kv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),eu(h)}Qv(l)}function au(l){l.g&&(jh(l),l.g.cancel(),l.g=null)}function Uv(l){au(l),l.u&&(a.clearTimeout(l.u),l.u=null),uu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function lu(l){if(!wv(l.h)&&!l.s){l.s=!0;var h=l.Ga;te||V(),F||(te(),F=!0),$.add(h,l),l.B=0}}function MI(l,h){return Ev(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Mo(d(l.Ga,l,h),$v(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Rr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=w(j),x(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(h+=b,4096<h){h=_;break e}if(h===4096||_===this.i.length-1){h=_+1;break e}}h=1e3}else h=1e3;h=zv(this,M,h),_=sr(this.I),Se(_,"RID",l),Se(_,"CVER",22),this.D&&Se(_,"X-HTTP-Session-Id",this.D),$o(this,_),j&&(this.O?h="headers="+encodeURIComponent(String(Pv(j)))+"&"+h:this.m&&Dh(_,this.m,j)),Oh(this.h,M),this.Ua&&Se(_,"TYPE","init"),this.P?(Se(_,"$req",h),Se(_,"SID","null"),M.T=!0,Rh(M,_,null)):Rh(M,_,h),this.G=2}}else this.G==3&&(l?Bv(this,l):this.i.length==0||wv(this.h)||Bv(this))};function Bv(l,h){var _;h?_=h.l:_=l.U++;const b=sr(l.I);Se(b,"SID",l.K),Se(b,"RID",_),Se(b,"AID",l.T),$o(l,b),l.m&&l.o&&Dh(b,l.m,l.o),_=new Rr(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),h&&(l.i=h.D.concat(l.i)),h=zv(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Oh(l.h,_),Rh(_,b,h)}function $o(l,h){l.H&&D(l.H,function(_,b){Se(h,b,_)}),l.l&&Av({},function(_,b){Se(h,b,_)})}function zv(l,h,_){_=Math.min(l.i.length,_);var b=l.l?d(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const H=["count="+_];j==-1?0<_?(j=M[0].g,H.push("ofs="+j)):j=0:H.push("ofs="+j);let ge=!0;for(let et=0;et<_;et++){let de=M[et].g;const ht=M[et].map;if(de-=j,0>de)j=Math.max(0,M[et].g-100),ge=!1;else try{PI(ht,H,"req"+de+"_")}catch{b&&b(ht)}}if(ge){b=H.join("&");break e}}}return l=l.i.splice(0,_),h.D=l,b}function Vv(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;te||V(),F||(te(),F=!0),$.add(h,l),l.v=0}}function Mh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Mo(d(l.Fa,l),$v(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Mo(d(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),au(this),Wv(this))};function jh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Wv(l){l.g=new Rr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=sr(l.qa);Se(h,"RID","rpc"),Se(h,"SID",l.K),Se(h,"AID",l.T),Se(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Se(h,"TO",l.ja),Se(h,"TYPE","xmlhttp"),$o(l,h),l.m&&l.o&&Dh(h,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=ru(sr(h)),_.m=null,_.P=!0,gv(_,l)}t.Za=function(){this.C!=null&&(this.C=null,au(this),Mh(this),Tt(19))};function uu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Hv(l,h){var _=null;if(l.g==h){uu(l),jh(l),l.g=null;var b=2}else if(Ph(l.h,h))_=h.D,Sv(l.h,h),b=1;else return;if(l.G!=0){if(h.o)if(b==1){_=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;b=kh(),kt(b,new fv(b,_)),lu(l)}else Vv(l);else if(M=h.s,M==3||M==0&&0<h.X||!(b==1&&MI(l,h)||b==2&&Mh(l)))switch(_&&0<_.length&&(h=l.h,h.i=h.i.concat(_)),M){case 1:Ri(l,5);break;case 4:Ri(l,10);break;case 3:Ri(l,6);break;default:Ri(l,2)}}}function $v(l,h){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*h}function Ri(l,h){if(l.j.info("Error code "+h),h==2){var _=d(l.fb,l),b=l.Xa;const M=!b;b=new xi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(b,"https"),ru(b),M?RI(b.toString(),_):bI(b.toString(),_)}else Tt(2);l.G=0,l.l&&l.l.sa(h),Qv(l),Uv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Qv(l){if(l.G=0,l.ka=[],l.l){const h=Cv(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ka,h),T(l.ka,l.i),l.h.i.length=0,k(l.i),l.i.length=0),l.l.ra()}}function qv(l,h,_){var b=_ instanceof xi?sr(_):new xi(_);if(b.g!="")h&&(b.g=h+"."+b.g),nu(b,b.s);else{var M=a.location;b=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new xi(null);b&&tu(j,b),h&&(j.g=h),M&&nu(j,M),_&&(j.l=_),b=j}return _=l.D,h=l.ya,_&&h&&Se(b,_,h),Se(b,"VER",l.la),$o(l,b),b}function Kv(l,h,_){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Me(new iu({eb:_})):new Me(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gv(){}t=Gv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hn(l,h){dt.call(this),this.g=new Fv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!v(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new _s(this)}E(hn,dt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Lh(this.g)},hn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=Eh(l),l=_);h.i.push(new _I(h.Ya++,l)),h.G==3&&lu(h)},hn.prototype.N=function(){this.g.l=null,delete this.j,Lh(this.g),delete this.g,hn.aa.N.call(this)};function Yv(l){Ch.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const _ in h){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(Yv,Ch);function Xv(){Ah.call(this),this.status=1}E(Xv,Ah);function _s(l){this.g=l}E(_s,Gv),_s.prototype.ua=function(){kt(this.g,"a")},_s.prototype.ta=function(l){kt(this.g,new Yv(l))},_s.prototype.sa=function(l){kt(this.g,new Xv)},_s.prototype.ra=function(){kt(this.g,"b")},hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Th.NO_ERROR=0,Th.TIMEOUT=8,Th.HTTP_ERROR=6,yI.COMPLETE="complete",hI.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Ao("@firebase/firestore");function nn(t,...e){if(yd.logLevel<=fe.DEBUG){const n=e.map(nI);yd.debug(`Firestore (${gh}): ${t}`,...n)}}function ev(t,...e){if(yd.logLevel<=fe.ERROR){const n=e.map(nI);yd.error(`Firestore (${gh}): ${t}`,...n)}}function nI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t="Unexpected state"){const e=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: `+t;throw ev(e),new Error(e)}function Pm(t,e){t||rI()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends Un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class T9{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Js,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{nn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(nn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Js)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(nn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pm(typeof r.accessToken=="string"),new A9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pm(e===null||typeof e=="string"),new Ft(e)}}class I9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class x9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&nn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,nn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{nn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):nn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pm(typeof n.token=="string"),this.R=n.token,new R9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=N9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function iI(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class vd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kE,ue;(ue=kE||(kE={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new tI([4294967295,4294967295],0);function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&nn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jt(Xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L9(t,e){if(ev("AsyncQueue",`${e}: ${t}`),iI(t))return new Jt(Xt.UNAVAILABLE,`${e}: ${t}`);throw t}var TE,IE;(IE=TE||(TE={})).J_="default",IE.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=P9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{nn("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(nn("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jt(Xt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=L9(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;function j9(t,e,n,r){if(e===!0&&r===!0)throw new Jt(Xt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Jt(Xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Jt(Xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Jt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Jt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Jt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F9{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jt(Xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Jt(Xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k9;switch(r.type){case"firstParty":return new x9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Jt(Xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xE.get(n);r&&(nn("ComponentProvider","Removing Datastore"),xE.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new D9(this,"async_queue_retry"),this.hu=()=>{const n=Wf();n&&nn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Wf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Js;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!iI(e))throw e;nn("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ev("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=tv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&rI()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class B9 extends F9{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new U9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||z9(this),this._firestoreClient.terminate()}}function z9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new O9(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new M9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(e,n=!0){(function(i){gh=i})(rr),Zn(new ln("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new B9(new T9(r.getProvider("auth-internal")),new b9(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Jt(Xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wt(AE,"4.6.3",e),wt(AE,"4.6.3","esm2017")})();const oI=fP({reducer:{[Xu.reducerPath]:Xu.reducer,[oc.reducerPath]:oc.reducer,[sc.reducerPath]:sc.reducer,user:DM,userPhoto:N3,userKey:g6,userArtists:y6,playlists:m6,search:LP,likes:Z3,artist:CO,album:RO,audio:VO,history:wO},middleware:t=>t().concat(Xu.middleware,sc.middleware,oc.middleware)});$P(oI.dispatch);Ol(ay);const aI=I3(Ol(ay));$f.createRoot(document.getElementById("root")).render(m.jsx(c6,{client:new o6,children:m.jsx(RN,{store:oI,children:m.jsx(E9,{})})}));
