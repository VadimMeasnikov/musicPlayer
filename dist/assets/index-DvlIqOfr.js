function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var PI=Object.defineProperty;var OI=(t,e,n)=>e in t?PI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Uh=(t,e,n)=>(OI(t,typeof e!="symbol"?e+"":e,n),n);function DI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var KF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xw={exports:{}},vd={},bw={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),LI=Symbol.for("react.portal"),MI=Symbol.for("react.fragment"),jI=Symbol.for("react.strict_mode"),FI=Symbol.for("react.profiler"),UI=Symbol.for("react.provider"),BI=Symbol.for("react.context"),VI=Symbol.for("react.forward_ref"),zI=Symbol.for("react.suspense"),WI=Symbol.for("react.memo"),QI=Symbol.for("react.lazy"),Gy=Symbol.iterator;function HI(t){return t===null||typeof t!="object"?null:(t=Gy&&t[Gy]||t["@@iterator"],typeof t=="function"?t:null)}var Nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pw=Object.assign,Ow={};function vo(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Nw}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dw(){}Dw.prototype=vo.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Nw}var Om=Pm.prototype=new Dw;Om.constructor=Pm;Pw(Om,vo.prototype);Om.isPureReactComponent=!0;var Yy=Array.isArray,Lw=Object.prototype.hasOwnProperty,Dm={current:null},Mw={key:!0,ref:!0,__self:!0,__source:!0};function jw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lw.call(e,r)&&!Mw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_l,type:t,key:s,ref:o,props:i,_owner:Dm.current}}function $I(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lm(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function qI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xy=/\/+/g;function Bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qI(""+t.key):e.toString(36)}function ju(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _l:case LI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Bh(o,0):r,Yy(i)?(n="",t!=null&&(n=t.replace(Xy,"$&/")+"/"),ju(i,e,n,"",function(c){return c})):i!=null&&(Lm(i)&&(i=$I(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yy(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Bh(s,a);o+=ju(s,e,n,u,i)}else if(u=HI(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Bh(s,a++),o+=ju(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uu(t,e,n){if(t==null)return t;var r=[],i=0;return ju(t,r,"","",function(s){return e.call(n,s,i++)}),r}function KI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Fu={transition:null},GI={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Dm};oe.Children={map:uu,forEach:function(t,e,n){uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uu(t,function(){e++}),e},toArray:function(t){return uu(t,function(e){return e})||[]},only:function(t){if(!Lm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=vo;oe.Fragment=MI;oe.Profiler=FI;oe.PureComponent=Pm;oe.StrictMode=jI;oe.Suspense=zI;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GI;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Lw.call(e,u)&&!Mw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_l,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:BI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UI,_context:t},t.Consumer=t};oe.createElement=jw;oe.createFactory=function(t){var e=jw.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:VI,render:t}};oe.isValidElement=Lm;oe.lazy=function(t){return{$$typeof:QI,_payload:{_status:-1,_result:t},_init:KI}};oe.memo=function(t,e){return{$$typeof:WI,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(t,e){return bt.current.useCallback(t,e)};oe.useContext=function(t){return bt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return bt.current.useEffect(t,e)};oe.useId=function(){return bt.current.useId()};oe.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return bt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};oe.useRef=function(t){return bt.current.useRef(t)};oe.useState=function(t){return bt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return bt.current.useTransition()};oe.version="18.2.0";bw.exports=oe;var O=bw.exports;const fe=Rw(O),Qf=DI({__proto__:null,default:fe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=O,XI=Symbol.for("react.element"),JI=Symbol.for("react.fragment"),ZI=Object.prototype.hasOwnProperty,eT=YI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tT={key:!0,ref:!0,__self:!0,__source:!0};function Fw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZI.call(e,r)&&!tT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XI,type:t,key:s,ref:o,props:i,_owner:eT.current}}vd.Fragment=JI;vd.jsx=Fw;vd.jsxs=Fw;xw.exports=vd;var m=xw.exports,Hf={},Uw={exports:{}},an={},Bw={exports:{}},Vw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var V=F.length;F.push(W);e:for(;0<V;){var X=V-1>>>1,K=F[X];if(0<i(K,W))F[X]=W,F[V]=K,V=X;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],V=F.pop();if(V!==W){F[0]=V;e:for(var X=0,K=F.length,z=K>>>1;X<z;){var me=2*(X+1)-1,Ot=F[me],_t=me+1,He=F[_t];if(0>i(Ot,V))_t<K&&0>i(He,Ot)?(F[X]=He,F[_t]=V,X=_t):(F[X]=Ot,F[me]=V,X=me);else if(_t<K&&0>i(He,V))F[X]=He,F[_t]=V,X=_t;else break e}}return W}function i(F,W){var V=F.sortIndex-W.sortIndex;return V!==0?V:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],p=1,f=null,d=3,v=!1,E=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(F){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=F)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function C(F){if(k=!1,g(F),!E)if(n(u)!==null)E=!0,G(N);else{var W=n(c);W!==null&&ee(C,W.startTime-F)}}function N(F,W){E=!1,k&&(k=!1,A(w),w=-1),v=!0;var V=d;try{for(g(W),f=n(u);f!==null&&(!(f.expirationTime>W)||F&&!P());){var X=f.callback;if(typeof X=="function"){f.callback=null,d=f.priorityLevel;var K=X(f.expirationTime<=W);W=t.unstable_now(),typeof K=="function"?f.callback=K:f===n(u)&&r(u),g(W)}else r(u);f=n(u)}if(f!==null)var z=!0;else{var me=n(c);me!==null&&ee(C,me.startTime-W),z=!1}return z}finally{f=null,d=V,v=!1}}var D=!1,S=null,w=-1,I=5,R=-1;function P(){return!(t.unstable_now()-R<I)}function L(){if(S!==null){var F=t.unstable_now();R=F;var W=!0;try{W=S(!0,F)}finally{W?b():(D=!1,S=null)}}else D=!1}var b;if(typeof y=="function")b=function(){y(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=L,b=function(){$.postMessage(null)}}else b=function(){T(L,0)};function G(F){S=F,D||(D=!0,b())}function ee(F,W){w=T(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,G(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var V=d;d=W;try{return F()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=d;d=F;try{return W()}finally{d=V}},t.unstable_scheduleCallback=function(F,W,V){var X=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,F={id:p++,callback:W,priorityLevel:F,startTime:V,expirationTime:K,sortIndex:-1},V>X?(F.sortIndex=V,e(c,F),n(u)===null&&F===n(c)&&(k?(A(w),w=-1):k=!0,ee(C,V-X))):(F.sortIndex=K,e(u,F),E||v||(E=!0,G(N))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var W=d;return function(){var V=d;d=W;try{return F.apply(this,arguments)}finally{d=V}}}})(Vw);Bw.exports=Vw;var nT=Bw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw=O,tn=nT;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ww=new Set,ba={};function os(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(ba[t]=e,t=0;t<e.length;t++)Ww.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=Object.prototype.hasOwnProperty,rT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jy={},Zy={};function iT(t){return $f.call(Zy,t)?!0:$f.call(Jy,t)?!1:rT.test(t)?Zy[t]=!0:(Jy[t]=!0,!1)}function sT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oT(t,e,n,r){if(e===null||typeof e>"u"||sT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mm=/[\-:]([a-z])/g;function jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mm,jm);ot[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mm,jm);ot[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mm,jm);ot[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fm(t,e,n,r){var i=ot.hasOwnProperty(e)?ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oT(e,n,i,r)&&(n=null),r||i===null?iT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),Um=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),$w=Symbol.for("react.offscreen"),e_=Symbol.iterator;function Qo(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Vh;function sa(t){if(Vh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vh=e&&e[1]||""}return`
`+Vh+t}var zh=!1;function Wh(t,e){if(!t||zh)return"";zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sa(t):""}function aT(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=Wh(t.type,!1),t;case 11:return t=Wh(t.type.render,!1),t;case 1:return t=Wh(t.type,!0),t;default:return""}}function Yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Is:return"Fragment";case ks:return"Portal";case qf:return"Profiler";case Um:return"StrictMode";case Kf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hw:return(t.displayName||"Context")+".Consumer";case Qw:return(t._context.displayName||"Context")+".Provider";case Bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:Yf(t.type)||"Memo";case Nr:e=t._payload,t=t._init;try{return Yf(t(e))}catch{}}return null}function lT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(e);case 8:return e===Um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uT(t){var e=qw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function du(t){t._valueTracker||(t._valueTracker=uT(t))}function Kw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gw(t,e){e=e.checked,e!=null&&Fm(t,"checked",e,!1)}function Jf(t,e){Gw(t,e);var n=si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oa=Array.isArray;function Us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(oa(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function Yw(t,e){var n=si(e.value),r=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hu,Jw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cT=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){cT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function Zw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function eE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dT=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(t,e){if(e){if(dT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function zm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sp=null,Bs=null,Vs=null;function s_(t){if(t=Cl(t)){if(typeof sp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Cd(e),sp(t.stateNode,t.type,e))}}function tE(t){Bs?Vs?Vs.push(t):Vs=[t]:Bs=t}function nE(){if(Bs){var t=Bs,e=Vs;if(Vs=Bs=null,s_(t),e)for(t=0;t<e.length;t++)s_(e[t])}}function rE(t,e){return t(e)}function iE(){}var Qh=!1;function sE(t,e,n){if(Qh)return t(e,n);Qh=!0;try{return rE(t,e,n)}finally{Qh=!1,(Bs!==null||Vs!==null)&&(iE(),nE())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var op=!1;if(mr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){op=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{op=!1}function hT(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(p){this.onError(p)}}var fa=!1,oc=null,ac=!1,ap=null,fT={onError:function(t){fa=!0,oc=t}};function pT(t,e,n,r,i,s,o,a,u){fa=!1,oc=null,hT.apply(fT,arguments)}function mT(t,e,n,r,i,s,o,a,u){if(pT.apply(this,arguments),fa){if(fa){var c=oc;fa=!1,oc=null}else throw Error(U(198));ac||(ac=!0,ap=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o_(t){if(as(t)!==t)throw Error(U(188))}function gT(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o_(i),t;if(s===r)return o_(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function aE(t){return t=gT(t),t!==null?lE(t):null}function lE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lE(t);if(e!==null)return e;t=t.sibling}return null}var uE=tn.unstable_scheduleCallback,a_=tn.unstable_cancelCallback,vT=tn.unstable_shouldYield,yT=tn.unstable_requestPaint,Fe=tn.unstable_now,_T=tn.unstable_getCurrentPriorityLevel,Wm=tn.unstable_ImmediatePriority,cE=tn.unstable_UserBlockingPriority,lc=tn.unstable_NormalPriority,wT=tn.unstable_LowPriority,dE=tn.unstable_IdlePriority,yd=null,$n=null;function ET(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:AT,CT=Math.log,ST=Math.LN2;function AT(t){return t>>>=0,t===0?32:31-(CT(t)/ST|0)|0}var fu=64,pu=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=aa(a):(s&=o,s!==0&&(r=aa(s)))}else o=n&~i,o!==0?r=aa(o):s!==0&&(r=aa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function kT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=kT(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hE(){var t=fu;return fu<<=1,!(fu&4194240)&&(fu=64),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function TT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function fE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pE,Hm,mE,gE,vE,up=!1,mu=[],$r=null,qr=null,Kr=null,Oa=new Map,Da=new Map,Dr=[],RT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l_(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(e.pointerId)}}function $o(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cl(e),e!==null&&Hm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xT(t,e,n,r,i){switch(e){case"focusin":return $r=$o($r,t,e,n,r,i),!0;case"dragenter":return qr=$o(qr,t,e,n,r,i),!0;case"mouseover":return Kr=$o(Kr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Oa.set(s,$o(Oa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Da.set(s,$o(Da.get(s)||null,t,e,n,r,i)),!0}return!1}function yE(t){var e=Oi(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=oE(n),e!==null){t.blockedOn=e,vE(t.priority,function(){mE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ip=r,n.target.dispatchEvent(r),ip=null}else return e=Cl(n),e!==null&&Hm(e),t.blockedOn=n,!1;e.shift()}return!0}function u_(t,e,n){Uu(t)&&n.delete(e)}function bT(){up=!1,$r!==null&&Uu($r)&&($r=null),qr!==null&&Uu(qr)&&(qr=null),Kr!==null&&Uu(Kr)&&(Kr=null),Oa.forEach(u_),Da.forEach(u_)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,up||(up=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,bT)))}function La(t){function e(i){return qo(i,t)}if(0<mu.length){qo(mu[0],t);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&qo($r,t),qr!==null&&qo(qr,t),Kr!==null&&qo(Kr,t),Oa.forEach(e),Da.forEach(e),n=0;n<Dr.length;n++)r=Dr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)yE(n),n.blockedOn===null&&Dr.shift()}var zs=Sr.ReactCurrentBatchConfig,cc=!0;function NT(t,e,n,r){var i=ve,s=zs.transition;zs.transition=null;try{ve=1,$m(t,e,n,r)}finally{ve=i,zs.transition=s}}function PT(t,e,n,r){var i=ve,s=zs.transition;zs.transition=null;try{ve=4,$m(t,e,n,r)}finally{ve=i,zs.transition=s}}function $m(t,e,n,r){if(cc){var i=cp(t,e,n,r);if(i===null)tf(t,e,r,dc,n),l_(t,r);else if(xT(i,t,e,n,r))r.stopPropagation();else if(l_(t,r),e&4&&-1<RT.indexOf(t)){for(;i!==null;){var s=Cl(i);if(s!==null&&pE(s),s=cp(t,e,n,r),s===null&&tf(t,e,r,dc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tf(t,e,r,null,n)}}var dc=null;function cp(t,e,n,r){if(dc=null,t=zm(r),t=Oi(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dc=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_T()){case Wm:return 1;case cE:return 4;case lc:case wT:return 16;case dE:return 536870912;default:return 16}default:return 16}}var Vr=null,qm=null,Bu=null;function wE(){if(Bu)return Bu;var t,e=qm,n=e.length,r,i="value"in Vr?Vr.value:Vr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bu=i.slice(t,1<r?1-r:void 0)}function Vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gu(){return!0}function c_(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gu:c_,this.isPropagationStopped=c_,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),e}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=ln(yo),El=Pe({},yo,{view:0,detail:0}),OT=ln(El),$h,qh,Ko,_d=Pe({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?($h=t.screenX-Ko.screenX,qh=t.screenY-Ko.screenY):qh=$h=0,Ko=t),$h)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),d_=ln(_d),DT=Pe({},_d,{dataTransfer:0}),LT=ln(DT),MT=Pe({},El,{relatedTarget:0}),Kh=ln(MT),jT=Pe({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),FT=ln(jT),UT=Pe({},yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BT=ln(UT),VT=Pe({},yo,{data:0}),h_=ln(VT),zT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QT[t])?!!e[t]:!1}function Gm(){return HT}var $T=Pe({},El,{key:function(t){if(t.key){var e=zT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(t){return t.type==="keypress"?Vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qT=ln($T),KT=Pe({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f_=ln(KT),GT=Pe({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),YT=ln(GT),XT=Pe({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JT=ln(XT),ZT=Pe({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eR=ln(ZT),tR=[9,13,27,32],Ym=mr&&"CompositionEvent"in window,pa=null;mr&&"documentMode"in document&&(pa=document.documentMode);var nR=mr&&"TextEvent"in window&&!pa,EE=mr&&(!Ym||pa&&8<pa&&11>=pa),p_=" ",m_=!1;function CE(t,e){switch(t){case"keyup":return tR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function rR(t,e){switch(t){case"compositionend":return SE(e);case"keypress":return e.which!==32?null:(m_=!0,p_);case"textInput":return t=e.data,t===p_&&m_?null:t;default:return null}}function iR(t,e){if(Ts)return t==="compositionend"||!Ym&&CE(t,e)?(t=wE(),Bu=qm=Vr=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EE&&e.locale!=="ko"?null:e.data;default:return null}}var sR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sR[t.type]:e==="textarea"}function AE(t,e,n,r){tE(r),e=hc(e,"onChange"),0<e.length&&(n=new Km("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ma=null,Ma=null;function oR(t){LE(t,0)}function wd(t){var e=bs(t);if(Kw(e))return t}function aR(t,e){if(t==="change")return e}var kE=!1;if(mr){var Gh;if(mr){var Yh="oninput"in document;if(!Yh){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),Yh=typeof v_.oninput=="function"}Gh=Yh}else Gh=!1;kE=Gh&&(!document.documentMode||9<document.documentMode)}function y_(){ma&&(ma.detachEvent("onpropertychange",IE),Ma=ma=null)}function IE(t){if(t.propertyName==="value"&&wd(Ma)){var e=[];AE(e,Ma,t,zm(t)),sE(oR,e)}}function lR(t,e,n){t==="focusin"?(y_(),ma=e,Ma=n,ma.attachEvent("onpropertychange",IE)):t==="focusout"&&y_()}function uR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd(Ma)}function cR(t,e){if(t==="click")return wd(e)}function dR(t,e){if(t==="input"||t==="change")return wd(e)}function hR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:hR;function ja(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$f.call(e,i)||!Ln(t[i],e[i]))return!1}return!0}function __(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w_(t,e){var n=__(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=__(n)}}function TE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RE(){for(var t=window,e=sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function Xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fR(t){var e=RE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TE(n.ownerDocument.documentElement,n)){if(r!==null&&Xm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=w_(n,s);var o=w_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pR=mr&&"documentMode"in document&&11>=document.documentMode,Rs=null,dp=null,ga=null,hp=!1;function E_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hp||Rs==null||Rs!==sc(r)||(r=Rs,"selectionStart"in r&&Xm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&ja(ga,r)||(ga=r,r=hc(dp,"onSelect"),0<r.length&&(e=new Km("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rs)))}function vu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xs={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Xh={},xE={};mr&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Ed(t){if(Xh[t])return Xh[t];if(!xs[t])return t;var e=xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xE)return Xh[t]=e[n];return t}var bE=Ed("animationend"),NE=Ed("animationiteration"),PE=Ed("animationstart"),OE=Ed("transitionend"),DE=new Map,C_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){DE.set(t,e),os(e,[t])}for(var Jh=0;Jh<C_.length;Jh++){var Zh=C_[Jh],mR=Zh.toLowerCase(),gR=Zh[0].toUpperCase()+Zh.slice(1);gi(mR,"on"+gR)}gi(bE,"onAnimationEnd");gi(NE,"onAnimationIteration");gi(PE,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(OE,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function S_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mT(r,e,void 0,t),t.currentTarget=null}function LE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;S_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;S_(i,a,c),s=u}}}if(ac)throw t=ap,ac=!1,ap=null,t}function ke(t,e){var n=e[vp];n===void 0&&(n=e[vp]=new Set);var r=t+"__bubble";n.has(r)||(ME(e,t,2,!1),n.add(r))}function ef(t,e,n){var r=0;e&&(r|=4),ME(n,t,r,e)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Fa(t){if(!t[yu]){t[yu]=!0,Ww.forEach(function(n){n!=="selectionchange"&&(vR.has(n)||ef(n,!1,t),ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yu]||(e[yu]=!0,ef("selectionchange",!1,e))}}function ME(t,e,n,r){switch(_E(e)){case 1:var i=NT;break;case 4:i=PT;break;default:i=$m}n=i.bind(null,e,n,t),i=void 0,!op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sE(function(){var c=s,p=zm(n),f=[];e:{var d=DE.get(t);if(d!==void 0){var v=Km,E=t;switch(t){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":v=qT;break;case"focusin":E="focus",v=Kh;break;case"focusout":E="blur",v=Kh;break;case"beforeblur":case"afterblur":v=Kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=d_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=LT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=YT;break;case bE:case NE:case PE:v=FT;break;case OE:v=JT;break;case"scroll":v=OT;break;case"wheel":v=eR;break;case"copy":case"cut":case"paste":v=BT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=f_}var k=(e&4)!==0,T=!k&&t==="scroll",A=k?d!==null?d+"Capture":null:d;k=[];for(var y=c,g;y!==null;){g=y;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,A!==null&&(C=Pa(y,A),C!=null&&k.push(Ua(y,C,g)))),T)break;y=y.return}0<k.length&&(d=new v(d,E,null,n,p),f.push({event:d,listeners:k}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",d&&n!==ip&&(E=n.relatedTarget||n.fromElement)&&(Oi(E)||E[gr]))break e;if((v||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=c,E=E?Oi(E):null,E!==null&&(T=as(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=c),v!==E)){if(k=d_,C="onMouseLeave",A="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=f_,C="onPointerLeave",A="onPointerEnter",y="pointer"),T=v==null?d:bs(v),g=E==null?d:bs(E),d=new k(C,y+"leave",v,n,p),d.target=T,d.relatedTarget=g,C=null,Oi(p)===c&&(k=new k(A,y+"enter",E,n,p),k.target=g,k.relatedTarget=T,C=k),T=C,v&&E)t:{for(k=v,A=E,y=0,g=k;g;g=ws(g))y++;for(g=0,C=A;C;C=ws(C))g++;for(;0<y-g;)k=ws(k),y--;for(;0<g-y;)A=ws(A),g--;for(;y--;){if(k===A||A!==null&&k===A.alternate)break t;k=ws(k),A=ws(A)}k=null}else k=null;v!==null&&A_(f,d,v,k,!1),E!==null&&T!==null&&A_(f,T,E,k,!0)}}e:{if(d=c?bs(c):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var N=aR;else if(g_(d))if(kE)N=dR;else{N=uR;var D=lR}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=cR);if(N&&(N=N(t,c))){AE(f,N,n,p);break e}D&&D(t,d,c),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&Zf(d,"number",d.value)}switch(D=c?bs(c):window,t){case"focusin":(g_(D)||D.contentEditable==="true")&&(Rs=D,dp=c,ga=null);break;case"focusout":ga=dp=Rs=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,E_(f,n,p);break;case"selectionchange":if(pR)break;case"keydown":case"keyup":E_(f,n,p)}var S;if(Ym)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ts?CE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(EE&&n.locale!=="ko"&&(Ts||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ts&&(S=wE()):(Vr=p,qm="value"in Vr?Vr.value:Vr.textContent,Ts=!0)),D=hc(c,w),0<D.length&&(w=new h_(w,t,null,n,p),f.push({event:w,listeners:D}),S?w.data=S:(S=SE(n),S!==null&&(w.data=S)))),(S=nR?rR(t,n):iR(t,n))&&(c=hc(c,"onBeforeInput"),0<c.length&&(p=new h_("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:c}),p.data=S))}LE(f,e)})}function Ua(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pa(t,n),s!=null&&r.unshift(Ua(t,s,i)),s=Pa(t,e),s!=null&&r.push(Ua(t,s,i))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Pa(n,s),u!=null&&o.unshift(Ua(n,u,a))):i||(u=Pa(n,s),u!=null&&o.push(Ua(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yR=/\r\n?/g,_R=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(yR,`
`).replace(_R,"")}function _u(t,e,n){if(e=k_(e),k_(t)!==e&&n)throw Error(U(425))}function fc(){}var fp=null,pp=null;function mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(CR)}:gp;function CR(t){setTimeout(function(){throw t})}function nf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),La(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);La(e)}function Gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _o=Math.random().toString(36).slice(2),Qn="__reactFiber$"+_o,Ba="__reactProps$"+_o,gr="__reactContainer$"+_o,vp="__reactEvents$"+_o,SR="__reactListeners$"+_o,AR="__reactHandles$"+_o;function Oi(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T_(t);t!==null;){if(n=t[Qn])return n;t=T_(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[Qn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Cd(t){return t[Ba]||null}var yp=[],Ns=-1;function vi(t){return{current:t}}function Ie(t){0>Ns||(t.current=yp[Ns],yp[Ns]=null,Ns--)}function Ee(t,e){Ns++,yp[Ns]=t.current,t.current=e}var oi={},vt=vi(oi),Bt=vi(!1),Qi=oi;function Zs(t,e){var n=t.type.contextTypes;if(!n)return oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function pc(){Ie(Bt),Ie(vt)}function R_(t,e,n){if(vt.current!==oi)throw Error(U(168));Ee(vt,e),Ee(Bt,n)}function jE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,lT(t)||"Unknown",i));return Pe({},n,r)}function mc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oi,Qi=vt.current,Ee(vt,t),Ee(Bt,Bt.current),!0}function x_(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=jE(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,Ie(Bt),Ie(vt),Ee(vt,t)):Ie(Bt),Ee(Bt,n)}var sr=null,Sd=!1,rf=!1;function FE(t){sr===null?sr=[t]:sr.push(t)}function kR(t){Sd=!0,FE(t)}function yi(){if(!rf&&sr!==null){rf=!0;var t=0,e=ve;try{var n=sr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sr=null,Sd=!1}catch(i){throw sr!==null&&(sr=sr.slice(t+1)),uE(Wm,yi),i}finally{ve=e,rf=!1}}return null}var Ps=[],Os=0,gc=null,vc=0,hn=[],fn=0,Hi=null,or=1,ar="";function Ri(t,e){Ps[Os++]=vc,Ps[Os++]=gc,gc=t,vc=e}function UE(t,e,n){hn[fn++]=or,hn[fn++]=ar,hn[fn++]=Hi,Hi=t;var r=or;t=ar;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,or=1<<32-Pn(e)+i|n<<i|r,ar=s+t}else or=1<<s|n<<i|r,ar=t}function Jm(t){t.return!==null&&(Ri(t,1),UE(t,1,0))}function Zm(t){for(;t===gc;)gc=Ps[--Os],Ps[Os]=null,vc=Ps[--Os],Ps[Os]=null;for(;t===Hi;)Hi=hn[--fn],hn[fn]=null,ar=hn[--fn],hn[fn]=null,or=hn[--fn],hn[fn]=null}var en=null,Yt=null,Te=!1,xn=null;function BE(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Yt=Gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Yt=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wp(t){if(Te){var e=Yt;if(e){var n=e;if(!b_(t,e)){if(_p(t))throw Error(U(418));e=Gr(n.nextSibling);var r=en;e&&b_(t,e)?BE(r,n):(t.flags=t.flags&-4097|2,Te=!1,en=t)}}else{if(_p(t))throw Error(U(418));t.flags=t.flags&-4097|2,Te=!1,en=t}}}function N_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function wu(t){if(t!==en)return!1;if(!Te)return N_(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mp(t.type,t.memoizedProps)),e&&(e=Yt)){if(_p(t))throw VE(),Error(U(418));for(;e;)BE(t,e),e=Gr(e.nextSibling)}if(N_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=en?Gr(t.stateNode.nextSibling):null;return!0}function VE(){for(var t=Yt;t;)t=Gr(t.nextSibling)}function eo(){Yt=en=null,Te=!1}function eg(t){xn===null?xn=[t]:xn.push(t)}var IR=Sr.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yc=vi(null),_c=null,Ds=null,tg=null;function ng(){tg=Ds=_c=null}function rg(t){var e=yc.current;Ie(yc),t._currentValue=e}function Ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){_c=t,tg=Ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(tg!==t)if(t={context:t,memoizedValue:e,next:null},Ds===null){if(_c===null)throw Error(U(308));Ds=t,_c.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var Di=null;function ig(t){Di===null?Di=[t]:Di.push(t)}function zE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ig(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function sg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,ig(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qm(t,n)}}function P_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wc(t,e,n,r){var i=t.updateQueue;Pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,p=c=u=null,a=s;do{var d=a.lane,v=a.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,k=a;switch(d=e,v=n,k.tag){case 1:if(E=k.payload,typeof E=="function"){f=E.call(v,f,d);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=k.payload,d=typeof E=="function"?E.call(v,f,d):E,d==null)break e;f=Pe({},f,d);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else v={eventTime:v,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(c=p=v,u=f):p=p.next=v,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(p===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qi|=o,t.lanes=o,t.memoizedState=f}}function O_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var QE=new zw.Component().refs;function Cp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ad={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Jr(t),s=hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,i),e!==null&&(On(e,t,i,r),zu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Jr(t),s=hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,i),e!==null&&(On(e,t,i,r),zu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Jr(t),i=hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yr(t,i,r),e!==null&&(On(e,t,r,n),zu(e,t,r))}};function D_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ja(n,r)||!ja(i,s):!0}function HE(t,e,n){var r=!1,i=oi,s=e.contextType;return typeof s=="object"&&s!==null?s=En(s):(i=Vt(e)?Qi:vt.current,r=e.contextTypes,s=(r=r!=null)?Zs(t,i):oi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ad,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function L_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ad.enqueueReplaceState(e,e.state,null)}function Sp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=QE,sg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=En(s):(s=Vt(e)?Qi:vt.current,i.context=Zs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ad.enqueueReplaceState(i,i.state,null),wc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===QE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Eu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M_(t){var e=t._init;return e(t._payload)}function $E(t){function e(A,y){if(t){var g=A.deletions;g===null?(A.deletions=[y],A.flags|=16):g.push(y)}}function n(A,y){if(!t)return null;for(;y!==null;)e(A,y),y=y.sibling;return null}function r(A,y){for(A=new Map;y!==null;)y.key!==null?A.set(y.key,y):A.set(y.index,y),y=y.sibling;return A}function i(A,y){return A=Zr(A,y),A.index=0,A.sibling=null,A}function s(A,y,g){return A.index=g,t?(g=A.alternate,g!==null?(g=g.index,g<y?(A.flags|=2,y):g):(A.flags|=2,y)):(A.flags|=1048576,y)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,y,g,C){return y===null||y.tag!==6?(y=df(g,A.mode,C),y.return=A,y):(y=i(y,g),y.return=A,y)}function u(A,y,g,C){var N=g.type;return N===Is?p(A,y,g.props.children,C,g.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Nr&&M_(N)===y.type)?(C=i(y,g.props),C.ref=Go(A,y,g),C.return=A,C):(C=Ku(g.type,g.key,g.props,null,A.mode,C),C.ref=Go(A,y,g),C.return=A,C)}function c(A,y,g,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=hf(g,A.mode,C),y.return=A,y):(y=i(y,g.children||[]),y.return=A,y)}function p(A,y,g,C,N){return y===null||y.tag!==7?(y=Vi(g,A.mode,C,N),y.return=A,y):(y=i(y,g),y.return=A,y)}function f(A,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=df(""+y,A.mode,g),y.return=A,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cu:return g=Ku(y.type,y.key,y.props,null,A.mode,g),g.ref=Go(A,null,y),g.return=A,g;case ks:return y=hf(y,A.mode,g),y.return=A,y;case Nr:var C=y._init;return f(A,C(y._payload),g)}if(oa(y)||Qo(y))return y=Vi(y,A.mode,g,null),y.return=A,y;Eu(A,y)}return null}function d(A,y,g,C){var N=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:a(A,y,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cu:return g.key===N?u(A,y,g,C):null;case ks:return g.key===N?c(A,y,g,C):null;case Nr:return N=g._init,d(A,y,N(g._payload),C)}if(oa(g)||Qo(g))return N!==null?null:p(A,y,g,C,null);Eu(A,g)}return null}function v(A,y,g,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return A=A.get(g)||null,a(y,A,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case cu:return A=A.get(C.key===null?g:C.key)||null,u(y,A,C,N);case ks:return A=A.get(C.key===null?g:C.key)||null,c(y,A,C,N);case Nr:var D=C._init;return v(A,y,g,D(C._payload),N)}if(oa(C)||Qo(C))return A=A.get(g)||null,p(y,A,C,N,null);Eu(y,C)}return null}function E(A,y,g,C){for(var N=null,D=null,S=y,w=y=0,I=null;S!==null&&w<g.length;w++){S.index>w?(I=S,S=null):I=S.sibling;var R=d(A,S,g[w],C);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(A,S),y=s(R,y,w),D===null?N=R:D.sibling=R,D=R,S=I}if(w===g.length)return n(A,S),Te&&Ri(A,w),N;if(S===null){for(;w<g.length;w++)S=f(A,g[w],C),S!==null&&(y=s(S,y,w),D===null?N=S:D.sibling=S,D=S);return Te&&Ri(A,w),N}for(S=r(A,S);w<g.length;w++)I=v(S,A,w,g[w],C),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?w:I.key),y=s(I,y,w),D===null?N=I:D.sibling=I,D=I);return t&&S.forEach(function(P){return e(A,P)}),Te&&Ri(A,w),N}function k(A,y,g,C){var N=Qo(g);if(typeof N!="function")throw Error(U(150));if(g=N.call(g),g==null)throw Error(U(151));for(var D=N=null,S=y,w=y=0,I=null,R=g.next();S!==null&&!R.done;w++,R=g.next()){S.index>w?(I=S,S=null):I=S.sibling;var P=d(A,S,R.value,C);if(P===null){S===null&&(S=I);break}t&&S&&P.alternate===null&&e(A,S),y=s(P,y,w),D===null?N=P:D.sibling=P,D=P,S=I}if(R.done)return n(A,S),Te&&Ri(A,w),N;if(S===null){for(;!R.done;w++,R=g.next())R=f(A,R.value,C),R!==null&&(y=s(R,y,w),D===null?N=R:D.sibling=R,D=R);return Te&&Ri(A,w),N}for(S=r(A,S);!R.done;w++,R=g.next())R=v(S,A,w,R.value,C),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?w:R.key),y=s(R,y,w),D===null?N=R:D.sibling=R,D=R);return t&&S.forEach(function(L){return e(A,L)}),Te&&Ri(A,w),N}function T(A,y,g,C){if(typeof g=="object"&&g!==null&&g.type===Is&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case cu:e:{for(var N=g.key,D=y;D!==null;){if(D.key===N){if(N=g.type,N===Is){if(D.tag===7){n(A,D.sibling),y=i(D,g.props.children),y.return=A,A=y;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Nr&&M_(N)===D.type){n(A,D.sibling),y=i(D,g.props),y.ref=Go(A,D,g),y.return=A,A=y;break e}n(A,D);break}else e(A,D);D=D.sibling}g.type===Is?(y=Vi(g.props.children,A.mode,C,g.key),y.return=A,A=y):(C=Ku(g.type,g.key,g.props,null,A.mode,C),C.ref=Go(A,y,g),C.return=A,A=C)}return o(A);case ks:e:{for(D=g.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(A,y.sibling),y=i(y,g.children||[]),y.return=A,A=y;break e}else{n(A,y);break}else e(A,y);y=y.sibling}y=hf(g,A.mode,C),y.return=A,A=y}return o(A);case Nr:return D=g._init,T(A,y,D(g._payload),C)}if(oa(g))return E(A,y,g,C);if(Qo(g))return k(A,y,g,C);Eu(A,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(A,y.sibling),y=i(y,g),y.return=A,A=y):(n(A,y),y=df(g,A.mode,C),y.return=A,A=y),o(A)):n(A,y)}return T}var to=$E(!0),qE=$E(!1),Sl={},qn=vi(Sl),Va=vi(Sl),za=vi(Sl);function Li(t){if(t===Sl)throw Error(U(174));return t}function og(t,e){switch(Ee(za,e),Ee(Va,t),Ee(qn,Sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tp(e,t)}Ie(qn),Ee(qn,e)}function no(){Ie(qn),Ie(Va),Ie(za)}function KE(t){Li(za.current);var e=Li(qn.current),n=tp(e,t.type);e!==n&&(Ee(Va,t),Ee(qn,n))}function ag(t){Va.current===t&&(Ie(qn),Ie(Va))}var xe=vi(0);function Ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function lg(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var Wu=Sr.ReactCurrentDispatcher,of=Sr.ReactCurrentBatchConfig,$i=0,Ne=null,Ve=null,Ke=null,Cc=!1,va=!1,Wa=0,TR=0;function ct(){throw Error(U(321))}function ug(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function cg(t,e,n,r,i,s){if($i=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wu.current=t===null||t.memoizedState===null?NR:PR,t=n(r,i),va){s=0;do{if(va=!1,Wa=0,25<=s)throw Error(U(301));s+=1,Ke=Ve=null,e.updateQueue=null,Wu.current=OR,t=n(r,i)}while(va)}if(Wu.current=Sc,e=Ve!==null&&Ve.next!==null,$i=0,Ke=Ve=Ne=null,Cc=!1,e)throw Error(U(300));return t}function dg(){var t=Wa!==0;return Wa=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ne.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Cn(){if(Ve===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=Ke===null?Ne.memoizedState:Ke.next;if(e!==null)Ke=e,Ve=t;else{if(t===null)throw Error(U(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?Ne.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Qa(t,e){return typeof e=="function"?e(t):e}function af(t){var e=Cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var p=c.lane;if(($i&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ne.lanes|=p,qi|=p}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Ln(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ln(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GE(){}function YE(t,e){var n=Ne,r=Cn(),i=e(),s=!Ln(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,hg(ZE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ha(9,JE.bind(null,n,r,i,e),void 0,null),Je===null)throw Error(U(349));$i&30||XE(n,e,i)}return i}function XE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JE(t,e,n,r){e.value=n,e.getSnapshot=r,eC(e)&&tC(t)}function ZE(t,e,n){return n(function(){eC(e)&&tC(t)})}function eC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function tC(t){var e=vr(t,1);e!==null&&On(e,t,1,-1)}function j_(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=bR.bind(null,Ne,t),[e.memoizedState,t]}function Ha(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nC(){return Cn().memoizedState}function Qu(t,e,n,r){var i=Wn();Ne.flags|=t,i.memoizedState=Ha(1|e,n,void 0,r===void 0?null:r)}function kd(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var o=Ve.memoizedState;if(s=o.destroy,r!==null&&ug(r,o.deps)){i.memoizedState=Ha(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Ha(1|e,n,s,r)}function F_(t,e){return Qu(8390656,8,t,e)}function hg(t,e){return kd(2048,8,t,e)}function rC(t,e){return kd(4,2,t,e)}function iC(t,e){return kd(4,4,t,e)}function sC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oC(t,e,n){return n=n!=null?n.concat([t]):null,kd(4,4,sC.bind(null,e,t),n)}function fg(){}function aC(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lC(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uC(t,e,n){return $i&21?(Ln(n,e)||(n=hE(),Ne.lanes|=n,qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function RR(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{ve=n,of.transition=r}}function cC(){return Cn().memoizedState}function xR(t,e,n){var r=Jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dC(t))hC(e,n);else if(n=zE(t,e,n,r),n!==null){var i=Rt();On(n,t,r,i),fC(n,e,r)}}function bR(t,e,n){var r=Jr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dC(t))hC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ln(a,o)){var u=e.interleaved;u===null?(i.next=i,ig(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=zE(t,e,i,r),n!==null&&(i=Rt(),On(n,t,r,i),fC(n,e,r))}}function dC(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function hC(t,e){va=Cc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qm(t,n)}}var Sc={readContext:En,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},NR={readContext:En,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:F_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qu(4194308,4,sC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qu(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xR.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:j_,useDebugValue:fg,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=j_(!1),e=t[0];return t=RR.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=Wn();if(Te){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Je===null)throw Error(U(349));$i&30||XE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,F_(ZE.bind(null,r,s,t),[t]),r.flags|=2048,Ha(9,JE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=Je.identifierPrefix;if(Te){var n=ar,r=or;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PR={readContext:En,useCallback:aC,useContext:En,useEffect:hg,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:af,useRef:nC,useState:function(){return af(Qa)},useDebugValue:fg,useDeferredValue:function(t){var e=Cn();return uC(e,Ve.memoizedState,t)},useTransition:function(){var t=af(Qa)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:GE,useSyncExternalStore:YE,useId:cC,unstable_isNewReconciler:!1},OR={readContext:En,useCallback:aC,useContext:En,useEffect:hg,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:lf,useRef:nC,useState:function(){return lf(Qa)},useDebugValue:fg,useDeferredValue:function(t){var e=Cn();return Ve===null?e.memoizedState=t:uC(e,Ve.memoizedState,t)},useTransition:function(){var t=lf(Qa)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:GE,useSyncExternalStore:YE,useId:cC,unstable_isNewReconciler:!1};function ro(t,e){try{var n="",r=e;do n+=aT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DR=typeof WeakMap=="function"?WeakMap:Map;function pC(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kc||(kc=!0,Dp=r),Ap(t,e)},n}function mC(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ap(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof r!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function U_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KR.bind(null,t,e,n),e.then(t,t))}function B_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var LR=Sr.ReactCurrentOwner,Ft=!1;function kt(t,e,n,r){e.child=t===null?qE(e,null,n,r):to(e,t.child,n,r)}function z_(t,e,n,r,i){n=n.render;var s=e.ref;return Ws(e,i),r=cg(t,e,n,r,s,i),n=dg(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Te&&n&&Jm(e),e.flags|=1,kt(t,e,r,i),e.child)}function W_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Eg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gC(t,e,s,r,i)):(t=Ku(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ja,n(o,r)&&t.ref===e.ref)return yr(t,e,i)}return e.flags|=1,t=Zr(s,r),t.ref=e.ref,t.return=e,e.child=t}function gC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ja(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,yr(t,e,i)}return kp(t,e,n,r,i)}function vC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ms,qt),qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Ms,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Ms,qt),qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Ms,qt),qt|=r;return kt(t,e,i,n),e.child}function yC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kp(t,e,n,r,i){var s=Vt(n)?Qi:vt.current;return s=Zs(e,s),Ws(e,i),n=cg(t,e,n,r,s,i),r=dg(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Te&&r&&Jm(e),e.flags|=1,kt(t,e,n,i),e.child)}function Q_(t,e,n,r,i){if(Vt(n)){var s=!0;mc(e)}else s=!1;if(Ws(e,i),e.stateNode===null)Hu(t,e),HE(e,n,r),Sp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=En(c):(c=Vt(n)?Qi:vt.current,c=Zs(e,c));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&L_(e,o,r,c),Pr=!1;var d=e.memoizedState;o.state=d,wc(e,r,o,i),u=e.memoizedState,a!==r||d!==u||Bt.current||Pr?(typeof p=="function"&&(Cp(e,n,p,r),u=e.memoizedState),(a=Pr||D_(e,n,a,r,d,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tn(e.type,a),o.props=c,f=e.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=En(u):(u=Vt(n)?Qi:vt.current,u=Zs(e,u));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&L_(e,o,r,u),Pr=!1,d=e.memoizedState,o.state=d,wc(e,r,o,i);var E=e.memoizedState;a!==f||d!==E||Bt.current||Pr?(typeof v=="function"&&(Cp(e,n,v,r),E=e.memoizedState),(c=Pr||D_(e,n,c,r,d,E,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ip(t,e,n,r,s,i)}function Ip(t,e,n,r,i,s){yC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&x_(e,n,!1),yr(t,e,s);r=e.stateNode,LR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=to(e,t.child,null,s),e.child=to(e,null,a,s)):kt(t,e,a,s),e.memoizedState=r.state,i&&x_(e,n,!0),e.child}function _C(t){var e=t.stateNode;e.pendingContext?R_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R_(t,e.context,!1),og(t,e.containerInfo)}function H_(t,e,n,r,i){return eo(),eg(i),e.flags|=256,kt(t,e,n,r),e.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function wC(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(xe,i&1),t===null)return wp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rd(o,r,0,null),t=Vi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rp(n),e.memoizedState=Tp,t):pg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Zr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zr(a,s):(s=Vi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Tp,r}return s=t.child,t=s.sibling,r=Zr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pg(t,e){return e=Rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cu(t,e,n,r){return r!==null&&eg(r),to(e,t.child,null,n),t=pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(U(422))),Cu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rd({mode:"visible",children:r.children},i,0,null),s=Vi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&to(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Tp,s);if(!(e.mode&1))return Cu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=uf(s,r,void 0),Cu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=Je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(t,i),On(r,t,i,-1))}return wg(),r=uf(Error(U(421))),Cu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yt=Gr(i.nextSibling),en=e,Te=!0,xn=null,t!==null&&(hn[fn++]=or,hn[fn++]=ar,hn[fn++]=Hi,or=t.id,ar=t.overflow,Hi=e),e=pg(e,r.children),e.flags|=4096,e)}function $_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ep(t.return,e,n)}function cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function EC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$_(t,n,e);else if(t.tag===19)$_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ec(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ec(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cf(e,!0,n,null,s);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jR(t,e,n){switch(e.tag){case 3:_C(e),eo();break;case 5:KE(e);break;case 1:Vt(e.type)&&mc(e);break;case 4:og(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(yc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?wC(t,e,n):(Ee(xe,xe.current&1),t=yr(t,e,n),t!==null?t.sibling:null);Ee(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,vC(t,e,n)}return yr(t,e,n)}var CC,xp,SC,AC;CC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xp=function(){};SC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Li(qn.current);var s=null;switch(n){case"input":i=Xf(t,i),r=Xf(t,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=ep(t,i),r=ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fc)}np(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ba.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ba.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};AC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yo(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FR(t,e,n){var r=e.pendingProps;switch(Zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return Vt(e.type)&&pc(),dt(e),null;case 3:return r=e.stateNode,no(),Ie(Bt),Ie(vt),lg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(jp(xn),xn=null))),xp(t,e),dt(e),null;case 5:ag(e);var i=Li(za.current);if(n=e.type,t!==null&&e.stateNode!=null)SC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return dt(e),null}if(t=Li(qn.current),wu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qn]=e,r[Ba]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<la.length;i++)ke(la[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":t_(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":r_(r,s),ke("invalid",r)}np(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,a,t),i=["children",""+a]):ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":du(r),n_(r,s,!0);break;case"textarea":du(r),i_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qn]=e,t[Ba]=r,CC(t,e,!1,!1),e.stateNode=t;e:{switch(o=rp(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<la.length;i++)ke(la[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":t_(t,r),i=Xf(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),ke("invalid",t);break;case"textarea":r_(t,r),i=ep(t,r),ke("invalid",t);break;default:i=r}np(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?eE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Jw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Na(t,u):typeof u=="number"&&Na(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ba.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ke("scroll",t):u!=null&&Fm(t,s,u,o))}switch(n){case"input":du(t),n_(t,r,!1);break;case"textarea":du(t),i_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+si(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Us(t,!!r.multiple,s,!1):r.defaultValue!=null&&Us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)AC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Li(za.current),Li(qn.current),wu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(s=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return dt(e),null;case 13:if(Ie(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Yt!==null&&e.mode&1&&!(e.flags&128))VE(),eo(),e.flags|=98560,s=!1;else if(s=wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Qn]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else xn!==null&&(jp(xn),xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Qe===0&&(Qe=3):wg())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return no(),xp(t,e),t===null&&Fa(e.stateNode.containerInfo),dt(e),null;case 10:return rg(e.type._context),dt(e),null;case 17:return Vt(e.type)&&pc(),dt(e),null;case 19:if(Ie(xe),s=e.memoizedState,s===null)return dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Yo(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ec(t),o!==null){for(e.flags|=128,Yo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>io&&(e.flags|=128,r=!0,Yo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return dt(e),null}else 2*Fe()-s.renderingStartTime>io&&n!==1073741824&&(e.flags|=128,r=!0,Yo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=xe.current,Ee(xe,r?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return _g(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function UR(t,e){switch(Zm(e),e.tag){case 1:return Vt(e.type)&&pc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),Ie(Bt),Ie(vt),lg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ag(e),null;case 13:if(Ie(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(xe),null;case 4:return no(),null;case 10:return rg(e.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var Su=!1,ft=!1,BR=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function bp(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var q_=!1;function VR(t,e){if(fp=cc,t=RE(),Xm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,p=0,f=t,d=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)d=f,f=v;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++p===r&&(u=o),(v=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:t,selectionRange:n},cc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var k=E.memoizedProps,T=E.memoizedState,A=e.stateNode,y=A.getSnapshotBeforeUpdate(e.elementType===e.type?k:Tn(e.type,k),T);A.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){Oe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return E=q_,q_=!1,E}function ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bp(e,n,s)}i=i.next}while(i!==r)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Np(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kC(t){var e=t.alternate;e!==null&&(t.alternate=null,kC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[Ba],delete e[vp],delete e[SR],delete e[AR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IC(t){return t.tag===5||t.tag===3||t.tag===4}function K_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fc));else if(r!==4&&(t=t.child,t!==null))for(Pp(t,e,n),t=t.sibling;t!==null;)Pp(t,e,n),t=t.sibling}function Op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Op(t,e,n),t=t.sibling;t!==null;)Op(t,e,n),t=t.sibling}var rt=null,Rn=!1;function Rr(t,e,n){for(n=n.child;n!==null;)TC(t,e,n),n=n.sibling}function TC(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:ft||Ls(n,e);case 6:var r=rt,i=Rn;rt=null,Rr(t,e,n),rt=r,Rn=i,rt!==null&&(Rn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(Rn?(t=rt,n=n.stateNode,t.nodeType===8?nf(t.parentNode,n):t.nodeType===1&&nf(t,n),La(t)):nf(rt,n.stateNode));break;case 4:r=rt,i=Rn,rt=n.stateNode.containerInfo,Rn=!0,Rr(t,e,n),rt=r,Rn=i;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bp(n,e,o),i=i.next}while(i!==r)}Rr(t,e,n);break;case 1:if(!ft&&(Ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}Rr(t,e,n);break;case 21:Rr(t,e,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,Rr(t,e,n),ft=r):Rr(t,e,n);break;default:Rr(t,e,n)}}function G_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BR),e.forEach(function(r){var i=YR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,Rn=!1;break e;case 3:rt=a.stateNode.containerInfo,Rn=!0;break e;case 4:rt=a.stateNode.containerInfo,Rn=!0;break e}a=a.return}if(rt===null)throw Error(U(160));TC(s,o,i),rt=null,Rn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Oe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RC(e,t),e=e.sibling}function RC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),zn(t),r&4){try{ya(3,t,t.return),Id(3,t)}catch(k){Oe(t,t.return,k)}try{ya(5,t,t.return)}catch(k){Oe(t,t.return,k)}}break;case 1:kn(e,t),zn(t),r&512&&n!==null&&Ls(n,n.return);break;case 5:if(kn(e,t),zn(t),r&512&&n!==null&&Ls(n,n.return),t.flags&32){var i=t.stateNode;try{Na(i,"")}catch(k){Oe(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Gw(i,s),rp(a,o);var c=rp(a,s);for(o=0;o<u.length;o+=2){var p=u[o],f=u[o+1];p==="style"?eE(i,f):p==="dangerouslySetInnerHTML"?Jw(i,f):p==="children"?Na(i,f):Fm(i,p,f,c)}switch(a){case"input":Jf(i,s);break;case"textarea":Yw(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Us(i,!!s.multiple,v,!1):d!==!!s.multiple&&(s.defaultValue!=null?Us(i,!!s.multiple,s.defaultValue,!0):Us(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ba]=s}catch(k){Oe(t,t.return,k)}}break;case 6:if(kn(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Oe(t,t.return,k)}}break;case 3:if(kn(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(k){Oe(t,t.return,k)}break;case 4:kn(e,t),zn(t);break;case 13:kn(e,t),zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vg=Fe())),r&4&&G_(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(c=ft)||p,kn(e,t),ft=c):kn(e,t),zn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!p&&t.mode&1)for(q=t,p=t.child;p!==null;){for(f=q=p;q!==null;){switch(d=q,v=d.child,d.tag){case 0:case 11:case 14:case 15:ya(4,d,d.return);break;case 1:Ls(d,d.return);var E=d.stateNode;if(typeof E.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(k){Oe(r,n,k)}}break;case 5:Ls(d,d.return);break;case 22:if(d.memoizedState!==null){X_(f);continue}}v!==null?(v.return=d,q=v):X_(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Zw("display",o))}catch(k){Oe(t,t.return,k)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(k){Oe(t,t.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kn(e,t),zn(t),r&4&&G_(t);break;case 21:break;default:kn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IC(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Na(i,""),r.flags&=-33);var s=K_(t);Op(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K_(t);Pp(t,a,o);break;default:throw Error(U(161))}}catch(u){Oe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zR(t,e,n){q=t,xC(t)}function xC(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Su;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ft;a=Su;var c=ft;if(Su=o,(ft=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?J_(i):u!==null?(u.return=o,q=u):J_(i);for(;s!==null;)q=s,xC(s),s=s.sibling;q=i,Su=a,ft=c}Y_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Y_(t)}}function Y_(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||Id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&O_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&La(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ft||e.flags&512&&Np(e)}catch(d){Oe(e,e.return,d)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function X_(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function J_(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(u){Oe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Oe(e,i,u)}}var s=e.return;try{Np(e)}catch(u){Oe(e,s,u)}break;case 5:var o=e.return;try{Np(e)}catch(u){Oe(e,o,u)}}}catch(u){Oe(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var WR=Math.ceil,Ac=Sr.ReactCurrentDispatcher,mg=Sr.ReactCurrentOwner,yn=Sr.ReactCurrentBatchConfig,le=0,Je=null,Ue=null,st=0,qt=0,Ms=vi(0),Qe=0,$a=null,qi=0,Td=0,gg=0,_a=null,Mt=null,vg=0,io=1/0,ir=null,kc=!1,Dp=null,Xr=null,Au=!1,zr=null,Ic=0,wa=0,Lp=null,$u=-1,qu=0;function Rt(){return le&6?Fe():$u!==-1?$u:$u=Fe()}function Jr(t){return t.mode&1?le&2&&st!==0?st&-st:IR.transition!==null?(qu===0&&(qu=hE()),qu):(t=ve,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function On(t,e,n,r){if(50<wa)throw wa=0,Lp=null,Error(U(185));wl(t,n,r),(!(le&2)||t!==Je)&&(t===Je&&(!(le&2)&&(Td|=n),Qe===4&&Lr(t,st)),zt(t,r),n===1&&le===0&&!(e.mode&1)&&(io=Fe()+500,Sd&&yi()))}function zt(t,e){var n=t.callbackNode;IT(t,e);var r=uc(t,t===Je?st:0);if(r===0)n!==null&&a_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a_(n),e===1)t.tag===0?kR(Z_.bind(null,t)):FE(Z_.bind(null,t)),ER(function(){!(le&6)&&yi()}),n=null;else{switch(fE(r)){case 1:n=Wm;break;case 4:n=cE;break;case 16:n=lc;break;case 536870912:n=dE;break;default:n=lc}n=jC(n,bC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bC(t,e){if($u=-1,qu=0,le&6)throw Error(U(327));var n=t.callbackNode;if(Qs()&&t.callbackNode!==n)return null;var r=uc(t,t===Je?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tc(t,r);else{e=r;var i=le;le|=2;var s=PC();(Je!==t||st!==e)&&(ir=null,io=Fe()+500,Bi(t,e));do try{$R();break}catch(a){NC(t,a)}while(!0);ng(),Ac.current=s,le=i,Ue!==null?e=0:(Je=null,st=0,e=Qe)}if(e!==0){if(e===2&&(i=lp(t),i!==0&&(r=i,e=Mp(t,i))),e===1)throw n=$a,Bi(t,0),Lr(t,r),zt(t,Fe()),n;if(e===6)Lr(t,r);else{if(i=t.current.alternate,!(r&30)&&!QR(i)&&(e=Tc(t,r),e===2&&(s=lp(t),s!==0&&(r=s,e=Mp(t,s))),e===1))throw n=$a,Bi(t,0),Lr(t,r),zt(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:xi(t,Mt,ir);break;case 3:if(Lr(t,r),(r&130023424)===r&&(e=vg+500-Fe(),10<e)){if(uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gp(xi.bind(null,t,Mt,ir),e);break}xi(t,Mt,ir);break;case 4:if(Lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WR(r/1960))-r,10<r){t.timeoutHandle=gp(xi.bind(null,t,Mt,ir),r);break}xi(t,Mt,ir);break;case 5:xi(t,Mt,ir);break;default:throw Error(U(329))}}}return zt(t,Fe()),t.callbackNode===n?bC.bind(null,t):null}function Mp(t,e){var n=_a;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=Tc(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&jp(e)),t}function jp(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function QR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ln(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lr(t,e){for(e&=~gg,e&=~Td,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function Z_(t){if(le&6)throw Error(U(327));Qs();var e=uc(t,0);if(!(e&1))return zt(t,Fe()),null;var n=Tc(t,e);if(t.tag!==0&&n===2){var r=lp(t);r!==0&&(e=r,n=Mp(t,r))}if(n===1)throw n=$a,Bi(t,0),Lr(t,e),zt(t,Fe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,Mt,ir),zt(t,Fe()),null}function yg(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(io=Fe()+500,Sd&&yi())}}function Ki(t){zr!==null&&zr.tag===0&&!(le&6)&&Qs();var e=le;le|=1;var n=yn.transition,r=ve;try{if(yn.transition=null,ve=1,t)return t()}finally{ve=r,yn.transition=n,le=e,!(le&6)&&yi()}}function _g(){qt=Ms.current,Ie(Ms)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wR(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pc();break;case 3:no(),Ie(Bt),Ie(vt),lg();break;case 5:ag(r);break;case 4:no();break;case 13:Ie(xe);break;case 19:Ie(xe);break;case 10:rg(r.type._context);break;case 22:case 23:_g()}n=n.return}if(Je=t,Ue=t=Zr(t.current,null),st=qt=e,Qe=0,$a=null,gg=Td=qi=0,Mt=_a=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Di=null}return t}function NC(t,e){do{var n=Ue;try{if(ng(),Wu.current=Sc,Cc){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cc=!1}if($i=0,Ke=Ve=Ne=null,va=!1,Wa=0,mg.current=null,n===null||n.return===null){Qe=1,$a=e,Ue=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=st,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=a,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=B_(o);if(v!==null){v.flags&=-257,V_(v,o,a,s,e),v.mode&1&&U_(s,c,e),e=v,u=c;var E=e.updateQueue;if(E===null){var k=new Set;k.add(u),e.updateQueue=k}else E.add(u);break e}else{if(!(e&1)){U_(s,c,e),wg();break e}u=Error(U(426))}}else if(Te&&a.mode&1){var T=B_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),V_(T,o,a,s,e),eg(ro(u,a));break e}}s=u=ro(u,a),Qe!==4&&(Qe=2),_a===null?_a=[s]:_a.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=pC(s,u,e);P_(s,A);break e;case 1:a=u;var y=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xr===null||!Xr.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=mC(s,a,e);P_(s,C);break e}}s=s.return}while(s!==null)}DC(n)}catch(N){e=N,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function PC(){var t=Ac.current;return Ac.current=Sc,t===null?Sc:t}function wg(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||!(qi&268435455)&&!(Td&268435455)||Lr(Je,st)}function Tc(t,e){var n=le;le|=2;var r=PC();(Je!==t||st!==e)&&(ir=null,Bi(t,e));do try{HR();break}catch(i){NC(t,i)}while(!0);if(ng(),le=n,Ac.current=r,Ue!==null)throw Error(U(261));return Je=null,st=0,Qe}function HR(){for(;Ue!==null;)OC(Ue)}function $R(){for(;Ue!==null&&!vT();)OC(Ue)}function OC(t){var e=MC(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?DC(t):Ue=e,mg.current=null}function DC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UR(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ue=null;return}}else if(n=FR(n,e,qt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);Qe===0&&(Qe=5)}function xi(t,e,n){var r=ve,i=yn.transition;try{yn.transition=null,ve=1,qR(t,e,n,r)}finally{yn.transition=i,ve=r}return null}function qR(t,e,n,r){do Qs();while(zr!==null);if(le&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TT(t,s),t===Je&&(Ue=Je=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Au||(Au=!0,jC(lc,function(){return Qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=ve;ve=1;var a=le;le|=4,mg.current=null,VR(t,n),RC(n,t),fR(pp),cc=!!fp,pp=fp=null,t.current=n,zR(n),yT(),le=a,ve=o,yn.transition=s}else t.current=n;if(Au&&(Au=!1,zr=t,Ic=i),s=t.pendingLanes,s===0&&(Xr=null),ET(n.stateNode),zt(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kc)throw kc=!1,t=Dp,Dp=null,t;return Ic&1&&t.tag!==0&&Qs(),s=t.pendingLanes,s&1?t===Lp?wa++:(wa=0,Lp=t):wa=0,yi(),null}function Qs(){if(zr!==null){var t=fE(Ic),e=yn.transition,n=ve;try{if(yn.transition=null,ve=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,Ic=0,le&6)throw Error(U(331));var i=le;for(le|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(q=c;q!==null;){var p=q;switch(p.tag){case 0:case 11:case 15:ya(8,p,s)}var f=p.child;if(f!==null)f.return=p,q=f;else for(;q!==null;){p=q;var d=p.sibling,v=p.return;if(kC(p),p===c){q=null;break}if(d!==null){d.return=v,q=d;break}q=v}}}var E=s.alternate;if(E!==null){var k=E.child;if(k!==null){E.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,q=A;break e}q=s.return}}var y=t.current;for(q=y;q!==null;){o=q;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,q=g;else e:for(o=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Id(9,a)}}catch(N){Oe(a,a.return,N)}if(a===o){q=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,q=C;break e}q=a.return}}if(le=i,yi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{ve=n,yn.transition=e}}return!1}function e0(t,e,n){e=ro(n,e),e=pC(t,e,1),t=Yr(t,e,1),e=Rt(),t!==null&&(wl(t,1,e),zt(t,e))}function Oe(t,e,n){if(t.tag===3)e0(t,t,n);else for(;e!==null;){if(e.tag===3){e0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xr===null||!Xr.has(r))){t=ro(n,t),t=mC(e,t,1),e=Yr(e,t,1),t=Rt(),e!==null&&(wl(e,1,t),zt(e,t));break}}e=e.return}}function KR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(st&n)===n&&(Qe===4||Qe===3&&(st&130023424)===st&&500>Fe()-vg?Bi(t,0):gg|=n),zt(t,e)}function LC(t,e){e===0&&(t.mode&1?(e=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):e=1);var n=Rt();t=vr(t,e),t!==null&&(wl(t,e,n),zt(t,n))}function GR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LC(t,n)}function YR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),LC(t,n)}var MC;MC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,jR(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Te&&e.flags&1048576&&UE(e,vc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hu(t,e),t=e.pendingProps;var i=Zs(e,vt.current);Ws(e,n),i=cg(null,e,r,t,i,n);var s=dg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,mc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sg(e),i.updater=Ad,e.stateNode=i,i._reactInternals=e,Sp(e,r,t,n),e=Ip(null,e,r,!0,s,n)):(e.tag=0,Te&&s&&Jm(e),kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JR(r),t=Tn(r,t),i){case 0:e=kp(null,e,r,t,n);break e;case 1:e=Q_(null,e,r,t,n);break e;case 11:e=z_(null,e,r,t,n);break e;case 14:e=W_(null,e,r,Tn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),kp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Q_(t,e,r,i,n);case 3:e:{if(_C(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WE(t,e),wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ro(Error(U(423)),e),e=H_(t,e,r,n,i);break e}else if(r!==i){i=ro(Error(U(424)),e),e=H_(t,e,r,n,i);break e}else for(Yt=Gr(e.stateNode.containerInfo.firstChild),en=e,Te=!0,xn=null,n=qE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===i){e=yr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return KE(e),t===null&&wp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mp(r,i)?o=null:s!==null&&mp(r,s)&&(e.flags|=32),yC(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&wp(e),null;case 13:return wC(t,e,n);case 4:return og(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),z_(t,e,r,i,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(yc,r._currentValue),r._currentValue=o,s!==null)if(Ln(s.value,o)){if(s.children===i.children&&!Bt.current){e=yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=hr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ep(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ep(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ws(e,n),i=En(i),r=r(i),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),W_(t,e,r,i,n);case 15:return gC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Hu(t,e),e.tag=1,Vt(r)?(t=!0,mc(e)):t=!1,Ws(e,n),HE(e,r,i),Sp(e,r,i,n),Ip(null,e,r,!0,t,n);case 19:return EC(t,e,n);case 22:return vC(t,e,n)}throw Error(U(156,e.tag))};function jC(t,e){return uE(t,e)}function XR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new XR(t,e,n,r)}function Eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JR(t){if(typeof t=="function")return Eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bm)return 11;if(t===Vm)return 14}return 2}function Zr(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ku(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Eg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Is:return Vi(n.children,i,s,e);case Um:o=8,i|=8;break;case qf:return t=mn(12,n,e,i|2),t.elementType=qf,t.lanes=s,t;case Kf:return t=mn(13,n,e,i),t.elementType=Kf,t.lanes=s,t;case Gf:return t=mn(19,n,e,i),t.elementType=Gf,t.lanes=s,t;case $w:return Rd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qw:o=10;break e;case Hw:o=9;break e;case Bm:o=11;break e;case Vm:o=14;break e;case Nr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vi(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Rd(t,e,n,r){return t=mn(22,t,r,e),t.elementType=$w,t.lanes=n,t.stateNode={isHidden:!1},t}function df(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function hf(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cg(t,e,n,r,i,s,o,a,u){return t=new ZR(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sg(s),t}function ex(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FC(t){if(!t)return oi;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Vt(n))return jE(t,n,e)}return e}function UC(t,e,n,r,i,s,o,a,u){return t=Cg(n,r,!0,t,i,s,o,a,u),t.context=FC(null),n=t.current,r=Rt(),i=Jr(n),s=hr(r,i),s.callback=e??null,Yr(n,s,i),t.current.lanes=i,wl(t,i,r),zt(t,r),t}function xd(t,e,n,r){var i=e.current,s=Rt(),o=Jr(i);return n=FC(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yr(i,e,o),t!==null&&(On(t,i,o,s),zu(t,i,o)),o}function Rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sg(t,e){t0(t,e),(t=t.alternate)&&t0(t,e)}function tx(){return null}var BC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ag(t){this._internalRoot=t}bd.prototype.render=Ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));xd(t,e,null,null)};bd.prototype.unmount=Ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){xd(null,t,null,null)}),e[gr]=null}};function bd(t){this._internalRoot=t}bd.prototype.unstable_scheduleHydration=function(t){if(t){var e=gE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dr.length&&e!==0&&e<Dr[n].priority;n++);Dr.splice(n,0,t),n===0&&yE(t)}};function kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n0(){}function nx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Rc(o);s.call(c)}}var o=UC(e,r,t,0,null,!1,!1,"",n0);return t._reactRootContainer=o,t[gr]=o.current,Fa(t.nodeType===8?t.parentNode:t),Ki(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Rc(u);a.call(c)}}var u=Cg(t,0,!1,null,null,!1,!1,"",n0);return t._reactRootContainer=u,t[gr]=u.current,Fa(t.nodeType===8?t.parentNode:t),Ki(function(){xd(e,u,n,r)}),u}function Pd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Rc(o);a.call(u)}}xd(e,o,t,i)}else o=nx(n,e,t,i,r);return Rc(o)}pE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(Qm(e,n|1),zt(e,Fe()),!(le&6)&&(io=Fe()+500,yi()))}break;case 13:Ki(function(){var r=vr(t,1);if(r!==null){var i=Rt();On(r,t,1,i)}}),Sg(t,1)}};Hm=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Rt();On(e,t,134217728,n)}Sg(t,134217728)}};mE=function(t){if(t.tag===13){var e=Jr(t),n=vr(t,e);if(n!==null){var r=Rt();On(n,t,e,r)}Sg(t,e)}};gE=function(){return ve};vE=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};sp=function(t,e,n){switch(e){case"input":if(Jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error(U(90));Kw(r),Jf(r,i)}}}break;case"textarea":Yw(t,n);break;case"select":e=n.value,e!=null&&Us(t,!!n.multiple,e,!1)}};rE=yg;iE=Ki;var rx={usingClientEntryPoint:!1,Events:[Cl,bs,Cd,tE,nE,yg]},Xo={findFiberByHostInstance:Oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ix={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aE(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{yd=ku.inject(ix),$n=ku}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kg(e))throw Error(U(200));return ex(t,e,null,n)};an.createRoot=function(t,e){if(!kg(t))throw Error(U(299));var n=!1,r="",i=BC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cg(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,Fa(t.nodeType===8?t.parentNode:t),new Ag(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=aE(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Ki(t)};an.hydrate=function(t,e,n){if(!Nd(e))throw Error(U(200));return Pd(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!kg(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UC(e,null,t,1,n??null,i,!1,s,o),t[gr]=e.current,Fa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bd(e)};an.render=function(t,e,n){if(!Nd(e))throw Error(U(200));return Pd(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(U(40));return t._reactRootContainer?(Ki(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};an.unstable_batchedUpdates=yg;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Pd(t,e,n,!1,r)};an.version="18.2.0-next-9e3b772b8-20220608";function VC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VC)}catch(t){console.error(t)}}VC(),Uw.exports=an;var zC=Uw.exports;const sx=Rw(zC);var r0=zC;Hf.createRoot=r0.createRoot,Hf.hydrateRoot=r0.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const i0="popstate";function ox(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Fp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xc(i)}return lx(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ax(){return Math.random().toString(36).substr(2,8)}function s0(t,e){return{usr:t.state,key:t.key,idx:e}}function Fp(t,e,n,r){return n===void 0&&(n=null),qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wo(e):e,{state:n,key:e&&e.key||r||ax()})}function xc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wr.Pop,u=null,c=p();c==null&&(c=0,o.replaceState(qa({},o.state,{idx:c}),""));function p(){return(o.state||{idx:null}).idx}function f(){a=Wr.Pop;let T=p(),A=T==null?null:T-c;c=T,u&&u({action:a,location:k.location,delta:A})}function d(T,A){a=Wr.Push;let y=Fp(k.location,T,A);n&&n(y,T),c=p()+1;let g=s0(y,c),C=k.createHref(y);try{o.pushState(g,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(C)}s&&u&&u({action:a,location:k.location,delta:1})}function v(T,A){a=Wr.Replace;let y=Fp(k.location,T,A);n&&n(y,T),c=p();let g=s0(y,c),C=k.createHref(y);o.replaceState(g,"",C),s&&u&&u({action:a,location:k.location,delta:0})}function E(T){let A=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof T=="string"?T:xc(T);return y=y.replace(/ $/,"%20"),De(A,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,A)}let k={get action(){return a},get location(){return t(i,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(i0,f),u=T,()=>{i.removeEventListener(i0,f),u=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let A=E(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:d,replace:v,go(T){return o.go(T)}};return k}var o0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o0||(o0={}));function ux(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?wo(e):e,i=so(r.pathname||"/",n);if(i==null)return null;let s=QC(t);cx(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=Ex(i);o=_x(s[a],u)}return o}function QC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ei([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(De(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QC(s.children,e,p,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vx(c,s.index),routesMeta:p})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of HC(s.path))i(s,o,u)}),e}function HC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function cx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dx=/^:[\w-]+$/,hx=3,fx=2,px=1,mx=10,gx=-2,a0=t=>t==="*";function vx(t,e){let n=t.split("/"),r=n.length;return n.some(a0)&&(r+=gx),e&&(r+=fx),n.filter(i=>!a0(i)).reduce((i,s)=>i+(dx.test(s)?hx:s===""?px:mx),r)}function yx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _x(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",p=Up({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!p)return null;Object.assign(r,p.params);let f=a.route;s.push({params:r,pathname:ei([i,p.pathname]),pathnameBase:kx(ei([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=ei([i,p.pathnameBase]))}return s}function Up(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,p,f)=>{let{paramName:d,isOptional:v}=p;if(d==="*"){let k=a[f]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const E=a[f];return v&&!E?c[d]=void 0:c[d]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),WC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ex(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function so(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wo(t):t;return{pathname:n?n.startsWith("/")?n:Sx(n,e):e,search:Ix(r),hash:Tx(i)}}function Sx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ff(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ax(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $C(t,e){let n=Ax(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wo(t):(i=qa({},t),De(!i.pathname||!i.pathname.includes("?"),ff("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),ff("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),ff("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let u=Cx(i,a),c=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const ei=t=>t.join("/").replace(/\/\/+/g,"/"),kx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Rx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KC=["post","put","patch","delete"];new Set(KC);const xx=["get",...KC];new Set(xx);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}const Od=O.createContext(null),GC=O.createContext(null),_i=O.createContext(null),Dd=O.createContext(null),wi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),YC=O.createContext(null);function bx(t,e){let{relative:n}=e===void 0?{}:e;Al()||De(!1);let{basename:r,navigator:i}=O.useContext(_i),{hash:s,pathname:o,search:a}=Ld(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ei([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Al(){return O.useContext(Dd)!=null}function kl(){return Al()||De(!1),O.useContext(Dd).location}function XC(t){O.useContext(_i).static||O.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=O.useContext(wi);return t?Wx():Nx()}function Nx(){Al()||De(!1);let t=O.useContext(Od),{basename:e,future:n,navigator:r}=O.useContext(_i),{matches:i}=O.useContext(wi),{pathname:s}=kl(),o=JSON.stringify($C(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return XC(()=>{a.current=!0}),O.useCallback(function(c,p){if(p===void 0&&(p={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=qC(c,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ei([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,o,s,t])}function JC(){let{matches:t}=O.useContext(wi),e=t[t.length-1];return e?e.params:{}}function Ld(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(_i),{matches:i}=O.useContext(wi),{pathname:s}=kl(),o=JSON.stringify($C(i,r.v7_relativeSplatPath));return O.useMemo(()=>qC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Px(t,e){return Ox(t,e)}function Ox(t,e,n,r){Al()||De(!1);let{navigator:i}=O.useContext(_i),{matches:s}=O.useContext(wi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=kl(),p;if(e){var f;let T=typeof e=="string"?wo(e):e;u==="/"||(f=T.pathname)!=null&&f.startsWith(u)||De(!1),p=T}else p=c;let d=p.pathname||"/",v=d;if(u!=="/"){let T=u.replace(/^\//,"").split("/");v="/"+d.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=ux(t,{pathname:v}),k=Fx(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ei([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:ei([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&k?O.createElement(Dd.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Wr.Pop}},k):k}function Dx(){let t=zx(),e=Rx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const Lx=O.createElement(Dx,null);class Mx extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(wi.Provider,{value:this.props.routeContext},O.createElement(YC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jx(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(Od);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(wi.Provider,{value:e},r)}function Fx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let p=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));p>=0||De(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:d,errors:v}=n,E=f.route.loader&&d[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,f,d)=>{let v,E=!1,k=null,T=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,k=f.route.errorElement||Lx,u&&(c<0&&d===0?(Qx("route-fallback",!1),E=!0,T=null):c===d&&(E=!0,T=f.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,d+1)),y=()=>{let g;return v?g=k:E?g=T:f.route.Component?g=O.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,O.createElement(jx,{match:f,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?O.createElement(Mx,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:y(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):y()},null)}var ZC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZC||{}),bc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bc||{});function Ux(t){let e=O.useContext(Od);return e||De(!1),e}function Bx(t){let e=O.useContext(GC);return e||De(!1),e}function Vx(t){let e=O.useContext(wi);return e||De(!1),e}function eS(t){let e=Vx(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function zx(){var t;let e=O.useContext(YC),n=Bx(bc.UseRouteError),r=eS(bc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Wx(){let{router:t}=Ux(ZC.UseNavigateStable),e=eS(bc.UseNavigateStable),n=O.useRef(!1);return XC(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ka({fromRouteId:e},s)))},[t,e])}const l0={};function Qx(t,e,n){!e&&!l0[t]&&(l0[t]=!0)}function $t(t){De(!1)}function Hx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wr.Pop,navigator:s,static:o=!1,future:a}=t;Al()&&De(!1);let u=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:u,navigator:s,static:o,future:Ka({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=wo(r));let{pathname:p="/",search:f="",hash:d="",state:v=null,key:E="default"}=r,k=O.useMemo(()=>{let T=so(p,u);return T==null?null:{location:{pathname:T,search:f,hash:d,state:v,key:E},navigationType:i}},[u,p,f,d,v,E,i]);return k==null?null:O.createElement(_i.Provider,{value:c},O.createElement(Dd.Provider,{children:n,value:k}))}function $x(t){let{children:e,location:n}=t;return Px(Bp(e),n)}new Promise(()=>{});function Bp(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Bp(r.props.children,s));return}r.type!==$t&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function tS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kx(t,e){return t.button===0&&(!e||e==="_self")&&!qx(t)}const Gx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Yx=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Xx="6";try{window.__reactRouterVersion=Xx}catch{}const Jx=O.createContext({isTransitioning:!1}),Zx="startTransition",u0=Qf[Zx];function eb(t){let{basename:e,children:n,future:r,window:i}=t,s=O.useRef();s.current==null&&(s.current=ox({window:i,v5Compat:!0}));let o=s.current,[a,u]=O.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},p=O.useCallback(f=>{c&&u0?u0(()=>u(f)):u(f)},[u,c]);return O.useLayoutEffect(()=>o.listen(p),[o,p]),O.createElement(Hx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:p,unstable_viewTransition:f}=e,d=tS(e,Gx),{basename:v}=O.useContext(_i),E,k=!1;if(typeof c=="string"&&nb.test(c)&&(E=c,tb))try{let g=new URL(window.location.href),C=c.startsWith("//")?new URL(g.protocol+c):new URL(c),N=so(C.pathname,v);C.origin===g.origin&&N!=null?c=N+C.search+C.hash:k=!0}catch{}let T=bx(c,{relative:i}),A=ib(c,{replace:o,state:a,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:f});function y(g){r&&r(g),g.defaultPrevented||A(g)}return O.createElement("a",Nc({},d,{href:E||T,onClick:k||s?r:y,ref:n,target:u}))}),nS=O.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:c,children:p}=e,f=tS(e,Yx),d=Ld(u,{relative:f.relative}),v=kl(),E=O.useContext(GC),{navigator:k,basename:T}=O.useContext(_i),A=E!=null&&sb(d)&&c===!0,y=k.encodeLocation?k.encodeLocation(d).pathname:d.pathname,g=v.pathname,C=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(g=g.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&T&&(C=so(C,T)||C);const N=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let D=g===y||!o&&g.startsWith(y)&&g.charAt(N)==="/",S=C!=null&&(C===y||!o&&C.startsWith(y)&&C.charAt(y.length)==="/"),w={isActive:D,isPending:S,isTransitioning:A},I=D?r:void 0,R;typeof s=="function"?R=s(w):R=[s,D?"active":null,S?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(w):a;return O.createElement(_n,Nc({},f,{"aria-current":I,className:R,ref:n,style:P,to:u,unstable_viewTransition:c}),typeof p=="function"?p(w):p)});var Vp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vp||(Vp={}));var c0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c0||(c0={}));function rb(t){let e=O.useContext(Od);return e||De(!1),e}function ib(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Un(),c=kl(),p=Ld(t,{relative:o});return O.useCallback(f=>{if(Kx(f,n)){f.preventDefault();let d=r!==void 0?r:xc(c)===xc(p);u(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,p,r,i,n,t,s,o,a])}function sb(t,e){e===void 0&&(e={});let n=O.useContext(Jx);n==null&&De(!1);let{basename:r}=rb(Vp.useViewTransitionState),i=Ld(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=so(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=so(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Up(i.pathname,o)!=null||Up(i.pathname,s)!=null}var rS={exports:{}},iS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=O;function ob(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ab=typeof Object.is=="function"?Object.is:ob,lb=Il.useSyncExternalStore,ub=Il.useRef,cb=Il.useEffect,db=Il.useMemo,hb=Il.useDebugValue;iS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ub(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=db(function(){function u(v){if(!c){if(c=!0,p=v,v=r(v),i!==void 0&&o.hasValue){var E=o.value;if(i(E,v))return f=E}return f=v}if(E=f,ab(p,v))return E;var k=r(v);return i!==void 0&&i(E,k)?E:(p=v,f=k)}var c=!1,p,f,d=n===void 0?null:n;return[function(){return u(e())},d===null?void 0:function(){return u(d())}]},[e,n,r,i]);var a=lb(t,s[0],s[1]);return cb(function(){o.hasValue=!0,o.value=a},[a]),hb(a),a};rS.exports=iS;var fb=rS.exports,Xt="default"in Qf?fe:Qf,d0=Symbol.for("react-redux-context"),h0=typeof globalThis<"u"?globalThis:{};function pb(){if(!Xt.createContext)return{};const t=h0[d0]??(h0[d0]=new Map);let e=t.get(Xt.createContext);return e||(e=Xt.createContext(null),t.set(Xt.createContext,e)),e}var ai=pb(),mb=()=>{throw new Error("uSES not initialized!")};function Ig(t=ai){return function(){return Xt.useContext(t)}}var sS=Ig(),oS=mb,gb=t=>{oS=t},vb=(t,e)=>t===e;function yb(t=ai){const e=t===ai?sS:Ig(t),n=(r,i={})=>{const{equalityFn:s=vb,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:p,identityFunctionCheck:f}=e();Xt.useRef(!0);const d=Xt.useCallback({[r.name](E){return r(E)}}[r.name],[r,p,o.stabilityCheck]),v=oS(u.addNestedSub,a.getState,c||a.getState,d,s);return Xt.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var he=yb();function aS(t){t()}function _b(){let t=null,e=null;return{clear(){t=null,e=null},notify(){aS(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var f0={notify(){},get:()=>[]};function wb(t,e){let n,r=f0,i=0,s=!1;function o(k){p();const T=r.subscribe(k);let A=!1;return()=>{A||(A=!0,T(),f())}}function a(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function c(){return s}function p(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=_b())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=f0)}function d(){s||(s=!0,p())}function v(){s&&(s=!1,f())}const E={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:d,tryUnsubscribe:v,getListeners:()=>r};return E}var Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cb=Eb?Xt.useLayoutEffect:Xt.useEffect;function p0(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ea(t,e){if(p0(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!p0(t[n[i]],e[n[i]]))return!1;return!0}function Sb({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Xt.useMemo(()=>{const c=wb(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Xt.useMemo(()=>t.getState(),[t]);Cb(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=e||ai;return Xt.createElement(u.Provider,{value:o},n)}var Ab=Sb;function lS(t=ai){const e=t===ai?sS:Ig(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var uS=lS();function kb(t=ai){const e=t===ai?uS:lS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Pt=kb(),Ib=aS;gb(fb.useSyncExternalStoreWithSelector);function nt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tb=typeof Symbol=="function"&&Symbol.observable||"@@observable",m0=Tb,pf=()=>Math.random().toString(36).substring(7).split("").join("."),Rb={INIT:`@@redux/INIT${pf()}`,REPLACE:`@@redux/REPLACE${pf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pf()}`},Pc=Rb;function Xn(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cS(t,e,n){if(typeof t!="function")throw new Error(nt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nt(1));return n(cS)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((T,A)=>{o.set(A,T)}))}function p(){if(u)throw new Error(nt(3));return i}function f(T){if(typeof T!="function")throw new Error(nt(4));if(u)throw new Error(nt(5));let A=!0;c();const y=a++;return o.set(y,T),function(){if(A){if(u)throw new Error(nt(6));A=!1,c(),o.delete(y),s=null}}}function d(T){if(!Xn(T))throw new Error(nt(7));if(typeof T.type>"u")throw new Error(nt(8));if(typeof T.type!="string")throw new Error(nt(17));if(u)throw new Error(nt(9));try{u=!0,i=r(i,T)}finally{u=!1}return(s=o).forEach(y=>{y()}),T}function v(T){if(typeof T!="function")throw new Error(nt(10));r=T,d({type:Pc.REPLACE})}function E(){const T=f;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(nt(11));function y(){const C=A;C.next&&C.next(p())}return y(),{unsubscribe:T(y)}},[m0](){return this}}}return d({type:Pc.INIT}),{dispatch:d,subscribe:f,getState:p,replaceReducer:v,[m0]:E}}function xb(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Pc.INIT})>"u")throw new Error(nt(12));if(typeof n(void 0,{type:Pc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nt(13))})}function dS(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{xb(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let p=0;p<r.length;p++){const f=r[p],d=n[f],v=o[f],E=d(v,a);if(typeof E>"u")throw a&&a.type,new Error(nt(14));c[f]=E,u=u||E!==v}return u=u||r.length!==Object.keys(o).length,u?c:o}}function Oc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function bb(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(nt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=t.map(u=>u(o));return s=Oc(...a)(i.dispatch),{...i,dispatch:s}}}function hS(t){return Xn(t)&&"type"in t&&typeof t.type=="string"}var Tg=Symbol.for("immer-nothing"),Ca=Symbol.for("immer-draftable"),Qt=Symbol.for("immer-state");function it(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gi=Object.getPrototypeOf;function Mn(t){return!!t&&!!t[Qt]}function jn(t){var e;return t?fS(t)||Array.isArray(t)||!!t[Ca]||!!((e=t.constructor)!=null&&e[Ca])||Tl(t)||Rl(t):!1}var Nb=Object.prototype.constructor.toString();function fS(t){if(!t||typeof t!="object")return!1;const e=Gi(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Nb}function Pb(t){return Mn(t)||it(15,t),t[Qt].base_}function Ga(t,e){Yi(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Yi(t){const e=t[Qt];return e?e.type_:Array.isArray(t)?1:Tl(t)?2:Rl(t)?3:0}function Ya(t,e){return Yi(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mf(t,e){return Yi(t)===2?t.get(e):t[e]}function pS(t,e,n){const r=Yi(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ob(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Tl(t){return t instanceof Map}function Rl(t){return t instanceof Set}function bi(t){return t.copy_||t.base_}function zp(t,e){if(Tl(t))return new Map(t);if(Rl(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&fS(t))return Gi(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Qt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Gi(t),n)}function Rg(t,e=!1){return Md(t)||Mn(t)||!jn(t)||(Yi(t)>1&&(t.set=t.add=t.clear=t.delete=Db),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Rg(r,!0))),t}function Db(){it(2)}function Md(t){return Object.isFrozen(t)}var Wp={};function Xi(t){const e=Wp[t];return e||it(0,t),e}function Lb(t,e){Wp[t]||(Wp[t]=e)}var Xa;function mS(){return Xa}function Mb(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function g0(t,e){e&&(Xi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Qp(t){Hp(t),t.drafts_.forEach(jb),t.drafts_=null}function Hp(t){t===Xa&&(Xa=t.parent_)}function v0(t){return Xa=Mb(Xa,t)}function jb(t){const e=t[Qt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function y0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qt].modified_&&(Qp(e),it(4)),jn(t)&&(t=Dc(e,t),e.parent_||Lc(e,t)),e.patches_&&Xi("Patches").generateReplacementPatches_(n[Qt].base_,t,e.patches_,e.inversePatches_)):t=Dc(e,n,[]),Qp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Tg?t:void 0}function Dc(t,e,n){if(Md(e))return e;const r=e[Qt];if(!r)return Ga(e,(i,s)=>_0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Lc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Ga(s,(a,u)=>_0(t,r,i,a,u,n,o)),Lc(t,i,!1),n&&t.patches_&&Xi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function _0(t,e,n,r,i,s,o){if(Mn(i)){const a=s&&e&&e.type_!==3&&!Ya(e.assigned_,r)?s.concat(r):void 0,u=Dc(t,i,a);if(pS(n,r,u),Mn(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(jn(i)&&!Md(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Dc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Lc(t,i)}}function Lc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Rg(e,n)}function Fb(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:mS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=xg;n&&(i=[r],s=Ja);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var xg={get(t,e){if(e===Qt)return t;const n=bi(t);if(!Ya(n,e))return Ub(t,n,e);const r=n[e];return t.finalized_||!jn(r)?r:r===gf(t.base_,e)?(vf(t),t.copy_[e]=qp(r,t)):r},has(t,e){return e in bi(t)},ownKeys(t){return Reflect.ownKeys(bi(t))},set(t,e,n){const r=gS(bi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=gf(bi(t),e),s=i==null?void 0:i[Qt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ob(n,i)&&(n!==void 0||Ya(t.base_,e)))return!0;vf(t),$p(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return gf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,vf(t),$p(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){it(11)},getPrototypeOf(t){return Gi(t.base_)},setPrototypeOf(){it(12)}},Ja={};Ga(xg,(t,e)=>{Ja[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ja.deleteProperty=function(t,e){return Ja.set.call(this,t,e,void 0)};Ja.set=function(t,e,n){return xg.set.call(this,t[0],e,n,t[0])};function gf(t,e){const n=t[Qt];return(n?bi(n):t)[e]}function Ub(t,e,n){var i;const r=gS(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function gS(t,e){if(!(e in t))return;let n=Gi(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Gi(n)}}function $p(t){t.modified_||(t.modified_=!0,t.parent_&&$p(t.parent_))}function vf(t){t.copy_||(t.copy_=zp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Bb=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,p=>n.call(this,p,...c))}}typeof n!="function"&&it(6),r!==void 0&&typeof r!="function"&&it(7);let i;if(jn(e)){const s=v0(this),o=qp(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Qp(s):Hp(s)}return g0(s,r),y0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Tg&&(i=void 0),this.autoFreeze_&&Rg(i,!0),r){const s=[],o=[];Xi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else it(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){jn(t)||it(8),Mn(t)&&(t=vS(t));const e=v0(this),n=qp(t,void 0);return n[Qt].isManual_=!0,Hp(e),n}finishDraft(t,e){const n=t&&t[Qt];(!n||!n.isManual_)&&it(9);const{scope_:r}=n;return g0(r,e),y0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xi("Patches").applyPatches_;return Mn(t)?r(t,e):this.produce(t,i=>r(i,e))}};function qp(t,e){const n=Tl(t)?Xi("MapSet").proxyMap_(t,e):Rl(t)?Xi("MapSet").proxySet_(t,e):Fb(t,e);return(e?e.scope_:mS()).drafts_.push(n),n}function vS(t){return Mn(t)||it(10,t),yS(t)}function yS(t){if(!jn(t)||Md(t))return t;const e=t[Qt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=zp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=zp(t,!0);return Ga(n,(r,i)=>{pS(n,r,yS(i))}),e&&(e.finalized_=!1),n}function Vb(){const e="replace",n="add",r="remove";function i(d,v,E,k){switch(d.type_){case 0:case 2:return o(d,v,E,k);case 1:return s(d,v,E,k);case 3:return a(d,v,E,k)}}function s(d,v,E,k){let{base_:T,assigned_:A}=d,y=d.copy_;y.length<T.length&&([T,y]=[y,T],[E,k]=[k,E]);for(let g=0;g<T.length;g++)if(A[g]&&y[g]!==T[g]){const C=v.concat([g]);E.push({op:e,path:C,value:f(y[g])}),k.push({op:e,path:C,value:f(T[g])})}for(let g=T.length;g<y.length;g++){const C=v.concat([g]);E.push({op:n,path:C,value:f(y[g])})}for(let g=y.length-1;T.length<=g;--g){const C=v.concat([g]);k.push({op:r,path:C})}}function o(d,v,E,k){const{base_:T,copy_:A}=d;Ga(d.assigned_,(y,g)=>{const C=mf(T,y),N=mf(A,y),D=g?Ya(T,y)?e:n:r;if(C===N&&D===e)return;const S=v.concat(y);E.push(D===r?{op:D,path:S}:{op:D,path:S,value:N}),k.push(D===n?{op:r,path:S}:D===r?{op:n,path:S,value:f(C)}:{op:e,path:S,value:f(C)})})}function a(d,v,E,k){let{base_:T,copy_:A}=d,y=0;T.forEach(g=>{if(!A.has(g)){const C=v.concat([y]);E.push({op:r,path:C,value:g}),k.unshift({op:n,path:C,value:g})}y++}),y=0,A.forEach(g=>{if(!T.has(g)){const C=v.concat([y]);E.push({op:n,path:C,value:g}),k.unshift({op:r,path:C,value:g})}y++})}function u(d,v,E,k){E.push({op:e,path:[],value:v===Tg?void 0:v}),k.push({op:e,path:[],value:d})}function c(d,v){return v.forEach(E=>{const{path:k,op:T}=E;let A=d;for(let N=0;N<k.length-1;N++){const D=Yi(A);let S=k[N];typeof S!="string"&&typeof S!="number"&&(S=""+S),(D===0||D===1)&&(S==="__proto__"||S==="constructor")&&it(19),typeof A=="function"&&S==="prototype"&&it(19),A=mf(A,S),typeof A!="object"&&it(18,k.join("/"))}const y=Yi(A),g=p(E.value),C=k[k.length-1];switch(T){case e:switch(y){case 2:return A.set(C,g);case 3:it(16);default:return A[C]=g}case n:switch(y){case 1:return C==="-"?A.push(g):A.splice(C,0,g);case 2:return A.set(C,g);case 3:return A.add(g);default:return A[C]=g}case r:switch(y){case 1:return A.splice(C,1);case 2:return A.delete(C);case 3:return A.delete(E.value);default:return delete A[C]}default:it(17,T)}}),d}function p(d){if(!jn(d))return d;if(Array.isArray(d))return d.map(p);if(Tl(d))return new Map(Array.from(d.entries()).map(([E,k])=>[E,p(k)]));if(Rl(d))return new Set(Array.from(d).map(p));const v=Object.create(Gi(d));for(const E in d)v[E]=p(d[E]);return Ya(d,Ca)&&(v[Ca]=d[Ca]),v}function f(d){return Mn(d)?p(d):d}Lb("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:u})}var nn=new Bb,xl=nn.produce,_S=nn.produceWithPatches.bind(nn);nn.setAutoFreeze.bind(nn);nn.setUseStrictShallowCopy.bind(nn);var w0=nn.applyPatches.bind(nn);nn.createDraft.bind(nn);nn.finishDraft.bind(nn);function zb(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Wb(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Qb(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var E0=t=>Array.isArray(t)?t:[t];function Hb(t){const e=Array.isArray(t[0])?t[0]:t;return Qb(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function $b(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var qb=class{constructor(t){this.value=t}deref(){return this.value}},Kb=typeof WeakRef<"u"?WeakRef:qb,Gb=0,C0=1;function Iu(){return{s:Gb,v:void 0,o:null,p:null}}function Za(t,e={}){let n=Iu();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var f;let a=n;const{length:u}=arguments;for(let d=0,v=u;d<v;d++){const E=arguments[d];if(typeof E=="function"||typeof E=="object"&&E!==null){let k=a.o;k===null&&(a.o=k=new WeakMap);const T=k.get(E);T===void 0?(a=Iu(),k.set(E,a)):a=T}else{let k=a.p;k===null&&(a.p=k=new Map);const T=k.get(E);T===void 0?(a=Iu(),k.set(E,a)):a=T}}const c=a;let p;if(a.s===C0?p=a.v:(p=t.apply(null,arguments),s++),c.s=C0,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,p)&&(p=d,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Kb(p):p}return c.v=p,p}return o.clearCache=()=>{n=Iu(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function wS(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),zb(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const p={...n,...u},{memoize:f,memoizeOptions:d=[],argsMemoize:v=Za,argsMemoizeOptions:E=[],devModeChecks:k={}}=p,T=E0(d),A=E0(E),y=Hb(i),g=f(function(){return s++,c.apply(null,arguments)},...T),C=v(function(){o++;const D=$b(y,arguments);return a=g.apply(null,D),a},...A);return Object.assign(C,{resultFunc:c,memoizedResultFunc:g,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var bg=wS(Za),Yb=Object.assign((t,e=bg)=>{Wb(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>Yb});function ES(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Xb=ES(),Jb=ES,Zb=(...t)=>{const e=wS(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Mn(o)?vS(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};Zb(Za);var eN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Oc:Oc.apply(null,arguments)},tN=t=>t&&typeof t.match=="function";function xt(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(pt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>hS(r)&&r.type===t,n}var CS=class ua extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ua.prototype)}static get[Symbol.species](){return ua}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ua(...e[0].concat(this)):new ua(...e.concat(this))}};function S0(t){return jn(t)?xl(t,()=>{}):t}function A0(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(pt(10));const r=n.insert(e,t);return t.set(e,r),r}function nN(t){return typeof t=="boolean"}var rN=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new CS;return n&&(nN(n)?o.push(Xb):o.push(Jb(n.extraArgument))),o},js="RTK_autoBatch",Jo=()=>t=>({payload:t,meta:{[js]:!0}}),SS=t=>e=>{setTimeout(e,t)},iN=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SS(10),sN=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?iN:t.type==="callback"?t.queueNotification:SS(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const f=()=>i&&p(),d=r.subscribe(f);return a.add(p),()=>{d(),a.delete(p)}},dispatch(p){var f;try{return i=!((f=p==null?void 0:p.meta)!=null&&f[js]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(p)}finally{i=!0}}})},oN=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new CS(t);return r&&i.push(sN(typeof r=="object"?r:void 0)),i},aN=!0;function lN(t){const e=rN(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Xn(n))a=dS(n);else throw new Error(pt(1));let u;typeof r=="function"?u=r(e):u=e();let c=Oc;i&&(c=eN({trace:!aN,...typeof i=="object"&&i}));const p=bb(...u),f=oN(p);let d=typeof o=="function"?o(f):f();const v=c(...d);return cS(a,s,v)}function AS(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(pt(28));if(a in e)throw new Error(pt(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function uN(t){return typeof t=="function"}function cN(t,e){let[n,r,i]=AS(e),s;if(uN(t))s=()=>S0(t());else{const a=S0(t);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return c.filter(p=>!!p).length===0&&(c=[i]),c.reduce((p,f)=>{if(f)if(Mn(p)){const v=f(p,u);return v===void 0?p:v}else{if(jn(p))return xl(p,d=>f(d,u));{const d=f(p,u);if(d===void 0){if(p===null)return p;throw new Error(pt(9))}return d}}return p},a)}return o.getInitialState=s,o}var dN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ng=(t=21)=>{let e="",n=t;for(;n--;)e+=dN[Math.random()*64|0];return e},kS=(t,e)=>tN(t)?t.match(e):t(e);function _r(...t){return e=>t.some(n=>kS(n,e))}function Sa(...t){return e=>t.every(n=>kS(n,e))}function jd(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function bl(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Pg(...t){return t.length===0?e=>jd(e,["pending"]):bl(t)?e=>{const n=t.map(i=>i.pending);return _r(...n)(e)}:Pg()(t[0])}function oo(...t){return t.length===0?e=>jd(e,["rejected"]):bl(t)?e=>{const n=t.map(i=>i.rejected);return _r(...n)(e)}:oo()(t[0])}function Fd(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?n=>Sa(oo(...t),e)(n):bl(t)?n=>Sa(oo(...t),e)(n):Fd()(t[0])}function li(...t){return t.length===0?e=>jd(e,["fulfilled"]):bl(t)?e=>{const n=t.map(i=>i.fulfilled);return _r(...n)(e)}:li()(t[0])}function Kp(...t){return t.length===0?e=>jd(e,["pending","fulfilled","rejected"]):bl(t)?e=>{const n=[];for(const i of t)n.push(i.pending,i.rejected,i.fulfilled);return _r(...n)(e)}:Kp()(t[0])}var hN=["name","message","stack","code"],yf=class{constructor(t,e){Uh(this,"_type");this.payload=t,this.meta=e}},k0=class{constructor(t,e){Uh(this,"_type");this.payload=t,this.meta=e}},fN=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of hN)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},I0=(()=>{function t(e,n,r){const i=xt(e+"/fulfilled",(u,c,p,f)=>({payload:u,meta:{...f||{},arg:p,requestId:c,requestStatus:"fulfilled"}})),s=xt(e+"/pending",(u,c,p)=>({payload:void 0,meta:{...p||{},arg:c,requestId:u,requestStatus:"pending"}})),o=xt(e+"/rejected",(u,c,p,f,d)=>({payload:f,error:(r&&r.serializeError||fN)(u||"Rejected"),meta:{...d||{},arg:p,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u){return(c,p,f)=>{const d=r!=null&&r.idGenerator?r.idGenerator(u):Ng(),v=new AbortController;let E,k;function T(y){k=y,v.abort()}const A=async function(){var C,N;let y;try{let D=(C=r==null?void 0:r.condition)==null?void 0:C.call(r,u,{getState:p,extra:f});if(mN(D)&&(D=await D),D===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const S=new Promise((w,I)=>{E=()=>{I({name:"AbortError",message:k||"Aborted"})},v.signal.addEventListener("abort",E)});c(s(d,u,(N=r==null?void 0:r.getPendingMeta)==null?void 0:N.call(r,{requestId:d,arg:u},{getState:p,extra:f}))),y=await Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:p,extra:f,requestId:d,signal:v.signal,abort:T,rejectWithValue:(w,I)=>new yf(w,I),fulfillWithValue:(w,I)=>new k0(w,I)})).then(w=>{if(w instanceof yf)throw w;return w instanceof k0?i(w.payload,d,u,w.meta):i(w,d,u)})])}catch(D){y=D instanceof yf?o(null,d,u,D.payload,D.meta):o(D,d,u)}finally{E&&v.signal.removeEventListener("abort",E)}return r&&!r.dispatchConditionRejection&&o.match(y)&&y.meta.condition||c(y),y}();return Object.assign(A,{abort:T,requestId:d,arg:u,unwrap(){return A.then(pN)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:_r(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function pN(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function mN(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var gN=Symbol.for("rtk-slice-createasyncthunk");function vN(t,e){return`${t}/${e}`}function yN({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[gN];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(pt(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(wN()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(g,C){const N=typeof g=="string"?g:g.type;if(!N)throw new Error(pt(12));if(N in c.sliceCaseReducersByType)throw new Error(pt(13));return c.sliceCaseReducersByType[N]=C,p},addMatcher(g,C){return c.sliceMatchers.push({matcher:g,reducer:C}),p},exposeAction(g,C){return c.actionCreators[g]=C,p},exposeCaseReducer(g,C){return c.sliceCaseReducersByName[g]=C,p}};u.forEach(g=>{const C=a[g],N={reducerName:g,type:vN(s,g),createNotation:typeof i.reducers=="function"};CN(C)?AN(N,C,p,e):EN(N,C,p)});function f(){const[g={},C=[],N=void 0]=typeof i.extraReducers=="function"?AS(i.extraReducers):[i.extraReducers],D={...g,...c.sliceCaseReducersByType};return cN(i.initialState,S=>{for(let w in D)S.addCase(w,D[w]);for(let w of c.sliceMatchers)S.addMatcher(w.matcher,w.reducer);for(let w of C)S.addMatcher(w.matcher,w.reducer);N&&S.addDefaultCase(N)})}const d=g=>g,v=new Map;let E;function k(g,C){return E||(E=f()),E(g,C)}function T(){return E||(E=f()),E.getInitialState()}function A(g,C=!1){function N(S){let w=S[g];return typeof w>"u"&&C&&(w=T()),w}function D(S=d){const w=A0(v,C,{insert:()=>new WeakMap});return A0(w,S,{insert:()=>{const I={};for(const[R,P]of Object.entries(i.selectors??{}))I[R]=_N(P,S,T,C);return I}})}return{reducerPath:g,getSelectors:D,get selectors(){return D(N)},selectSlice:N}}const y={name:s,reducer:k,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:T,...A(o),injectInto(g,{reducerPath:C,...N}={}){const D=C??o;return g.inject({reducerPath:D,reducer:k},N),{...y,...A(D,!0)}}};return y}}function _N(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var It=yN();function wN(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function EN({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!SN(r))throw new Error(pt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?xt(t,o):xt(t))}function CN(t){return t._reducerDefinitionType==="asyncThunk"}function SN(t){return t._reducerDefinitionType==="reducerWithPrepare"}function AN({type:t,reducerName:e},n,r,i){if(!i)throw new Error(pt(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:p}=n,f=i(t,s,p);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Tu,pending:a||Tu,rejected:u||Tu,settled:c||Tu})}function Tu(){}var kN=(t,e)=>{if(typeof t!="function")throw new Error(pt(32))},Og="listenerMiddleware",IN=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=xt(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(pt(21));return kN(s),{predicate:i,type:e,effect:s}},TN=Object.assign(t=>{const{type:e,predicate:n,effect:r}=IN(t);return{id:Ng(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(pt(22))}}},{withTypes:()=>TN}),RN=Object.assign(xt(`${Og}/add`),{withTypes:()=>RN});xt(`${Og}/removeAll`);var xN=Object.assign(xt(`${Og}/remove`),{withTypes:()=>xN});function pt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IS=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(IS||{});function bN(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}function NN(t){return new RegExp("(^|:)//").test(t)}var PN=t=>t.replace(/\/$/,""),ON=t=>t.replace(/^\//,"");function DN(t,e){if(!t)return e;if(!e)return t;if(NN(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=PN(t),e=ON(e),`${t}${n}${e}`}var T0=t=>[].concat(...t);function LN(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function MN(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var R0=Xn;function TS(t,e){if(t===e||!(R0(t)&&R0(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let i=n.length===r.length;const s=Array.isArray(e)?[]:{};for(const o of n)s[o]=TS(t[o],e[o]),i&&(i=t[o]===s[o]);return i?t:s}var x0=(...t)=>fetch(...t),jN=t=>t.status>=200&&t.status<=299,FN=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function b0(t){if(!Xn(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}function Dg({baseUrl:t,prepareHeaders:e=f=>f,fetchFn:n=x0,paramsSerializer:r,isJsonContentType:i=FN,jsonContentType:s="application/json",jsonReplacer:o,timeout:a,responseHandler:u,validateStatus:c,...p}={}){return typeof fetch>"u"&&n===x0&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(d,v)=>{const{signal:E,getState:k,extra:T,endpoint:A,forced:y,type:g}=v;let C,{url:N,headers:D=new Headers(p.headers),params:S=void 0,responseHandler:w=u??"json",validateStatus:I=c??jN,timeout:R=a,...P}=typeof d=="string"?{url:d}:d,L={...p,signal:E,...P};D=new Headers(b0(D)),L.headers=await e(D,{getState:k,extra:T,endpoint:A,forced:y,type:g})||D;const b=K=>typeof K=="object"&&(Xn(K)||Array.isArray(K)||typeof K.toJSON=="function");if(!L.headers.has("content-type")&&b(L.body)&&L.headers.set("content-type",s),b(L.body)&&i(L.headers)&&(L.body=JSON.stringify(L.body,o)),S){const K=~N.indexOf("?")?"&":"?",z=r?r(S):new URLSearchParams(b0(S));N+=K+z}N=DN(t,N);const H=new Request(N,L);C={request:new Request(N,L)};let G,ee=!1,F=R&&setTimeout(()=>{ee=!0,v.abort()},R);try{G=await n(H)}catch(K){return{error:{status:ee?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(K)},meta:C}}finally{F&&clearTimeout(F)}const W=G.clone();C.response=W;let V,X="";try{let K;if(await Promise.all([f(G,w).then(z=>V=z,z=>K=z),W.text().then(z=>X=z,()=>{})]),K)throw K}catch(K){return{error:{status:"PARSING_ERROR",originalStatus:G.status,data:X,error:String(K)},meta:C}}return I(G,V)?{data:V,meta:C}:{error:{status:G.status,data:V},meta:C}};async function f(d,v){if(typeof v=="function")return v(d);if(v==="content-type"&&(v=i(d.headers)?"json":"text"),v==="json"){const E=await d.text();return E.length?JSON.parse(E):null}return d.text()}}var N0=class{constructor(t,e=void 0){this.value=t,this.meta=e}},el=xt("__rtkq/focused"),Mc=xt("__rtkq/unfocused"),tl=xt("__rtkq/online"),jc=xt("__rtkq/offline"),_f=!1;function UN(t,e){function n(){const r=()=>t(el()),i=()=>t(Mc()),s=()=>t(tl()),o=()=>t(jc()),a=()=>{window.document.visibilityState==="visible"?r():i()};return _f||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),_f=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",a),window.removeEventListener("online",s),window.removeEventListener("offline",o),_f=!1}}return e?e(t,{onFocus:el,onFocusLost:Mc,onOffline:jc,onOnline:tl}):n()}function RS(t){return t.type==="query"}function BN(t){return t.type==="mutation"}function Lg(t,e,n,r,i,s){return VN(t)?t(e,n,r,i).map(Gp).map(s):Array.isArray(t)?t.map(Gp).map(s):[]}function VN(t){return typeof t=="function"}function Gp(t){return typeof t=="string"?{type:t}:t}function P0(t){return t!=null}function Hs(t){let e=0;for(const n in t)e++;return e}function zN(t,e){return t.catch(e)}var nl=Symbol("forceQueryFn"),Yp=t=>typeof t[nl]=="function";function WN({serializeQueryArgs:t,queryThunk:e,mutationThunk:n,api:r,context:i}){const s=new Map,o=new Map,{unsubscribeQueryResult:a,removeMutationResult:u,updateSubscriptionOptions:c}=r.internalActions;return{buildInitiateQuery:E,buildInitiateMutation:k,getRunningQueryThunk:p,getRunningMutationThunk:f,getRunningQueriesThunk:d,getRunningMutationsThunk:v};function p(T,A){return y=>{var N;const g=i.endpointDefinitions[T],C=t({queryArgs:A,endpointDefinition:g,endpointName:T});return(N=s.get(y))==null?void 0:N[C]}}function f(T,A){return y=>{var g;return(g=o.get(y))==null?void 0:g[A]}}function d(){return T=>Object.values(s.get(T)||{}).filter(P0)}function v(){return T=>Object.values(o.get(T)||{}).filter(P0)}function E(T,A){const y=(g,{subscribe:C=!0,forceRefetch:N,subscriptionOptions:D,[nl]:S,...w}={})=>(I,R)=>{var K;const P=t({queryArgs:g,endpointDefinition:A,endpointName:T}),L=e({...w,type:"query",subscribe:C,forceRefetch:N,subscriptionOptions:D,endpointName:T,originalArgs:g,queryCacheKey:P,[nl]:S}),b=r.endpoints[T].select(g),H=I(L),$=b(R()),{requestId:G,abort:ee}=H,F=$.requestId!==G,W=(K=s.get(I))==null?void 0:K[P],V=()=>b(R()),X=Object.assign(S?H.then(V):F&&!W?Promise.resolve($):Promise.all([W,H]).then(V),{arg:g,requestId:G,subscriptionOptions:D,queryCacheKey:P,abort:ee,async unwrap(){const z=await X;if(z.isError)throw z.error;return z.data},refetch:()=>I(y(g,{subscribe:!1,forceRefetch:!0})),unsubscribe(){C&&I(a({queryCacheKey:P,requestId:G}))},updateSubscriptionOptions(z){X.subscriptionOptions=z,I(c({endpointName:T,requestId:G,queryCacheKey:P,options:z}))}});if(!W&&!F&&!S){const z=s.get(I)||{};z[P]=X,s.set(I,z),X.then(()=>{delete z[P],Hs(z)||s.delete(I)})}return X};return y}function k(T){return(A,{track:y=!0,fixedCacheKey:g}={})=>(C,N)=>{const D=n({type:"mutation",endpointName:T,originalArgs:A,track:y,fixedCacheKey:g}),S=C(D),{requestId:w,abort:I,unwrap:R}=S,P=zN(S.unwrap().then($=>({data:$})),$=>({error:$})),L=()=>{C(u({requestId:w,fixedCacheKey:g}))},b=Object.assign(P,{arg:S.arg,requestId:w,abort:I,unwrap:R,reset:L}),H=o.get(C)||{};return o.set(C,H),H[w]=b,b.then(()=>{delete H[w],Hs(H)||o.delete(C)}),g&&(H[g]=b,b.then(()=>{H[g]===b&&(delete H[g],Hs(H)||o.delete(C))})),b}}}function O0(t){return t}function QN({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:s}){const o=(y,g,C,N)=>(D,S)=>{const w=n[y],I=r({queryArgs:g,endpointDefinition:w,endpointName:y});if(D(i.internalActions.queryResultPatched({queryCacheKey:I,patches:C})),!N)return;const R=i.endpoints[y].select(g)(S()),P=Lg(w.providesTags,R.data,void 0,g,{},s);D(i.internalActions.updateProvidedBy({queryCacheKey:I,providedTags:P}))},a=(y,g,C,N=!0)=>(D,S)=>{const I=i.endpoints[y].select(g)(S());let R={patches:[],inversePatches:[],undo:()=>D(i.util.patchQueryData(y,g,R.inversePatches,N))};if(I.status==="uninitialized")return R;let P;if("data"in I)if(jn(I.data)){const[L,b,H]=_S(I.data,C);R.patches.push(...b),R.inversePatches.push(...H),P=L}else P=C(I.data),R.patches.push({op:"replace",path:[],value:P}),R.inversePatches.push({op:"replace",path:[],value:I.data});return R.patches.length===0||D(i.util.patchQueryData(y,g,R.patches,N)),R},u=(y,g,C)=>N=>N(i.endpoints[y].initiate(g,{subscribe:!1,forceRefetch:!0,[nl]:()=>({data:C})})),c=async(y,{signal:g,abort:C,rejectWithValue:N,fulfillWithValue:D,dispatch:S,getState:w,extra:I})=>{const R=n[y.endpointName];try{let P=O0,L;const b={signal:g,abort:C,dispatch:S,getState:w,extra:I,endpoint:y.endpointName,type:y.type,forced:y.type==="query"?p(y,w()):void 0},H=y.type==="query"?y[nl]:void 0;if(H?L=H():R.query?(L=await e(R.query(y.originalArgs),b,R.extraOptions),R.transformResponse&&(P=R.transformResponse)):L=await R.queryFn(y.originalArgs,b,R.extraOptions,$=>e($,b,R.extraOptions)),typeof process<"u",L.error)throw new N0(L.error,L.meta);return D(await P(L.data,L.meta,y.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:L.meta,[js]:!0})}catch(P){let L=P;if(L instanceof N0){let b=O0;R.query&&R.transformErrorResponse&&(b=R.transformErrorResponse);try{return N(await b(L.value,L.meta,y.originalArgs),{baseQueryMeta:L.meta,[js]:!0})}catch(H){L=H}}throw typeof process<"u",console.error(L),L}};function p(y,g){var w,I,R;const C=(I=(w=g[t])==null?void 0:w.queries)==null?void 0:I[y.queryCacheKey],N=(R=g[t])==null?void 0:R.config.refetchOnMountOrArgChange,D=C==null?void 0:C.fulfilledTimeStamp,S=y.forceRefetch??(y.subscribe&&N);return S?S===!0||(Number(new Date)-Number(D))/1e3>=S:!1}const f=I0(`${t}/executeQuery`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[js]:!0}},condition(y,{getState:g}){var R,P,L;const C=g(),N=(P=(R=C[t])==null?void 0:R.queries)==null?void 0:P[y.queryCacheKey],D=N==null?void 0:N.fulfilledTimeStamp,S=y.originalArgs,w=N==null?void 0:N.originalArgs,I=n[y.endpointName];return Yp(y)?!0:(N==null?void 0:N.status)==="pending"?!1:p(y,C)||RS(I)&&((L=I==null?void 0:I.forceRefetch)!=null&&L.call(I,{currentArg:S,previousArg:w,endpointState:N,state:C}))?!0:!D},dispatchConditionRejection:!0}),d=I0(`${t}/executeMutation`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[js]:!0}}}),v=y=>"force"in y,E=y=>"ifOlderThan"in y,k=(y,g,C)=>(N,D)=>{const S=v(C)&&C.force,w=E(C)&&C.ifOlderThan,I=(P=!0)=>{const L={forceRefetch:P,isPrefetch:!0};return i.endpoints[y].initiate(g,L)},R=i.endpoints[y].select(g)(D());if(S)N(I());else if(w){const P=R==null?void 0:R.fulfilledTimeStamp;if(!P){N(I());return}(Number(new Date)-Number(new Date(P)))/1e3>=w&&N(I())}else N(I(!1))};function T(y){return g=>{var C,N;return((N=(C=g==null?void 0:g.meta)==null?void 0:C.arg)==null?void 0:N.endpointName)===y}}function A(y,g){return{matchPending:Sa(Pg(y),T(g)),matchFulfilled:Sa(li(y),T(g)),matchRejected:Sa(oo(y),T(g))}}return{queryThunk:f,mutationThunk:d,prefetch:k,updateQueryData:a,upsertQueryData:u,patchQueryData:o,buildMatchThunkActions:A}}function xS(t,e,n,r){return Lg(n[t.meta.arg.endpointName][e],li(t)?t.payload:void 0,Fd(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function Ru(t,e,n){const r=t[e];r&&n(r)}function rl(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function D0(t,e,n){const r=t[rl(e)];r&&n(r)}var Zo={};function HN({reducerPath:t,queryThunk:e,mutationThunk:n,context:{endpointDefinitions:r,apiUid:i,extractRehydrationInfo:s,hasRehydrationInfo:o},assertTagType:a,config:u}){const c=xt(`${t}/resetApiState`),p=It({name:`${t}/queries`,initialState:Zo,reducers:{removeQueryResult:{reducer(g,{payload:{queryCacheKey:C}}){delete g[C]},prepare:Jo()},queryResultPatched:{reducer(g,{payload:{queryCacheKey:C,patches:N}}){Ru(g,C,D=>{D.data=w0(D.data,N.concat())})},prepare:Jo()}},extraReducers(g){g.addCase(e.pending,(C,{meta:N,meta:{arg:D}})=>{var w;const S=Yp(D);C[w=D.queryCacheKey]??(C[w]={status:"uninitialized",endpointName:D.endpointName}),Ru(C,D.queryCacheKey,I=>{I.status="pending",I.requestId=S&&I.requestId?I.requestId:N.requestId,D.originalArgs!==void 0&&(I.originalArgs=D.originalArgs),I.startedTimeStamp=N.startedTimeStamp})}).addCase(e.fulfilled,(C,{meta:N,payload:D})=>{Ru(C,N.arg.queryCacheKey,S=>{if(S.requestId!==N.requestId&&!Yp(N.arg))return;const{merge:w}=r[N.arg.endpointName];if(S.status="fulfilled",w)if(S.data!==void 0){const{fulfilledTimeStamp:I,arg:R,baseQueryMeta:P,requestId:L}=N;let b=xl(S.data,H=>w(H,D,{arg:R.originalArgs,baseQueryMeta:P,fulfilledTimeStamp:I,requestId:L}));S.data=b}else S.data=D;else S.data=r[N.arg.endpointName].structuralSharing??!0?TS(Mn(S.data)?Pb(S.data):S.data,D):D;delete S.error,S.fulfilledTimeStamp=N.fulfilledTimeStamp})}).addCase(e.rejected,(C,{meta:{condition:N,arg:D,requestId:S},error:w,payload:I})=>{Ru(C,D.queryCacheKey,R=>{if(!N){if(R.requestId!==S)return;R.status="rejected",R.error=I??w}})}).addMatcher(o,(C,N)=>{const{queries:D}=s(N);for(const[S,w]of Object.entries(D))((w==null?void 0:w.status)==="fulfilled"||(w==null?void 0:w.status)==="rejected")&&(C[S]=w)})}}),f=It({name:`${t}/mutations`,initialState:Zo,reducers:{removeMutationResult:{reducer(g,{payload:C}){const N=rl(C);N in g&&delete g[N]},prepare:Jo()}},extraReducers(g){g.addCase(n.pending,(C,{meta:N,meta:{requestId:D,arg:S,startedTimeStamp:w}})=>{S.track&&(C[rl(N)]={requestId:D,status:"pending",endpointName:S.endpointName,startedTimeStamp:w})}).addCase(n.fulfilled,(C,{payload:N,meta:D})=>{D.arg.track&&D0(C,D,S=>{S.requestId===D.requestId&&(S.status="fulfilled",S.data=N,S.fulfilledTimeStamp=D.fulfilledTimeStamp)})}).addCase(n.rejected,(C,{payload:N,error:D,meta:S})=>{S.arg.track&&D0(C,S,w=>{w.requestId===S.requestId&&(w.status="rejected",w.error=N??D)})}).addMatcher(o,(C,N)=>{const{mutations:D}=s(N);for(const[S,w]of Object.entries(D))((w==null?void 0:w.status)==="fulfilled"||(w==null?void 0:w.status)==="rejected")&&S!==(w==null?void 0:w.requestId)&&(C[S]=w)})}}),d=It({name:`${t}/invalidation`,initialState:Zo,reducers:{updateProvidedBy:{reducer(g,C){var S,w;const{queryCacheKey:N,providedTags:D}=C.payload;for(const I of Object.values(g))for(const R of Object.values(I)){const P=R.indexOf(N);P!==-1&&R.splice(P,1)}for(const{type:I,id:R}of D){const P=(S=g[I]??(g[I]={}))[w=R||"__internal_without_id"]??(S[w]=[]);P.includes(N)||P.push(N)}},prepare:Jo()}},extraReducers(g){g.addCase(p.actions.removeQueryResult,(C,{payload:{queryCacheKey:N}})=>{for(const D of Object.values(C))for(const S of Object.values(D)){const w=S.indexOf(N);w!==-1&&S.splice(w,1)}}).addMatcher(o,(C,N)=>{var S,w;const{provided:D}=s(N);for(const[I,R]of Object.entries(D))for(const[P,L]of Object.entries(R)){const b=(S=C[I]??(C[I]={}))[w=P||"__internal_without_id"]??(S[w]=[]);for(const H of L)b.includes(H)||b.push(H)}}).addMatcher(_r(li(e),Fd(e)),(C,N)=>{const D=xS(N,"providesTags",r,a),{queryCacheKey:S}=N.meta.arg;d.caseReducers.updateProvidedBy(C,d.actions.updateProvidedBy({queryCacheKey:S,providedTags:D}))})}}),v=It({name:`${t}/subscriptions`,initialState:Zo,reducers:{updateSubscriptionOptions(g,C){},unsubscribeQueryResult(g,C){},internal_getRTKQSubscriptions(){}}}),E=It({name:`${t}/internalSubscriptions`,initialState:Zo,reducers:{subscriptionsUpdated:{reducer(g,C){return w0(g,C.payload)},prepare:Jo()}}}),k=It({name:`${t}/config`,initialState:{online:LN(),focused:MN(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(g,{payload:C}){g.middlewareRegistered=g.middlewareRegistered==="conflict"||i!==C?"conflict":!0}},extraReducers:g=>{g.addCase(tl,C=>{C.online=!0}).addCase(jc,C=>{C.online=!1}).addCase(el,C=>{C.focused=!0}).addCase(Mc,C=>{C.focused=!1}).addMatcher(o,C=>({...C}))}}),T=dS({queries:p.reducer,mutations:f.reducer,provided:d.reducer,subscriptions:E.reducer,config:k.reducer}),A=(g,C)=>T(c.match(C)?void 0:g,C),y={...k.actions,...p.actions,...v.actions,...E.actions,...f.actions,...d.actions,resetApiState:c};return{reducer:A,actions:y}}var Mi=Symbol.for("RTKQ/skipToken"),bS={status:"uninitialized"},L0=xl(bS,()=>{}),M0=xl(bS,()=>{});function $N({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=f=>L0,i=f=>M0;return{buildQuerySelector:a,buildMutationSelector:u,selectInvalidatedBy:c,selectCachedArgsForQuery:p};function s(f){return{...f,...bN(f.status)}}function o(f){return f[e]}function a(f,d){return v=>{const E=t({queryArgs:v,endpointDefinition:d,endpointName:f});return n(v===Mi?r:A=>{var y,g;return((g=(y=o(A))==null?void 0:y.queries)==null?void 0:g[E])??L0},s)}}function u(){return f=>{let d;return typeof f=="object"?d=rl(f)??Mi:d=f,n(d===Mi?i:k=>{var T,A;return((A=(T=o(k))==null?void 0:T.mutations)==null?void 0:A[d])??M0},s)}}function c(f,d){const v=f[e],E=new Set;for(const k of d.map(Gp)){const T=v.provided[k.type];if(!T)continue;let A=(k.id!==void 0?T[k.id]:T0(Object.values(T)))??[];for(const y of A)E.add(y)}return T0(Array.from(E.values()).map(k=>{const T=v.queries[k];return T?[{queryCacheKey:k,endpointName:T.endpointName,originalArgs:T.originalArgs}]:[]}))}function p(f,d){return Object.values(f[e].queries).filter(v=>(v==null?void 0:v.endpointName)===d&&v.status!=="uninitialized").map(v=>v.originalArgs)}}var Es=WeakMap?new WeakMap:void 0,j0=({endpointName:t,queryArgs:e})=>{let n="";const r=Es==null?void 0:Es.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,o)=>Xn(o)?Object.keys(o).sort().reduce((a,u)=>(a[u]=o[u],a),{}):o);Xn(e)&&(Es==null||Es.set(e,i)),n=i}return`${t}(${n})`};function qN(...t){return function(n){const r=Za(c=>{var p;return(p=n.extractRehydrationInfo)==null?void 0:p.call(n,c,{reducerPath:n.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(c){let p=j0;if("serializeQueryArgs"in c.endpointDefinition){const f=c.endpointDefinition.serializeQueryArgs;p=d=>{const v=f(d);return typeof v=="string"?v:j0({...d,queryArgs:v})}}else n.serializeQueryArgs&&(p=n.serializeQueryArgs);return p(c)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(c){c()},apiUid:Ng(),extractRehydrationInfo:r,hasRehydrationInfo:Za(c=>r(c)!=null)},o={injectEndpoints:u,enhanceEndpoints({addTagTypes:c,endpoints:p}){if(c)for(const f of c)i.tagTypes.includes(f)||i.tagTypes.push(f);if(p)for(const[f,d]of Object.entries(p))typeof d=="function"?d(s.endpointDefinitions[f]):Object.assign(s.endpointDefinitions[f]||{},d);return o}},a=t.map(c=>c.init(o,i,s));function u(c){const p=c.endpoints({query:f=>({...f,type:"query"}),mutation:f=>({...f,type:"mutation"})});for(const[f,d]of Object.entries(p)){if(c.overrideExisting!==!0&&f in s.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(pt(39));typeof process<"u";continue}s.endpointDefinitions[f]=d;for(const v of a)v.injectEndpoint(f,d)}return o}return o.injectEndpoints({endpoints:n.endpoints})}}function KN(t){for(let e in t)return!1;return!0}var GN=2147483647/1e3-1,YN=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:o}=e.internalActions,a=_r(o.match,n.fulfilled,n.rejected);function u(d){const v=i.currentSubscriptions[d];return!!v&&!KN(v)}const c={},p=(d,v,E)=>{var k;if(a(d)){const T=v.getState()[t],{queryCacheKey:A}=o.match(d)?d.payload:d.meta.arg;f(A,(k=T.queries[A])==null?void 0:k.endpointName,v,T.config)}if(e.util.resetApiState.match(d))for(const[T,A]of Object.entries(c))A&&clearTimeout(A),delete c[T];if(r.hasRehydrationInfo(d)){const T=v.getState()[t],{queries:A}=r.extractRehydrationInfo(d);for(const[y,g]of Object.entries(A))f(y,g==null?void 0:g.endpointName,v,T.config)}};function f(d,v,E,k){const T=r.endpointDefinitions[v],A=(T==null?void 0:T.keepUnusedDataFor)??k.keepUnusedDataFor;if(A===1/0)return;const y=Math.max(0,Math.min(A,GN));if(!u(d)){const g=c[d];g&&clearTimeout(g),c[d]=setTimeout(()=>{u(d)||E.dispatch(s({queryCacheKey:d})),delete c[d]},y*1e3)}}return p},XN=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:u})=>{const{removeQueryResult:c}=s.internalActions,p=_r(li(r),Fd(r)),f=_r(li(r,i),oo(r,i));let d=[];const v=(T,A)=>{p(T)?k(xS(T,"invalidatesTags",n,o),A):f(T)?k([],A):s.util.invalidateTags.match(T)&&k(Lg(T.payload,void 0,void 0,void 0,void 0,o),A)};function E(T){var A,y;for(const g in T.queries)if(((A=T.queries[g])==null?void 0:A.status)==="pending")return!0;for(const g in T.mutations)if(((y=T.mutations[g])==null?void 0:y.status)==="pending")return!0;return!1}function k(T,A){const y=A.getState(),g=y[t];if(d.push(...T),g.config.invalidationBehavior==="delayed"&&E(g))return;const C=d;if(d=[],C.length===0)return;const N=s.util.selectInvalidatedBy(y,C);e.batch(()=>{const D=Array.from(N.values());for(const{queryCacheKey:S}of D){const w=g.queries[S],I=u.currentSubscriptions[S]??{};w&&(Hs(I)===0?A.dispatch(c({queryCacheKey:S})):w.status!=="uninitialized"&&A.dispatch(a(w,S)))}})}return v},JN=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:i})=>{const s={},o=(d,v)=>{(n.internalActions.updateSubscriptionOptions.match(d)||n.internalActions.unsubscribeQueryResult.match(d))&&u(d.payload,v),(e.pending.match(d)||e.rejected.match(d)&&d.meta.condition)&&u(d.meta.arg,v),(e.fulfilled.match(d)||e.rejected.match(d)&&!d.meta.condition)&&a(d.meta.arg,v),n.util.resetApiState.match(d)&&p()};function a({queryCacheKey:d},v){const E=v.getState()[t],k=E.queries[d],T=i.currentSubscriptions[d];if(!k||k.status==="uninitialized")return;const{lowestPollingInterval:A,skipPollingIfUnfocused:y}=f(T);if(!Number.isFinite(A))return;const g=s[d];g!=null&&g.timeout&&(clearTimeout(g.timeout),g.timeout=void 0);const C=Date.now()+A;s[d]={nextPollTimestamp:C,pollingInterval:A,timeout:setTimeout(()=>{(E.config.focused||!y)&&v.dispatch(r(k,d)),a({queryCacheKey:d},v)},A)}}function u({queryCacheKey:d},v){const k=v.getState()[t].queries[d],T=i.currentSubscriptions[d];if(!k||k.status==="uninitialized")return;const{lowestPollingInterval:A}=f(T);if(!Number.isFinite(A)){c(d);return}const y=s[d],g=Date.now()+A;(!y||g<y.nextPollTimestamp)&&a({queryCacheKey:d},v)}function c(d){const v=s[d];v!=null&&v.timeout&&clearTimeout(v.timeout),delete s[d]}function p(){for(const d of Object.keys(s))c(d)}function f(d={}){let v=!1,E=Number.POSITIVE_INFINITY;for(let k in d)d[k].pollingInterval&&(E=Math.min(d[k].pollingInterval,E),v=d[k].skipPollingIfUnfocused||v);return{lowestPollingInterval:E,skipPollingIfUnfocused:v}}return o},ZN=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=n.internalActions,o=(u,c)=>{el.match(u)&&a(c,"refetchOnFocus"),tl.match(u)&&a(c,"refetchOnReconnect")};function a(u,c){const p=u.getState()[t],f=p.queries,d=i.currentSubscriptions;e.batch(()=>{for(const v of Object.keys(d)){const E=f[v],k=d[v];if(!k||!E)continue;(Object.values(k).some(A=>A[c]===!0)||Object.values(k).every(A=>A[c]===void 0)&&p.config[c])&&(Hs(k)===0?u.dispatch(s({queryCacheKey:v})):E.status!=="uninitialized"&&u.dispatch(r(E,v)))}})}return o},F0=new Error("Promise never resolved before cacheEntryRemoved."),eP=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:i,internalState:s})=>{const o=Kp(r),a=Kp(i),u=li(r,i),c={},p=(v,E,k)=>{const T=f(v);if(r.pending.match(v)){const A=k[e].queries[T],y=E.getState()[e].queries[T];!A&&y&&d(v.meta.arg.endpointName,v.meta.arg.originalArgs,T,E,v.meta.requestId)}else if(i.pending.match(v))E.getState()[e].mutations[T]&&d(v.meta.arg.endpointName,v.meta.arg.originalArgs,T,E,v.meta.requestId);else if(u(v)){const A=c[T];A!=null&&A.valueResolved&&(A.valueResolved({data:v.payload,meta:v.meta.baseQueryMeta}),delete A.valueResolved)}else if(t.internalActions.removeQueryResult.match(v)||t.internalActions.removeMutationResult.match(v)){const A=c[T];A&&(delete c[T],A.cacheEntryRemoved())}else if(t.util.resetApiState.match(v))for(const[A,y]of Object.entries(c))delete c[A],y.cacheEntryRemoved()};function f(v){return o(v)?v.meta.arg.queryCacheKey:a(v)?v.meta.arg.fixedCacheKey??v.meta.requestId:t.internalActions.removeQueryResult.match(v)?v.payload.queryCacheKey:t.internalActions.removeMutationResult.match(v)?rl(v.payload):""}function d(v,E,k,T,A){const y=n.endpointDefinitions[v],g=y==null?void 0:y.onCacheEntryAdded;if(!g)return;let C={};const N=new Promise(P=>{C.cacheEntryRemoved=P}),D=Promise.race([new Promise(P=>{C.valueResolved=P}),N.then(()=>{throw F0})]);D.catch(()=>{}),c[k]=C;const S=t.endpoints[v].select(y.type==="query"?E:k),w=T.dispatch((P,L,b)=>b),I={...T,getCacheEntry:()=>S(T.getState()),requestId:A,extra:w,updateCachedData:y.type==="query"?P=>T.dispatch(t.util.updateQueryData(v,E,P)):void 0,cacheDataLoaded:D,cacheEntryRemoved:N},R=g(E,I);Promise.resolve(R).catch(P=>{if(P!==F0)throw P})}return p},tP=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const i=Pg(n,r),s=oo(n,r),o=li(n,r),a={};return(c,p)=>{var f,d;if(i(c)){const{requestId:v,arg:{endpointName:E,originalArgs:k}}=c.meta,T=e.endpointDefinitions[E],A=T==null?void 0:T.onQueryStarted;if(A){const y={},g=new Promise((S,w)=>{y.resolve=S,y.reject=w});g.catch(()=>{}),a[v]=y;const C=t.endpoints[E].select(T.type==="query"?k:v),N=p.dispatch((S,w,I)=>I),D={...p,getCacheEntry:()=>C(p.getState()),requestId:v,extra:N,updateCachedData:T.type==="query"?S=>p.dispatch(t.util.updateQueryData(E,k,S)):void 0,queryFulfilled:g};A(k,D)}}else if(o(c)){const{requestId:v,baseQueryMeta:E}=c.meta;(f=a[v])==null||f.resolve({data:c.payload,meta:E}),delete a[v]}else if(s(c)){const{requestId:v,rejectedWithValue:E,baseQueryMeta:k}=c.meta;(d=a[v])==null||d.reject({error:c.payload??c.error,isUnhandledError:!E,meta:k}),delete a[v]}}},nP=({api:t,context:{apiUid:e},reducerPath:n})=>(r,i)=>{t.util.resetApiState.match(r)&&i.dispatch(t.internalActions.middlewareRegistered(e)),typeof process<"u"},rP=({api:t,queryThunk:e,internalState:n})=>{const r=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=t.internalActions,u=(v,E)=>{var T,A,y;if(o.match(E)){const{queryCacheKey:g,requestId:C,options:N}=E.payload;return(T=v==null?void 0:v[g])!=null&&T[C]&&(v[g][C]=N),!0}if(a.match(E)){const{queryCacheKey:g,requestId:C}=E.payload;return v[g]&&delete v[g][C],!0}if(t.internalActions.removeQueryResult.match(E))return delete v[E.payload.queryCacheKey],!0;if(e.pending.match(E)){const{meta:{arg:g,requestId:C}}=E,N=v[A=g.queryCacheKey]??(v[A]={});return N[`${C}_running`]={},g.subscribe&&(N[C]=g.subscriptionOptions??N[C]??{}),!0}let k=!1;if(e.fulfilled.match(E)||e.rejected.match(E)){const g=v[E.meta.arg.queryCacheKey]||{},C=`${E.meta.requestId}_running`;k||(k=!!g[C]),delete g[C]}if(e.rejected.match(E)){const{meta:{condition:g,arg:C,requestId:N}}=E;if(g&&C.subscribe){const D=v[y=C.queryCacheKey]??(v[y]={});D[N]=C.subscriptionOptions??D[N]??{},k=!0}}return k},c=()=>n.currentSubscriptions,d={getSubscriptions:c,getSubscriptionCount:v=>{const k=c()[v]??{};return Hs(k)},isRequestSubscribed:(v,E)=>{var T;const k=c();return!!((T=k==null?void 0:k[v])!=null&&T[E])}};return(v,E)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(v))return i=n.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(v))return[!1,d];const k=u(n.currentSubscriptions,v);let T=!0;if(k){s||(s=setTimeout(()=>{const g=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,C]=_S(i,()=>g);E.next(t.internalActions.subscriptionsUpdated(C)),i=g,s=null},500));const A=typeof v.type=="string"&&!!v.type.startsWith(r),y=e.rejected.match(v)&&v.meta.condition&&!!v.meta.arg.subscribe;T=!A&&!y}return[T,!1]}};function iP(t){const{reducerPath:e,queryThunk:n,api:r,context:i}=t,{apiUid:s}=i,o={invalidateTags:xt(`${e}/invalidateTags`)},a=f=>f.type.startsWith(`${e}/`),u=[nP,YN,XN,JN,eP,tP];return{middleware:f=>{let d=!1;const E={...t,internalState:{currentSubscriptions:{}},refetchQuery:p,isThisApiSliceAction:a},k=u.map(y=>y(E)),T=rP(E),A=ZN(E);return y=>g=>{if(!hS(g))return y(g);d||(d=!0,f.dispatch(r.internalActions.middlewareRegistered(s)));const C={...f,next:y},N=f.getState(),[D,S]=T(g,C,N);let w;if(D?w=y(g):w=S,f.getState()[e]&&(A(g,C,N),a(g)||i.hasRehydrationInfo(g)))for(let I of k)I(g,C,N);return w}},actions:o};function p(f,d,v={}){return n({type:"query",endpointName:f.endpointName,originalArgs:f.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:d,...v})}}function xr(t,...e){return Object.assign(t,...e)}var U0=Symbol(),sP=({createSelector:t=bg}={})=>({name:U0,init(e,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:u,refetchOnReconnect:c,invalidationBehavior:p},f){Vb();const d=F=>(typeof process<"u",F);Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:tl,onOffline:jc,onFocus:el,onFocusLost:Mc},util:{}});const{queryThunk:v,mutationThunk:E,patchQueryData:k,updateQueryData:T,upsertQueryData:A,prefetch:y,buildMatchThunkActions:g}=QN({baseQuery:n,reducerPath:i,context:f,api:e,serializeQueryArgs:s,assertTagType:d}),{reducer:C,actions:N}=HN({context:f,queryThunk:v,mutationThunk:E,reducerPath:i,assertTagType:d,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:p}});xr(e.util,{patchQueryData:k,updateQueryData:T,upsertQueryData:A,prefetch:y,resetApiState:N.resetApiState}),xr(e.internalActions,N);const{middleware:D,actions:S}=iP({reducerPath:i,context:f,queryThunk:v,mutationThunk:E,api:e,assertTagType:d});xr(e.util,S),xr(e,{reducer:C,middleware:D});const{buildQuerySelector:w,buildMutationSelector:I,selectInvalidatedBy:R,selectCachedArgsForQuery:P}=$N({serializeQueryArgs:s,reducerPath:i,createSelector:t});xr(e.util,{selectInvalidatedBy:R,selectCachedArgsForQuery:P});const{buildInitiateQuery:L,buildInitiateMutation:b,getRunningMutationThunk:H,getRunningMutationsThunk:$,getRunningQueriesThunk:G,getRunningQueryThunk:ee}=WN({queryThunk:v,mutationThunk:E,api:e,serializeQueryArgs:s,context:f});return xr(e.util,{getRunningMutationThunk:H,getRunningMutationsThunk:$,getRunningQueryThunk:ee,getRunningQueriesThunk:G}),{name:U0,injectEndpoint(F,W){var X;const V=e;(X=V.endpoints)[F]??(X[F]={}),RS(W)?xr(V.endpoints[F],{name:F,select:w(F,W),initiate:L(F,W)},g(v,F)):BN(W)&&xr(V.endpoints[F],{name:F,select:I(),initiate:b(F)},g(E,F))}}}});function oP(t){return t.type==="query"}function aP(t){return t.type==="mutation"}function xu(t,...e){return Object.assign(t,...e)}function wf(t){return t.replace(t[0],t[0].toUpperCase())}var Cs=WeakMap?new WeakMap:void 0,lP=({endpointName:t,queryArgs:e})=>{let n="";const r=Cs==null?void 0:Cs.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,o)=>Xn(o)?Object.keys(o).sort().reduce((a,u)=>(a[u]=o[u],a),{}):o);Xn(e)&&(Cs==null||Cs.set(e,i)),n=i}return`${t}(${n})`},Ef=Symbol();function B0(t,e,n,r){const i=O.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}),[t,e,n,r]),s=O.useRef(i);return O.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function Cf(t){const e=O.useRef(t);return O.useEffect(()=>{Ea(e.current,t)||(e.current=t)},[t]),Ea(e.current,t)?e.current:t}var uP=typeof window<"u"&&window.document&&window.document.createElement?O.useLayoutEffect:O.useEffect,cP=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:IS.pending}:t;function dP({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:u}){const c=s?E=>E():O.useEffect;return{buildQueryHooks:d,buildMutationHook:v,usePrefetch:f};function p(E,k,T){if(k!=null&&k.endpointName&&E.isUninitialized){const{endpointName:D}=k,S=u.endpointDefinitions[D];a({queryArgs:k.originalArgs,endpointDefinition:S,endpointName:D})===a({queryArgs:T,endpointDefinition:S,endpointName:D})&&(k=void 0)}let A=E.isSuccess?E.data:k==null?void 0:k.data;A===void 0&&(A=E.data);const y=A!==void 0,g=E.isLoading,C=!y&&g,N=E.isSuccess||g&&y;return{...E,data:A,currentData:E.data,isFetching:g,isLoading:C,isSuccess:N}}function f(E,k){const T=n(),A=Cf(k);return O.useCallback((y,g)=>T(t.util.prefetch(E,y,{...A,...g})),[E,T,A])}function d(E){const k=(y,{refetchOnReconnect:g,refetchOnFocus:C,refetchOnMountOrArgChange:N,skip:D=!1,pollingInterval:S=0,skipPollingIfUnfocused:w=!1}={})=>{const{initiate:I}=t.endpoints[E],R=n(),P=O.useRef();if(!P.current){const V=R(t.internalActions.internal_getRTKQSubscriptions());P.current=V}const L=B0(D?Mi:y,lP,u.endpointDefinitions[E],E),b=Cf({refetchOnReconnect:g,refetchOnFocus:C,pollingInterval:S,skipPollingIfUnfocused:w}),H=O.useRef(!1),$=O.useRef();let{queryCacheKey:G,requestId:ee}=$.current||{},F=!1;G&&ee&&(F=P.current.isRequestSubscribed(G,ee));const W=!F&&H.current;return c(()=>{H.current=F}),c(()=>{W&&($.current=void 0)},[W]),c(()=>{var K;const V=$.current;if(typeof process<"u",L===Mi){V==null||V.unsubscribe(),$.current=void 0;return}const X=(K=$.current)==null?void 0:K.subscriptionOptions;if(!V||V.arg!==L){V==null||V.unsubscribe();const z=R(I(L,{subscriptionOptions:b,forceRefetch:N}));$.current=z}else b!==X&&V.updateSubscriptionOptions(b)},[R,I,N,L,b,W]),O.useEffect(()=>()=>{var V;(V=$.current)==null||V.unsubscribe(),$.current=void 0},[]),O.useMemo(()=>({refetch:()=>{var V;if(!$.current)throw new Error(pt(38));return(V=$.current)==null?void 0:V.refetch()}}),[])},T=({refetchOnReconnect:y,refetchOnFocus:g,pollingInterval:C=0,skipPollingIfUnfocused:N=!1}={})=>{const{initiate:D}=t.endpoints[E],S=n(),[w,I]=O.useState(Ef),R=O.useRef(),P=Cf({refetchOnReconnect:y,refetchOnFocus:g,pollingInterval:C,skipPollingIfUnfocused:N});c(()=>{var $,G;const H=($=R.current)==null?void 0:$.subscriptionOptions;P!==H&&((G=R.current)==null||G.updateSubscriptionOptions(P))},[P]);const L=O.useRef(P);c(()=>{L.current=P},[P]);const b=O.useCallback(function(H,$=!1){let G;return e(()=>{var ee;(ee=R.current)==null||ee.unsubscribe(),R.current=G=S(D(H,{subscriptionOptions:L.current,forceRefetch:!$})),I(H)}),G},[S,D]);return O.useEffect(()=>()=>{var H;(H=R==null?void 0:R.current)==null||H.unsubscribe()},[]),O.useEffect(()=>{w!==Ef&&!R.current&&b(w,!0)},[w,b]),O.useMemo(()=>[b,w],[b,w])},A=(y,{skip:g=!1,selectFromResult:C}={})=>{const{select:N}=t.endpoints[E],D=B0(g?Mi:y,a,u.endpointDefinitions[E],E),S=O.useRef(),w=O.useMemo(()=>o([N(D),(b,H)=>H,b=>D],p,{memoizeOptions:{resultEqualityCheck:Ea}}),[N,D]),I=O.useMemo(()=>C?o([w],C,{devModeChecks:{identityFunctionCheck:"never"}}):w,[w,C]),R=r(b=>I(b,S.current),Ea),P=i(),L=w(P.getState(),S.current);return uP(()=>{S.current=L},[L]),R};return{useQueryState:A,useQuerySubscription:k,useLazyQuerySubscription:T,useLazyQuery(y){const[g,C]=T(y),N=A(C,{...y,skip:C===Ef}),D=O.useMemo(()=>({lastArg:C}),[C]);return O.useMemo(()=>[g,N,D],[g,N,D])},useQuery(y,g){const C=k(y,g),N=A(y,{selectFromResult:y===Mi||g!=null&&g.skip?void 0:cP,...g}),{data:D,status:S,isLoading:w,isSuccess:I,isError:R,error:P}=N;return O.useDebugValue({data:D,status:S,isLoading:w,isSuccess:I,isError:R,error:P}),O.useMemo(()=>({...N,...C}),[N,C])}}}function v(E){return({selectFromResult:k,fixedCacheKey:T}={})=>{const{select:A,initiate:y}=t.endpoints[E],g=n(),[C,N]=O.useState();O.useEffect(()=>()=>{C!=null&&C.arg.fixedCacheKey||C==null||C.reset()},[C]);const D=O.useCallback(function(X){const K=g(y(X,{fixedCacheKey:T}));return N(K),K},[g,y,T]),{requestId:S}=C||{},w=O.useMemo(()=>A({fixedCacheKey:T,requestId:C==null?void 0:C.requestId}),[T,C,A]),I=O.useMemo(()=>k?o([w],k):w,[k,w]),R=r(I,Ea),P=T==null?C==null?void 0:C.arg.originalArgs:void 0,L=O.useCallback(()=>{e(()=>{C&&N(void 0),T&&g(t.internalActions.removeMutationResult({requestId:S,fixedCacheKey:T}))})},[g,T,C,S]),{endpointName:b,data:H,status:$,isLoading:G,isSuccess:ee,isError:F,error:W}=R;O.useDebugValue({endpointName:b,data:H,status:$,isLoading:G,isSuccess:ee,isError:F,error:W});const V=O.useMemo(()=>({...R,originalArgs:P,reset:L}),[R,P,L]);return O.useMemo(()=>[D,V],[D,V])}}}var hP=Symbol(),fP=({batch:t=Ib,hooks:e={useDispatch:Pt,useSelector:he,useStore:uS},createSelector:n=bg,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:hP,init(s,{serializeQueryArgs:o},a){const u=s,{buildQueryHooks:c,buildMutationHook:p,usePrefetch:f}=dP({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:o,context:a});return xu(u,{usePrefetch:f}),xu(a,{batch:t}),{injectEndpoint(d,v){if(oP(v)){const{useQuery:E,useLazyQuery:k,useLazyQuerySubscription:T,useQueryState:A,useQuerySubscription:y}=c(d);xu(u.endpoints[d],{useQuery:E,useLazyQuery:k,useLazyQuerySubscription:T,useQueryState:A,useQuerySubscription:y}),s[`use${wf(d)}Query`]=E,s[`useLazy${wf(d)}Query`]=k}else if(aP(v)){const E=p(d);xu(u.endpoints[d],{useMutation:E}),s[`use${wf(d)}Mutation`]=E}}}}}),Mg=qN(sP(),fP());const Gu=Mg({reducerPath:"tracksApi",baseQuery:Dg({baseUrl:"https://api.jamendo.com/v3.0/"}),endpoints:t=>({getTrack:t.query({query:()=>({url:"tracks/",params:{client_id:"354e8ba5",format:"jsonpretty",limit:10,featured:1}})})})}),{useGetTrackQuery:NS}=Gu,PS=It({name:"search",initialState:{search:[]},reducers:{addSearch:(t,e)=>{t.search.push(e.payload)}}}),{addSearch:OS}=PS.actions,pP=PS.reducer;function mP({track:t}){const e=Pt();return m.jsx(nS,{to:`/player/${t.id}`,onClick:()=>{e(OS(t))},children:m.jsxs("div",{className:"card",children:[m.jsx("div",{className:"card-img",children:m.jsx("img",{src:t.image,alt:"img"})}),m.jsx("div",{className:"card-title",children:m.jsx("p",{children:t.name})})]})})}const wr="/assets/default-BxQV96rn.png",DS=It({name:"artist",initialState:{artistData:[]},reducers:{addArtistData:(t,e)=>{t.artistData=e.payload},clearArtistData:t=>{t.artistData=null}}}),{addArtistData:LS,clearArtistData:gP}=DS.actions,vP=DS.reducer;function yP({artist:t}){const[e,n]=O.useState(t.image);O.useEffect(()=>{t.image||n(wr)},[t.image]);const r=Pt(),i=()=>{r(LS(t))};return m.jsx(nS,{onClick:i,to:"/artist",children:m.jsxs("div",{className:"artistCard",children:[m.jsx("div",{className:"artistCard-img",children:m.jsx("img",{src:e,alt:"img"})}),m.jsx("div",{className:"artistCard-title",children:m.jsx("p",{children:t.name})})]})})}let bu;const _P=new Uint8Array(16);function wP(){if(!bu&&(bu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(_P)}const tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).slice(1));function EP(t,e=0){return tt[t[e+0]]+tt[t[e+1]]+tt[t[e+2]]+tt[t[e+3]]+"-"+tt[t[e+4]]+tt[t[e+5]]+"-"+tt[t[e+6]]+tt[t[e+7]]+"-"+tt[t[e+8]]+tt[t[e+9]]+"-"+tt[t[e+10]]+tt[t[e+11]]+tt[t[e+12]]+tt[t[e+13]]+tt[t[e+14]]+tt[t[e+15]]}const CP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),V0={randomUUID:CP};function Yu(t,e,n){if(V0.randomUUID&&!e&&!t)return V0.randomUUID();t=t||{};const r=t.random||(t.rng||wP)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return EP(r)}const MS=It({name:"album",initialState:{albumData:null,albumId:null,isCustomPlaylist:!1},reducers:{addAlbum:(t,e)=>{t.albumData=e.payload.albumData,t.albumId=Yu(),t.isCustomPlaylist=e.payload.isCustomPlaylist||!1},clearAlbum:(t,e)=>{t.albumData=null,t.albumId=null,t.isCustomPlaylist=!1}}}),{addAlbum:jS,clearAlbum:GF}=MS.actions,SP=MS.reducer;function AP({playlist:t}){const e=Un(),n=Pt(),r=()=>{n(jS({albumData:t,isCustomPlaylist:!0})),e(`/album/${t.id}`)};return m.jsxs("div",{className:"playlistCard",onClick:r,children:[m.jsx("div",{className:"playlistCard-img",children:m.jsx("img",{src:t.tracks[0].image,alt:"img"})}),m.jsx("div",{className:"playlistCard-title",children:m.jsx("p",{children:t.name})})]})}function Ud(){return m.jsxs("nav",{className:"nav",children:[m.jsx(_n,{to:"/",children:m.jsxs("div",{className:"nav__item",children:[m.jsxs("svg",{width:"20.000000",height:"20.000000",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[m.jsx("defs",{}),m.jsx("path",{id:"Vector",d:"M9 1.16L0.94 6.08L0.94 19L6.04 19L6.04 12.03L11.99 12.03L11.99 19L17.05 19L17.05 6.04L9 1.16ZM9 0L18 5.28L18 20L11.04 20L11.04 13.02L6.99 13.02L6.99 20L0 20L0 5.33L9 0Z",fill:"#B3B3B3",fillOpacity:"1.000000",fillRule:"nonzero"})]}),m.jsx("span",{children:"Home"})]})}),m.jsx(_n,{to:"/search",children:m.jsxs("div",{className:"nav__item",children:[m.jsxs("svg",{width:"20.000000",height:"20.000000",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[m.jsx("defs",{}),m.jsx("path",{id:"Vector",d:"M19.69 18.21L14.76 13.26C16.03 11.81 16.72 9.98 16.72 8.07C16.72 3.62 12.97 0 8.36 0C3.75 0 0 3.62 0 8.07C0 12.52 3.75 16.14 8.36 16.14C10.09 16.14 11.74 15.64 13.15 14.68L18.12 19.67C18.33 19.88 18.61 20 18.9 20C19.19 20 19.46 19.89 19.66 19.7C20.09 19.3 20.11 18.63 19.69 18.21ZM8.36 2.1C11.77 2.1 14.54 4.78 14.54 8.07C14.54 11.36 11.77 14.04 8.36 14.04C4.95 14.04 2.18 11.36 2.18 8.07C2.18 4.78 4.95 2.1 8.36 2.1Z",fill:"#777777",fillOpacity:"1.000000",fillRule:"nonzero"})]}),m.jsx("span",{children:"Search"})]})}),m.jsx(_n,{to:"/profile",children:m.jsxs("div",{className:"nav__item",children:[m.jsxs("svg",{width:"22.000000",height:"22.000000",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[m.jsx("defs",{children:m.jsx("clipPath",{id:"clip5_1853",children:m.jsx("rect",{id:"Library small",width:"22.000000",height:"22.000000",fill:"white",fillOpacity:"0"})})}),m.jsx("rect",{id:"Library small",width:"22.000000",height:"22.000000",fill:"#FFFFFF",fillOpacity:"0"}),m.jsx("g",{clipPath:"url(#clip5_1853)",children:m.jsx("path",{id:"Vector",d:"M12.61 0.9L21.44 20.74L20.42 21.2L11.59 1.36L12.61 0.9ZM0.54 21.18L0.54 0.79L1.68 0.79L1.68 21.18L0.54 21.18ZM7.34 21.18L7.34 0.79L8.47 0.79L8.47 21.18L7.34 21.18Z",fill:"#777777",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),m.jsx("span",{children:"Your Library"})]})})]})}var FS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z0=fe.createContext&&fe.createContext(FS),kP=["attr","size","title"];function IP(t,e){if(t==null)return{};var n=TP(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function W0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W0(Object(n),!0).forEach(function(r){RP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RP(t,e,n){return e=xP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xP(t){var e=bP(t,"string");return typeof e=="symbol"?e:String(e)}function bP(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function US(t){return t&&t.map((e,n)=>fe.createElement(e.tag,Uc({key:n},e.attr),US(e.child)))}function un(t){return e=>fe.createElement(NP,Fc({attr:Uc({},t.attr)},e),US(t.child))}function NP(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=IP(t,kP),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),fe.createElement("svg",Fc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Uc(Uc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&fe.createElement("title",null,s),t.children)};return z0!==void 0?fe.createElement(z0.Consumer,null,n=>e(n)):e(FS)}function PP(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(t)}function OP(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 96h16v320h-16zm144 0h16v320h-16z"},child:[]}]})(t)}function jg(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M208 432h-48a16 16 0 0 1-16-16V96a16 16 0 0 1 16-16h48a16 16 0 0 1 16 16v320a16 16 0 0 1-16 16zm144 0h-48a16 16 0 0 1-16-16V96a16 16 0 0 1 16-16h48a16 16 0 0 1 16 16v320a16 16 0 0 1-16 16z"},child:[]}]})(t)}function Bd(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M133 440a35.37 35.37 0 0 1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0 1 35.77.45l247.85 148.36a36 36 0 0 1 0 61l-247.89 148.4A35.5 35.5 0 0 1 133 440z"},child:[]}]})(t)}function DP(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(t)}const Fg=({imageUrl:t,onColorGenerated:e})=>{const n=O.useRef(null);return O.useEffect(()=>{const r=n.current,i=r.getContext("2d"),s=new Image;s.crossOrigin="Anonymous",s.src=t,s.onload=function(){r.width=s.width,r.height=s.height,i.drawImage(s,0,0,s.width,s.height);const o=i.getImageData(0,0,s.width,s.height).data;let a=0,u=0,c=0;for(let k=0;k<o.length;k+=4)a+=o[k],u+=o[k+1],c+=o[k+2];const p=o.length/4,f=Math.floor(a/p),d=Math.floor(u/p),v=Math.floor(c/p),E=`rgb(${f}, ${d}, ${v})`;e&&e(E)}},[t,e]),m.jsx("canvas",{ref:n,style:{display:"none"}})};function LP(){const[t,e]=O.useState(""),[n,r]=O.useState(wr),[i,s]=O.useState(""),[o,a]=O.useState(""),[u,c]=O.useState(""),[p,f]=O.useState(!1),[d,v]=O.useState(!1),[E,k]=O.useState(),T=O.useRef(),A=C=>{e(C)};function y(){const C=T.current;C.paused?(C.play(),v(!0)):(C.pause(),v(!1))}O.useEffect(()=>{const C=JSON.parse(localStorage.getItem("track"));console.log(C),C&&(r(C.image),s(C.name),a(C.artist_name),c(C.audio))},[]),O.useEffect(()=>{o?i.length+o.length>=35?(console.log(i.length+o.length),f(!0)):console.log(i.length+o.length):f(!1)},[o,i]);const g=`${t}`;return m.jsxs("div",{className:"last_track",style:{background:g},children:[m.jsx("audio",{className:"audio_element",ref:T,src:u,controls:!0}),m.jsx(Fg,{imageUrl:n,onColorGenerated:A}),m.jsxs("div",{className:"last_track_container",children:[m.jsx("div",{className:"track_image_box",children:m.jsx("img",{className:"last_track_img__content",src:n,alt:""})}),m.jsxs("div",{className:"track_main_content",children:[m.jsxs("div",{className:`title_box ${p&&"rotationLastTrack"}`,children:[m.jsxs("p",{className:"track_name_text",children:[i," "]}),m.jsx("p",{className:"track_name_artist",children:o})]}),m.jsx("div",{className:"device_content",children:m.jsx("p",{children:E})})]}),m.jsx("div",{className:"track_funcrion_box",children:d?m.jsx(OP,{onClick:()=>y(),className:"last_track__btn"}):m.jsx(PP,{onClick:()=>y(),className:"last_track__btn"})})]})]})}var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw Eo(e)},Eo=function(t){return new Error("Firebase Database ("+BS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ug={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,p=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(d=64)),r.push(n[p],n[f],n[d],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new jP;const d=s<<2|a>>4;if(r.push(d),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zS=function(t){const e=VS(t);return Ug.encodeByteArray(e,!0)},Bc=function(t){return zS(t).replace(/\./g,"")},Vc=function(t){try{return Ug.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){return il(void 0,t)}function il(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!UP(n)||(t[n]=il(t[n],e[n]));return t}function UP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=()=>BP().__FIREBASE_DEFAULTS__,zP=()=>{if(typeof process>"u"||typeof Q0>"u")return;const t=Q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vc(t[1]);return e&&JSON.parse(e)},Bg=()=>{try{return VP()||zP()||WP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=Bg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QP=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QS=()=>{var t;return(t=Bg())===null||t===void 0?void 0:t.config},HS=t=>{var e;return(e=Bg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function qS(){return typeof self=="object"&&self.self===self}function HP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $P(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GS(){return BS.NODE_ADMIN===!0}function qP(){try{return typeof indexedDB=="object"}catch{return!1}}function KP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GP,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bn(i,a,r)}}function YP(t,e){return t.replace(XP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){return JSON.parse(t)}function We(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=sl(Vc(s[0])||""),n=sl(Vc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},JP=function(t){const e=YS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ZP=function(t){const e=YS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ji(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(H0(s)&&H0(o)){if(!Qc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],c,p;for(let f=0;f<80;f++){f<40?f<20?(c=a^s&(o^a),p=1518500249):(c=s^o^a,p=1859775393):f<60?(c=s&o|a&(s|o),p=2400959708):(c=s^o^a,p=3395469782);const d=(i<<5|i>>>27)+c+u+p+r[f]&4294967295;u=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function XS(t,e){const n=new tO(t,e);return n.subscribe.bind(n)}class tO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sf),i.error===void 0&&(i.error=Sf),i.complete===void 0&&(i.complete=Sf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Wt(t,e){return`${t} failed: ${e} argument `}function Ge(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Wt(t,e)+"must be a valid function.")}function $0(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Wt(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,B(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t){return t&&t._delegate?t._delegate:t}class sn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sO(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iO(t){return t===Ni?void 0:t}function sO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=[];var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const JS={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},oO=de.INFO,aO={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},lO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class So{constructor(e){this.name=e,this._logLevel=oO,this._logHandler=lO,this._userLogHandler=null,Wg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}function uO(t){Wg.forEach(e=>{e.setLogLevel(t)})}function cO(t,e){for(const n of Wg){let r=null;e&&e.level&&(r=JS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:de[s].toLowerCase(),message:a,args:o,type:i.name})}}}const dO=(t,e)=>e.some(n=>t instanceof n);let q0,K0;function hO(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fO(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZS=new WeakMap,Jp=new WeakMap,eA=new WeakMap,Af=new WeakMap,Qg=new WeakMap;function pO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZS.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function mO(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gO(t){Zp=t(Zp)}function vO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kf(this),e,...n);return eA.set(r,e.sort?e.sort():[e]),ti(r)}:fO().includes(t)?function(...e){return t.apply(kf(this),e),ti(ZS.get(this))}:function(...e){return ti(t.apply(kf(this),e))}}function yO(t){return typeof t=="function"?vO(t):(t instanceof IDBTransaction&&mO(t),dO(t,hO())?new Proxy(t,Zp):t)}function ti(t){if(t instanceof IDBRequest)return pO(t);if(Af.has(t))return Af.get(t);const e=yO(t);return e!==t&&(Af.set(t,e),Qg.set(e,t)),e}const kf=t=>Qg.get(t);function _O(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ti(o.result),u.oldVersion,u.newVersion,ti(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wO=["get","getKey","getAll","getAllKeys","count"],EO=["put","add","delete","clear"],If=new Map;function G0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wO.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return If.set(e,s),s}gO(t=>({...t,get:(e,n,r)=>G0(e,n)||t.get(e,n,r),has:(e,n)=>!!G0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hc="@firebase/app",em="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new So("@firebase/app"),AO="@firebase/app-compat",kO="@firebase/analytics-compat",IO="@firebase/analytics",TO="@firebase/app-check-compat",RO="@firebase/app-check",xO="@firebase/auth",bO="@firebase/auth-compat",NO="@firebase/database",PO="@firebase/database-compat",OO="@firebase/functions",DO="@firebase/functions-compat",LO="@firebase/installations",MO="@firebase/installations-compat",jO="@firebase/messaging",FO="@firebase/messaging-compat",UO="@firebase/performance",BO="@firebase/performance-compat",VO="@firebase/remote-config",zO="@firebase/remote-config-compat",WO="@firebase/storage",QO="@firebase/storage-compat",HO="@firebase/firestore",$O="@firebase/vertexai-preview",qO="@firebase/firestore-compat",KO="firebase",GO="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]",YO={[Hc]:"fire-core",[AO]:"fire-core-compat",[IO]:"fire-analytics",[kO]:"fire-analytics-compat",[RO]:"fire-app-check",[TO]:"fire-app-check-compat",[xO]:"fire-auth",[bO]:"fire-auth-compat",[NO]:"fire-rtdb",[PO]:"fire-rtdb-compat",[OO]:"fire-fn",[DO]:"fire-fn-compat",[LO]:"fire-iid",[MO]:"fire-iid-compat",[jO]:"fire-fcm",[FO]:"fire-fcm-compat",[UO]:"fire-perf",[BO]:"fire-perf-compat",[VO]:"fire-rc",[zO]:"fire-rc-compat",[WO]:"fire-gcs",[QO]:"fire-gcs-compat",[HO]:"fire-fst",[qO]:"fire-fst-compat",[$O]:"fire-vertex","fire-js":"fire-js",[KO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Map,ao=new Map,lo=new Map;function ol(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tA(t,e){t.container.addOrOverwriteComponent(e)}function Jn(t){const e=t.name;if(lo.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;lo.set(e,t);for(const n of ci.values())ol(n,t);for(const n of ao.values())ol(n,t);return!0}function Nl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function XO(t,e,n=ui){Nl(t,e).clearInstance(n)}function nA(t){return t.options!==void 0}function bn(t){return t.settings!==void 0}function JO(){lo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wn=new ls("app","Firebase",ZO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rA=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends rA{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,mt(Hc,em,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){$g(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw wn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=GO;function Pl(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ui,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wn.create("bad-app-name",{appName:String(i)});if(n||(n=QS()),!n)throw wn.create("no-options");const s=ci.get(i);if(s){if(Qc(n,s.options)&&Qc(r,s.config))return s;throw wn.create("duplicate-app",{appName:i})}const o=new zg(i);for(const u of lo.values())o.addComponent(u);const a=new rA(n,r,o);return ci.set(i,a),a}function t4(t,e){if(qS())throw wn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;nA(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((p,f)=>Math.imul(31,p)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw wn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=ao.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new zg(s);for(const c of lo.values())a.addComponent(c);const u=new e4(n,e,s,a);return ao.set(s,u),u}function Hg(t=ui){const e=ci.get(t);if(!e&&t===ui&&QS())return Pl();if(!e)throw wn.create("no-app",{appName:t});return e}function n4(){return Array.from(ci.values())}async function $g(t){let e=!1;const n=t.name;ci.has(n)?(e=!0,ci.delete(n)):ao.has(n)&&t.decRefCount()<=0&&(ao.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function mt(t,e,n){var r;let i=(r=YO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(a.join(" "));return}Jn(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function iA(t,e){if(t!==null&&typeof t!="function")throw wn.create("invalid-log-argument");cO(t,e)}function sA(t){uO(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="firebase-heartbeat-database",i4=1,al="firebase-heartbeat-store";let Tf=null;function oA(){return Tf||(Tf=_O(r4,i4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(al)}catch(n){console.warn(n)}}}}).catch(t=>{throw wn.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function s4(t){try{const n=(await oA()).transaction(al),r=await n.objectStore(al).get(aA(t));return await n.done,r}catch(e){if(e instanceof Bn)Zi.warn(e.message);else{const n=wn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function Y0(t,e){try{const r=(await oA()).transaction(al,"readwrite");await r.objectStore(al).put(e,aA(t)),await r.done}catch(n){if(n instanceof Bn)Zi.warn(n.message);else{const r=wn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(r.message)}}}function aA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=1024,a4=30*24*60*60*1e3;class l4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=X0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=a4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X0(),{heartbeatsToSend:r,unsentEntries:i}=u4(this._heartbeatsCache.heartbeats),s=Bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function X0(){return new Date().toISOString().substring(0,10)}function u4(t,e=o4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),J0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class c4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qP()?KP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J0(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){Jn(new sn("platform-logger",e=>new CO(e),"PRIVATE")),Jn(new sn("heartbeat",e=>new l4(e),"PRIVATE")),mt(Hc,em,t),mt(Hc,em,"esm2017"),mt("fire-js","")}d4("");const h4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Bn,SDK_VERSION:tr,_DEFAULT_ENTRY_NAME:ui,_addComponent:ol,_addOrOverwriteComponent:tA,_apps:ci,_clearComponents:JO,_components:lo,_getProvider:Nl,_isFirebaseApp:nA,_isFirebaseServerApp:bn,_registerComponent:Jn,_removeServiceInstance:XO,_serverApps:ao,deleteApp:$g,getApp:Hg,getApps:n4,initializeApp:Pl,initializeServerApp:t4,onLog:iA,registerVersion:mt,setLogLevel:sA},Symbol.toStringTag,{value:"Module"}));function qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f4=lA,uA=new ls("auth","Firebase",lA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new So("@firebase/auth");function p4(t,...e){$c.logLevel<=de.WARN&&$c.warn(`Auth (${tr}): ${t}`,...e)}function Xu(t,...e){$c.logLevel<=de.ERROR&&$c.error(`Auth (${tr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Kg(t,...e)}function Kn(t,...e){return Kg(t,...e)}function cA(t,e,n){const r=Object.assign(Object.assign({},f4()),{[e]:n});return new ls("auth","Firebase",r).create(e,{appName:t.name})}function fr(t){return cA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uA.create(t,...e)}function Z(t,e,...n){if(!t)throw Kg(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function Er(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m4(){return Z0()==="http:"||Z0()==="https:"}function Z0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m4()||HP()||"connection"in navigator)?navigator.onLine:!0}function v4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=Vg()||KS()}get(){return g4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Ol(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ar(t,e,n,r,i={}){return hA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Co(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),dA.fetch()(fA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function hA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y4),e);try{const i=new E4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Nu(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cA(t,p,c);Fn(t,p)}}catch(i){if(i instanceof Bn)throw i;Fn(t,"network-request-failed",{message:String(i)})}}async function Dl(t,e,n,r,i={}){const s=await Ar(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function fA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Gg(t.config,i):`${t.config.apiScheme}://${i}`}function w4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),_4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(t,e,r);return i.customData._tokenResponse=n,i}function e1(t){return t!==void 0&&t.enterprise!==void 0}class C4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function S4(t,e){return Ar(t,"GET","/v2/recaptchaConfig",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){return Ar(t,"POST","/v1/accounts:delete",e)}async function pA(t,e){return Ar(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k4(t,e=!1){const n=Se(t),r=await n.getIdToken(e),i=Yg(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Aa(Rf(i.auth_time)),issuedAtTime:Aa(Rf(i.iat)),expirationTime:Aa(Rf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rf(t){return Number(t)*1e3}function Yg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vc(n);return i?JSON.parse(i):(Xu("Failed to decode base64 JWT payload"),null)}catch(i){return Xu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t1(t){const e=Yg(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&I4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uo(t,pA(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mA(s.providerUserInfo):[],a=x4(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),p=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,f)}async function R4(t){const e=Se(t);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mA(t){return t.map(e=>{var{providerId:n}=e,r=qg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){const n=await hA(t,{},async()=>{const r=Co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N4(t,e){return Ar(t,"POST","/v2/accounts:revokeToken",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=t1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $s;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $s,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k4(this,e)}reload(){return R4(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await uo(this,A4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,p;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:g,emailVerified:C,isAnonymous:N,providerData:D,stsTokenManager:S}=n;Z(g&&S,e,"internal-error");const w=$s.fromJSON(this.name,S);Z(typeof g=="string",e,"internal-error"),br(f,e.name),br(d,e.name),Z(typeof C=="boolean",e,"internal-error"),Z(typeof N=="boolean",e,"internal-error"),br(v,e.name),br(E,e.name),br(k,e.name),br(T,e.name),br(A,e.name),br(y,e.name);const I=new ur({uid:g,auth:e,email:d,emailVerified:C,displayName:f,isAnonymous:N,photoURL:E,phoneNumber:v,tenantId:k,stsTokenManager:w,createdAt:A,lastLoginAt:y});return D&&Array.isArray(D)&&(I.providerData=D.map(R=>Object.assign({},R))),T&&(I._redirectEventId=T),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $s;i.updateFromServerResponse(n);const s=new ur({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?mA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $s;a.updateFromIdToken(r);const u=new ur({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=new Map;function cr(t){Er(t instanceof Function,"Expected a class definition");let e=n1.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gA.type="NONE";const r1=gA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ju(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ju("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ur._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(cr(r1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||cr(r1);const o=Ju(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const p=await c._get(o);if(p){const f=ur._fromJSON(e,p);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new qs(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new qs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EA(e))return"Blackberry";if(CA(e))return"Webos";if(Xg(e))return"Safari";if((e.includes("chrome/")||yA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vA(t=yt()){return/firefox\//i.test(t)}function Xg(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yA(t=yt()){return/crios\//i.test(t)}function _A(t=yt()){return/iemobile/i.test(t)}function wA(t=yt()){return/android/i.test(t)}function EA(t=yt()){return/blackberry/i.test(t)}function CA(t=yt()){return/webos/i.test(t)}function zd(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P4(t=yt()){var e;return zd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O4(){return $P()&&document.documentMode===10}function SA(t=yt()){return zd(t)||wA(t)||CA(t)||EA(t)||/windows phone/i.test(t)||_A(t)}function D4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e=[]){let n;switch(t){case"Browser":n=i1(yt());break;case"Worker":n=`${i1(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e={}){return Ar(t,"GET","/v2/passwordPolicy",Ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=6;class F4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:j4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s1(this),this.idTokenSubscription=new s1(this),this.beforeStateQueue=new L4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pA(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(fr(this));const n=e?Se(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M4(this),n=new F4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ls("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await N4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function us(t){return Se(t)}class s1{constructor(e){this.auth=e,this.observer=null,this.addObserver=XS(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B4(t){Wd=t}function kA(t){return Wd.loadJS(t)}function V4(){return Wd.recaptchaEnterpriseScript}function z4(){return Wd.gapiScript}function W4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Q4="recaptcha-enterprise",H4="NO_RECAPTCHA";class $4{constructor(e){this.type=Q4,this.auth=us(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{S4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new C4(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;e1(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(H4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&e1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=V4();u.length!==0&&(u+=a),kA(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function o1(t,e,n,r=!1){const i=new $4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await o1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await o1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e){const n=Nl(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qc(s,e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}function K4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function G4(t,e,n){const r=us(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=IA(e),{host:o,port:a}=Y4(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||X4()}function IA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y4(t){const e=IA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:a1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:a1(o)}}}function a1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function J4(t,e){return Ar(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e){return Dl(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){return Dl(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}async function tD(t,e){return Dl(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Jg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,n,"signInWithPassword",Z4);case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,r,"signUpPassword",J4);case"emailLink":return tD(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t,e){return Dl(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="http://localhost";class es extends Jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=qg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ks(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ks(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ks(e,n)}buildRequest(){const e={requestUri:nD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Co(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iD(t){const e=ca(da(t)).link,n=e?ca(da(e)).deep_link_id:null,r=ca(da(t)).deep_link_id;return(r?ca(da(r)).link:null)||r||n||e||t}class Zg{constructor(e){var n,r,i,s,o,a;const u=ca(da(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,f=rD((i=u.mode)!==null&&i!==void 0?i:null);Z(c&&p&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=iD(e);try{return new Zg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zg.parseLink(n);return Z(r,"argument-error"),ll._fromEmailAndCode(e,r.code,r.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends TA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Ll{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Ll{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ll{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e){return Dl(t,"POST","/v1/accounts:signUp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ur._fromIdTokenResponse(e,r,i),o=l1(r);return new ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=l1(r);return new ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function l1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kc(e,n,r,i)}}function RA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(t,s,e,r):s})}async function oD(t,e,n=!1){const r=await uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(fr(r));const i="reauthenticate";try{const s=await uo(t,RA(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Yg(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(t,e,n=!1){if(bn(t.app))return Promise.reject(fr(t));const r="signIn",i=await RA(t,r,e),s=await ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function lD(t,e){return xA(us(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t){const e=us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uD(t,e,n){if(bn(t.app))return Promise.reject(fr(t));const r=us(t),o=await rm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bA(t),u}),a=await ts._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cD(t,e,n){return bn(t.app)?Promise.reject(fr(t)):lD(Se(t),Ao.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){return Ar(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Se(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await uo(r,dD(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function fD(t,e,n,r){return Se(t).onIdTokenChanged(e,n,r)}function pD(t,e,n){return Se(t).beforeAuthStateChanged(e,n)}function ev(t,e,n,r){return Se(t).onAuthStateChanged(e,n,r)}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){const t=yt();return Xg(t)||zd(t)}const gD=1e3,vD=10;class PA extends NA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=mD()&&D4(),this.fallbackToPolling=SA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);O4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PA.type="LOCAL";const yD=PA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA extends NA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OA.type="SESSION";const DA=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await _D(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=tv("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function ED(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function CD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AD(){return LA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebaseLocalStorageDb",kD=1,Yc="firebaseLocalStorage",jA="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hd(t,e){return t.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function ID(){const t=indexedDB.deleteDatabase(MA);return new Ml(t).toPromise()}function im(){const t=indexedDB.open(MA,kD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yc,{keyPath:jA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yc)?e(r):(r.close(),await ID(),e(await im()))})})}async function u1(t,e,n){const r=Hd(t,!0).put({[jA]:e,value:n});return new Ml(r).toPromise()}async function TD(t,e){const n=Hd(t,!1).get(e),r=await new Ml(n).toPromise();return r===void 0?null:r.value}function c1(t,e){const n=Hd(t,!0).delete(e);return new Ml(n).toPromise()}const RD=800,xD=3;class FA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(AD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CD(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await u1(e,Gc,"1"),await c1(e,Gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>u1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hd(i,!1).getAll();return new Ml(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FA.type="LOCAL";const bD=FA;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){return e?cr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends Jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PD(t){return xA(t.auth,new nv(t),t.bypassAuthState)}function OD(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),aD(n,new nv(t),t.bypassAuthState)}async function DD(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),oD(n,new nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:Fn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Ol(2e3,1e4);class Fs extends UA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LD.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="pendingRedirect",Zu=new Map;class jD extends UA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const r=await FD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FD(t,e){const n=VD(e),r=BD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UD(t,e){Zu.set(t._key(),e)}function BD(t){return cr(t._redirectPersistence)}function VD(t){return Ju(MD,t.config.apiKey,t.name)}async function zD(t,e,n=!1){if(bn(t.app))return Promise.reject(fr(t));const r=us(t),i=ND(r,e),o=await new jD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=10*60*1e3;class QD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WD&&this.cachedEventUids.clear(),this.cachedEventUids.has(d1(e))}saveEventToCache(e){this.cachedEventUids.add(d1(e)),this.lastProcessedEventTime=Date.now()}}function d1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e={}){return Ar(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KD=/^https?/;async function GD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $D(t);for(const n of e)try{if(YD(n))return}catch{}Fn(t,"unauthorized-domain")}function YD(t){const e=tm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KD.test(n))return!1;if(qD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Ol(3e4,6e4);function h1(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JD(t){return new Promise((e,n)=>{var r,i,s;function o(){h1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h1(),n(Kn(t,"network-request-failed"))},timeout:XD.get()})}if(!((i=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gn().gapi)===null||s===void 0)&&s.load)o();else{const a=W4("iframefcb");return Gn()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},kA(`${z4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ec=null,e})}let ec=null;function ZD(t){return ec=ec||JD(t),ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new Ol(5e3,15e3),t3="__/auth/iframe",n3="emulator/auth/iframe",r3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s3(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gg(e,n3):`https://${t.config.authDomain}/${t3}`,r={apiKey:e.apiKey,appName:t.name,v:tr},i=i3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Co(r).slice(1)}`}async function o3(t){const e=await ZD(t),n=Gn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:s3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=Gn().setTimeout(()=>{s(o)},e3.get());function u(){Gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l3=500,u3=600,c3="_blank",d3="http://localhost";class f1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h3(t,e,n,r=l3,i=u3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},a3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=yt().toLowerCase();n&&(a=yA(c)?c3:n),vA(c)&&(e=e||d3,u.scrollbars="yes");const p=Object.entries(u).reduce((d,[v,E])=>`${d}${v}=${E},`,"");if(P4(c)&&a!=="_self")return f3(e||"",a),new f1(null);const f=window.open(e||"",a,p);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new f1(f)}function f3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="__/auth/handler",m3="emulator/auth/handler",g3=encodeURIComponent("fac");async function p1(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tr,eventId:i};if(e instanceof TA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,f]of Object.entries(s||{}))o[p]=f}if(e instanceof Ll){const p=e.getScopes().filter(f=>f!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const p of Object.keys(a))a[p]===void 0&&delete a[p];const u=await t._getAppCheckToken(),c=u?`#${g3}=${encodeURIComponent(u)}`:"";return`${v3(t)}?${Co(a).slice(1)}${c}`}function v3({config:t}){return t.emulator?Gg(t,m3):`https://${t.authDomain}/${p3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="webStorageSupport";class y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DA,this._completeRedirectFn=zD,this._overrideRedirectResult=UD}async _openPopup(e,n,r,i){var s;Er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await p1(e,n,r,tm(),i);return h3(e,o,tv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await p1(e,n,r,tm(),i);return ED(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o3(e),r=new QD(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xf,{type:xf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[xf];o!==void 0&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SA()||Xg()||zd()}}const _3=y3;var m1="@firebase/auth",g1="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C3(t){Jn(new sn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AA(t)},c=new U4(r,i,s,u);return K4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new sn("auth-internal",e=>{const n=us(e.getProvider("auth").getImmediate());return(r=>new w3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(m1,g1,E3(t)),mt(m1,g1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=5*60,A3=HS("authIdTokenMaxAge")||S3;let v1=null;const k3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A3)return;const i=n==null?void 0:n.token;v1!==i&&(v1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ko(t=Hg()){const e=Nl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q4(t,{popupRedirectResolver:_3,persistence:[bD,yD,DA]}),r=HS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=k3(s.toString());pD(n,o,()=>o(n.currentUser)),fD(n,a=>o(a))}}const i=WS("auth");return i&&G4(n,`http://${i}`),n}function I3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}B4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",I3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C3("Browser");const VA=It({name:"user",initialState:{email:null,id:null,username:null,news:null,share:null,search:[]},reducers:{setUser(t,e){t.email=e.payload.email,t.id=e.payload.id,t.username=e.payload.username,t.news=e.payload.news,t.share=e.payload.share,t.search=e.payload.search},removeUser(t){t.email=null,t.id=null,t.username=null,t.news=null,t.share=null,t.search=null}}}),{setUser:rv,removeUser:XF}=VA.actions,T3=VA.reducer;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this._delegate=e,this.firebase=n,ol(e,new sn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$g(this._delegate)))}_getService(e,n=ui){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ui){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ol(this._delegate,e)}_addOrOverwriteComponent(e){tA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},y1=new ls("app-compat","Firebase",x3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:mt,setLogLevel:sA,onLog:iA,apps:null,SDK_VERSION:tr,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:h4}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||ui,!rn(e,c))throw y1.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,p={}){const f=Pl(c,p);if(rn(e,f.name))return e[f.name];const d=new t(f,n);return e[f.name]=d,d}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const p=c.name,f=p.replace("-compat","");if(Jn(c)&&c.type==="PUBLIC"){const d=(v=i())=>{if(typeof v[f]!="function")throw y1.create("invalid-app-argument",{appName:p});return v[f]()};c.serviceProps!==void 0&&il(d,c.serviceProps),n[f]=d,t.prototype[f]=function(...v){return this._getService.bind(this,p).apply(this,c.multipleInstances?v:[])}}return c.type==="PUBLIC"?n[f]:null}function u(c,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){const t=b3(R3);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:zA,extendNamespace:e,createSubscribe:XS,ErrorFactory:ls,deepExtend:il});function e(n){il(t,n)}return t}const N3=zA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new So("@firebase/app-compat"),P3="@firebase/app-compat",O3="0.2.35";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){mt(P3,O3,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(qS()&&self.firebase!==void 0){_1.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&_1.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const iv=N3;D3();var L3="firebase",M3="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */iv.registerVersion(L3,M3,"app-compat");const sv={apiKey:"AIzaSyB9_eokBXrfpk8sHjRSkowXzcWjk1yjDQA",authDomain:"musplayer-42b4a.firebaseapp.com",projectId:"musplayer-42b4a",storageBucket:"musplayer-42b4a.appspot.com",messagingSenderId:"475828266667",appId:"1:475828266667:web:36cb07a3f0430fef55f9ee",measurementId:"G-9P4QVEEZXX",databaseURL:"https://musplayer-42b4a-default-rtdb.europe-west1.firebasedatabase.app"};var w1={};const E1="@firebase/database",C1="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WA="";function QA(t){WA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new j3(e)}}catch{}return new F3},ji=HA("localStorage"),sm=HA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new So("@firebase/database"),$A=function(){let t=1;return function(){return t++}}(),qA=function(t){const e=rO(t),n=new eO;n.update(e);const r=n.digest();return Ug.encodeByteArray(r)},jl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=jl.apply(null,r):typeof r=="object"?e+=We(r):e+=r,e+=" "}return e};let zi=null,S1=!0;const KA=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Gs.logLevel=de.VERBOSE,zi=Gs.log.bind(Gs),e&&sm.set("logging_enabled",!0)):typeof t=="function"?zi=t:(zi=null,sm.remove("logging_enabled"))},Xe=function(...t){if(S1===!0&&(S1=!1,zi===null&&sm.get("logging_enabled")===!0&&KA(!0)),zi){const e=jl.apply(null,t);zi(e)}},Fl=function(t){return function(...e){Xe(t,...e)}},om=function(...t){const e="FIREBASE INTERNAL ERROR: "+jl(...t);Gs.error(e)},Zn=function(...t){const e=`FIREBASE FATAL ERROR: ${jl(...t)}`;throw Gs.error(e),new Error(e)},gt=function(...t){const e="FIREBASE WARNING: "+jl(...t);Gs.warn(e)},U3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$d=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},B3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},di="[MIN_NAME]",Cr="[MAX_NAME]",cs=function(t,e){if(t===e)return 0;if(t===di||e===Cr)return-1;if(e===di||t===Cr)return 1;{const n=A1(t),r=A1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},V3=function(t,e){return t===e?0:t<e?-1:1},ea=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+We(e))},ov=function(t){if(typeof t!="object"||t===null)return We(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=We(e[r]),n+=":",n+=ov(t[e[r]]);return n+="}",n},GA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const YA=function(t){B(!$d(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const p=c.join("");let f="";for(u=0;u<64;u+=8){let d=parseInt(p.substr(u,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},z3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},W3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Q3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const H3=new RegExp("^-?(0*)\\d{1,10}$"),$3=-2147483648,q3=2147483647,A1=function(t){if(H3.test(t)){const e=Number(t);if(e>=$3&&e<=q3)return e}return null},Io=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gt("Exception was thrown by user callback.",n),e},Math.floor(0))}},K3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ka=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(e)}}class Ys{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ys.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="5",XA="v",JA="s",ZA="r",ek="f",tk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nk="ls",rk="p",am="ac",ik="websocket",sk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ji.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ji.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function X3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ak(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(e===ik)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);X3(t)&&(n.ns=t.namespace);const i=[];return Ze(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.counters_={}}incrementCounter(e,n=1){rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return FP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf={},Nf={};function lv(t){const e=t.toString();return bf[e]||(bf[e]=new J3),bf[e]}function Z3(t,e){const n=t.toString();return Nf[n]||(Nf[n]=e()),Nf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Io(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="start",tL="close",nL="pLPCommand",rL="pRTLPCB",lk="id",uk="pw",ck="ser",iL="cb",sL="seg",oL="ts",aL="d",lL="dframe",dk=1870,hk=30,uL=dk-hk,cL=25e3,dL=3e4;class Qr{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fl(e),this.stats_=lv(n),this.urlFn=u=>(this.appCheckToken&&(u[am]=this.appCheckToken),ak(n,sk,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new eL(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dL)),B3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uv((...s)=>{const[o,a,u,c,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===k1)this.id=a,this.password=u;else if(o===tL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[k1]="t",r[ck]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[iL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[XA]=av,this.transportSessionId&&(r[JA]=this.transportSessionId),this.lastSessionId&&(r[nk]=this.lastSessionId),this.applicationId&&(r[rk]=this.applicationId),this.appCheckToken&&(r[am]=this.appCheckToken),typeof location<"u"&&location.hostname&&tk.test(location.hostname)&&(r[ZA]=ek);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qr.forceAllow_=!0}static forceDisallow(){Qr.forceDisallow_=!0}static isAvailable(){return Qr.forceAllow_?!0:!Qr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!z3()&&!W3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=zS(n),i=GA(r,uL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[lL]="t",r[lk]=e,r[uk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=We(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class uv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$A(),window[nL+this.uniqueCallbackIdentifier]=e,window[rL+this.uniqueCallbackIdentifier]=n,this.myIFrame=uv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Xe("frame writing exception"),a.stack&&Xe(a.stack),Xe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lk]=this.myID,e[uk]=this.myPW,e[ck]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hk+r.length<=dk;){const o=this.pendingSegs.shift();r=r+"&"+sL+i+"="+o.seg+"&"+oL+i+"="+o.ts+"&"+aL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(cL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=16384,fL=45e3;let Xc=null;typeof MozWebSocket<"u"?Xc=MozWebSocket:typeof WebSocket<"u"&&(Xc=WebSocket);class pn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fl(this.connId),this.stats_=lv(n),this.connURL=pn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[XA]=av,typeof location<"u"&&location.hostname&&tk.test(location.hostname)&&(o[ZA]=ek),n&&(o[JA]=n),r&&(o[nk]=r),i&&(o[am]=i),s&&(o[rk]=s),ak(e,ik,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ji.set("previous_websocket_failure",!0);try{let r;GS(),this.mySock=new Xc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Xc!==null&&!pn.forceDisallow_}static previouslyFailed(){return ji.isInMemoryStorage||ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){ji.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=sl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=GA(n,hL);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Qr,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=pn&&pn.isAvailable();let r=n&&!pn.previouslyFailed();if(e.webSocketOnly&&(n||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[pn];else{const i=this.transports_=[];for(const s of co.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);co.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}co.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=6e4,mL=5e3,gL=10*1024,vL=100*1024,Pf="t",I1="d",yL="s",T1="r",_L="e",R1="o",x1="a",b1="n",N1="p",wL="h";class EL{constructor(e,n,r,i,s,o,a,u,c,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fl("c:"+this.id+":"),this.transportManager_=new co(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ka(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pf in e){const n=e[Pf];n===x1?this.upgradeIfSecondaryHealthy_():n===T1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===R1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ea("t",e),r=ea("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:N1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:b1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ea("t",e),r=ea("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ea(Pf,e);if(I1 in e){const r=e[I1];if(n===wL){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===b1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yL?this.onConnectionShutdown_(r):n===T1?this.onReset_(r):n===_L?om("Server Error: "+r):n===R1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):om("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),av!==r&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ka(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ka(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:N1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends pk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jc}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=32,O1=768;class pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ce(){return new pe("")}function ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hi(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function cv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function CL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ul(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Re(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function Tt(t,e){const n=ne(t),r=ne(e);if(n===null)return e;if(n===r)return Tt(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function SL(t,e){const n=ul(t,0),r=ul(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=cs(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function dv(t,e){if(hi(t)!==hi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(hi(t)>hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class AL{constructor(e,n){this.errorPrefix_=n,this.parts_=ul(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vd(this.parts_[r]);gk(this)}}function kL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vd(e),gk(t)}function IL(t){const e=t.parts_.pop();t.byteLength_-=Vd(e),t.parts_.length>0&&(t.byteLength_-=1)}function gk(t){if(t.byteLength_>O1)throw new Error(t.errorPrefix_+"has a key path longer than "+O1+" bytes ("+t.byteLength_+").");if(t.parts_.length>P1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+P1+") or object contains a cycle "+Pi(t))}function Pi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends pk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new hv}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=1e3,TL=60*5*1e3,D1=30*1e3,RL=1.3,xL=3e4,bL="server_kill",L1=3;class pr extends fk{constructor(e,n,r,i,s,o,a,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=u,this.id=pr.nextPersistentConnectionId_++,this.log_=Fl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ta,this.maxReconnectDelay_=TL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!GS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(We(s)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new jt,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const u=a.d,c=a.s;pr.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&rn(e,"w")){const r=Ji(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ZP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=D1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=JP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):om("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xL&&(this.reconnectDelay_=ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+pr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const u=function(){a?a.close():(o=!0,r())},c=function(f){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:u,sendRequest:c};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new EL(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{gt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(bL)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&gt(f),u())}}}interrupt(e){Xe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zc(this.interruptReasons_)&&(this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ov(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Xe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=L1&&(this.reconnectDelay_=D1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=L1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+WA.replace(/\./g,"-")]=1,Vg()?e["framework.cordova"]=1:KS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jc.getInstance().currentlyOnline();return zc(this.interruptReasons_)&&e}}pr.nextPersistentConnectionId_=0;pr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(di,e),i=new ie(di,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;class vk extends qd{static get __EMPTY_NODE(){return Pu}static set __EMPTY_NODE(e){Pu=e}compare(e,n){return cs(e.name,n.name)}isDefinedOn(e){throw Eo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(Cr,Pu)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,Pu)}toString(){return".key"}}const Yn=new vk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ut.EMPTY_NODE,this.right=s??Ut.EMPTY_NODE}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ut.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ye.RED=!0;Ye.BLACK=!1;class NL{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ye.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ou(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ou(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ou(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ou(this.root_,null,this.comparator_,!0,e)}}Ut.EMPTY_NODE=new NL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){return cs(t.name,e.name)}function fv(t,e){return cs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm;function OL(t){lm=t}const yk=function(t){return typeof t=="number"?"number:"+YA(t):"string:"+t},_k=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&rn(e,".sv"),"Priority must be a string or number.")}else B(t===lm||t.isEmpty(),"priority of unexpected type.");B(t===lm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M1;class qe{constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_k(this.priorityNode_)}static set __childrenNodeConstructor(e){M1=e}static get __childrenNodeConstructor(){return M1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:ne(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=YA(this.value_):e+=this.value_,this.lazyHash_=qA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=qe.VALUE_TYPE_ORDER.indexOf(n),s=qe.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wk,Ek;function DL(t){wk=t}function LL(t){Ek=t}class ML extends qd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?cs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(Cr,new qe("[PRIORITY-POST]",Ek))}makePost(e,n){const r=wk(e);return new ie(n,new qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ce=new ML;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=Math.log(2);class FL{constructor(e){const n=s=>parseInt(Math.log(s)/jL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zc=function(t,e,n,r){t.sort(e);const i=function(u,c){const p=c-u;let f,d;if(p===0)return null;if(p===1)return f=t[u],d=n?n(f):f,new Ye(d,f.node,Ye.BLACK,null,null);{const v=parseInt(p/2,10)+u,E=i(u,v),k=i(v+1,c);return f=t[v],d=n?n(f):f,new Ye(d,f.node,Ye.BLACK,E,k)}},s=function(u){let c=null,p=null,f=t.length;const d=function(E,k){const T=f-E,A=f;f-=E;const y=i(T+1,A),g=t[T],C=n?n(g):g;v(new Ye(C,g.node,k,null,y))},v=function(E){c?(c.left=E,c=E):(p=E,c=E)};for(let E=0;E<u.count;++E){const k=u.nextBitIsOne(),T=Math.pow(2,u.count-(E+1));k?d(T,Ye.BLACK):(d(T,Ye.BLACK),d(T,Ye.RED))}return p},o=new FL(t.length),a=s(o);return new Ut(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of;const Ss={};class dr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return B(Ss&&Ce,"ChildrenNode.ts has not been loaded"),Of=Of||new dr({".priority":Ss},{".priority":Ce}),Of}get(e){const n=Ji(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return rn(this.indexSet_,e.toString())}addIndex(e,n){B(e!==Yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Zc(r,e.getCompare()):a=Ss;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const p=Object.assign({},this.indexes_);return p[u]=a,new dr(p,c)}addToIndexes(e,n){const r=Wc(this.indexes_,(i,s)=>{const o=Ji(this.indexSet_,s);if(B(o,"Missing index implementation for "+s),i===Ss)if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(ie.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Zc(a,o.getCompare())}else return Ss;else{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new ie(e.name,a))),u.insert(e,e.node)}});return new dr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Wc(this.indexes_,i=>{if(i===Ss)return i;{const s=n.get(e.name);return s?i.remove(new ie(e.name,s)):i}});return new dr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na;class Y{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_k(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return na||(na=new Y(new Ut(fv),null,dr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||na}updatePriority(e){return this.children_.isEmpty()?this:new Y(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?na:n}}getChild(e){const n=ne(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?na:this.priorityNode_;return new Y(i,o,s)}}updateChild(e,n){const r=ne(e);if(r===null)return n;{B(ne(e)!==".priority"||hi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ce,(o,a)=>{n[o]=a.val(e),r++,s&&Y.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yk(this.getPriority().val())+":"),this.forEachChild(Ce,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":qA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ul?-1:0}withIndex(e){if(e===Yn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Y(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Yn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ce),i=n.getIterator(Ce);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Yn?null:this.indexMap_.get(e.toString())}}Y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class UL extends Y{constructor(){super(new Ut(fv),Y.EMPTY_NODE,dr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Y.EMPTY_NODE}isEmpty(){return!1}}const Ul=new UL;Object.defineProperties(ie,{MIN:{value:new ie(di,Y.EMPTY_NODE)},MAX:{value:new ie(Cr,Ul)}});vk.__EMPTY_NODE=Y.EMPTY_NODE;qe.__childrenNodeConstructor=Y;OL(Ul);LL(Ul);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=!0;function be(t,e=null){if(t===null)return Y.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,be(e))}if(!(t instanceof Array)&&BL){const n=[];let r=!1;if(Ze(t,(o,a)=>{if(o.substring(0,1)!=="."){const u=be(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ie(o,u)))}}),n.length===0)return Y.EMPTY_NODE;const s=Zc(n,PL,o=>o.name,fv);if(r){const o=Zc(n,Ce.getCompare());return new Y(s,be(e),new dr({".priority":o},{".priority":Ce}))}else return new Y(s,be(e),dr.Default)}else{let n=Y.EMPTY_NODE;return Ze(t,(r,i)=>{if(rn(t,r)&&r.substring(0,1)!=="."){const s=be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(be(e))}}DL(be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends qd{constructor(e){super(),this.indexPath_=e,B(!re(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?cs(e.name,n.name):s}makePost(e,n){const r=be(e),i=Y.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){const e=Y.EMPTY_NODE.updateChild(this.indexPath_,Ul);return new ie(Cr,e)}toString(){return ul(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL extends qd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?cs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=be(e);return new ie(n,r)}toString(){return".value"}}const mv=new VL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){return{type:"value",snapshotNode:t}}function ho(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function cl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function dl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(cl(n,a)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ho(n,r)):o.trackChildChange(dl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ce,(i,s)=>{n.hasChild(i)||r.trackChildChange(cl(i,s))}),n.isLeafNode()||n.forEachChild(Ce,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(dl(i,s,o))}else r.trackChildChange(ho(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Y.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.indexedFilter_=new gv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hl.getStartPost_(e),this.endPost_=hl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ie(n,r))||(r=Y.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Y.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Y.EMPTY_NODE);const s=this;return n.forEachChild(Ce,(o,a)=>{s.matches(new ie(o,a))||(i=i.updateImmediateChild(o,Y.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new hl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ie(n,r))||(r=Y.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Y.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Y.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Y.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Y.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,v)=>f(v,d)}else o=this.index_.getCompare();const a=e;B(a.numChildren()===this.limit_,"");const u=new ie(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const v=d==null?1:o(d,u);if(p&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(dl(n,r,f)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(cl(n,f));const k=a.updateImmediateChild(n,Y.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(ho(d.name,d.node)),k.updateImmediateChild(d.name,d.node)):k}}else return r.isEmpty()?e:p&&o(c,u)>=0?(s!=null&&(s.trackChildChange(cl(c.name,c.node)),s.trackChildChange(ho(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Y.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:di}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){const e=new Kd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QL(t){return t.loadsAllData()?new gv(t.getIndex()):t.hasLimit()?new WL(t):new hl(t)}function HL(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function $L(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function um(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function qL(t,e,n){let r;return t.index_===Yn||n?r=um(t,e,n):r=um(t,e,Cr),r.startAfterSet_=!0,r}function cm(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function KL(t,e,n){let r;return t.index_===Yn||n?r=cm(t,e,n):r=cm(t,e,di),r.endBeforeSet_=!0,r}function Gd(t,e){const n=t.copy();return n.index_=e,n}function j1(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ce?n="$priority":t.index_===mv?n="$value":t.index_===Yn?n="$key":(B(t.index_ instanceof pv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=We(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=We(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+We(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=We(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+We(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function F1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ce&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends fk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ed.getListenId_(e,r),a={};this.listens_[o]=a;const u=j1(e._queryParams);this.restRequest_(s+".json",u,(c,p)=>{let f=p;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),Ji(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,n){const r=ed.getListenId_(e,n);delete this.listens_[r]}get(e){const n=j1(e._queryParams),r=e._path.toString(),i=new jt;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Co(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=sl(a.responseText)}catch{gt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else a.status!==401&&a.status!==404&&gt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){return{value:null,children:new Map}}function To(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ne(e);t.children.has(r)||t.children.set(r,td());const i=t.children.get(r);e=_e(e),To(i,e,n)}}function dm(t,e){if(re(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Ce,(r,i)=>{To(t,new pe(r),i)}),dm(t,e)}}else if(t.children.size>0){const n=ne(e);return e=_e(e),t.children.has(n)&&dm(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function hm(t,e,n){t.value!==null?n(e,t.value):YL(t,(r,i)=>{const s=new pe(e.toString()+"/"+r);hm(i,s,n)})}function YL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ze(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=10*1e3,JL=30*1e3,ZL=5*60*1e3;class e9{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new XL(e);const r=U1+(JL-U1)*Math.random();ka(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ze(e,(i,s)=>{s>0&&rn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ka(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nn||(Nn={}));function vv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _v(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nn.ACK_USER_WRITE,this.source=vv()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new nd(ce(),n,this.revert)}}else return B(ne(this.path)===e,"operationForChild called for unrelated child."),new nd(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.source=e,this.path=n,this.type=Nn.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new fl(this.source,ce()):new fl(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nn.OVERWRITE}operationForChild(e){return re(this.path)?new ns(this.source,ce(),this.snap.getImmediateChild(e)):new ns(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nn.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new ns(this.source,ce(),n.value):new fo(this.source,ce(),n)}else return B(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fo(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function n9(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(zL(o.childName,o.snapshotNode))}),ra(t,i,"child_removed",e,r,n),ra(t,i,"child_added",e,r,n),ra(t,i,"child_moved",s,r,n),ra(t,i,"child_changed",e,r,n),ra(t,i,"value",e,r,n),i}function ra(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>i9(t,a,u)),o.forEach(a=>{const u=r9(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function r9(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function i9(t,e,n){if(e.childName==null||n.childName==null)throw Eo("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e){return{eventCache:t,serverCache:e}}function Ia(t,e,n,r){return Yd(new fi(e,n,r),t.serverCache)}function Sk(t,e,n,r){return Yd(t.eventCache,new fi(e,n,r))}function rd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function rs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df;const s9=()=>(Df||(Df=new Ut(V3)),Df);class we{constructor(e,n=s9()){this.value=e,this.children=n}static fromObject(e){let n=new we(null);return Ze(e,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ce(),value:this.value};if(re(e))return null;{const r=ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return s!=null?{path:Re(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=ne(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new we(null)}}set(e,n){if(re(e))return new we(n,this.children);{const r=ne(e),s=(this.children.get(r)||new we(null)).set(_e(e),n),o=this.children.insert(r,s);return new we(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=ne(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new we(null):new we(this.value,s)}else return this}}get(e){if(re(e))return this.value;{const n=ne(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(re(e))return n;{const r=ne(e),s=(this.children.get(r)||new we(null)).setTree(_e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new we(this.value,o)}}fold(e){return this.fold_(ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ce(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(re(e))return null;{const s=ne(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ce(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const i=ne(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Re(n,i),r):new we(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.writeTree_=e}static empty(){return new Dn(new we(null))}}function Ta(t,e,n){if(re(e))return new Dn(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Tt(i,e);return s=s.updateChild(o,n),new Dn(t.writeTree_.set(i,s))}else{const i=new we(n),s=t.writeTree_.setTree(e,i);return new Dn(s)}}}function fm(t,e,n){let r=t;return Ze(n,(i,s)=>{r=Ta(r,Re(e,i),s)}),r}function B1(t,e){if(re(e))return Dn.empty();{const n=t.writeTree_.setTree(e,new we(null));return new Dn(n)}}function pm(t,e){return ds(t,e)!=null}function ds(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tt(n.path,e)):null}function V1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ce,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function ni(t,e){if(re(e))return t;{const n=ds(t,e);return n!=null?new Dn(new we(n)):new Dn(t.writeTree_.subtree(e))}}function mm(t){return t.writeTree_.isEmpty()}function po(t,e){return Ak(ce(),t.writeTree_,e)}function Ak(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Ak(Re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Re(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e){return Rk(e,t)}function o9(t,e,n,r,i){B(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ta(t.visibleWrites,e,n)),t.lastWriteId=r}function a9(t,e,n,r){B(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=fm(t.visibleWrites,e,n),t.lastWriteId=r}function l9(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function u9(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&c9(a,r.path)?i=!1:gn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return d9(t),!0;if(r.snap)t.visibleWrites=B1(t.visibleWrites,r.path);else{const a=r.children;Ze(a,u=>{t.visibleWrites=B1(t.visibleWrites,Re(r.path,u))})}return!0}else return!1}function c9(t,e){if(t.snap)return gn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gn(Re(t.path,n),e))return!0;return!1}function d9(t){t.visibleWrites=kk(t.allWrites,h9,ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function h9(t){return t.visible}function kk(t,e,n){let r=Dn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)gn(n,o)?(a=Tt(n,o),r=Ta(r,a,s.snap)):gn(o,n)&&(a=Tt(o,n),r=Ta(r,ce(),s.snap.getChild(a)));else if(s.children){if(gn(n,o))a=Tt(n,o),r=fm(r,a,s.children);else if(gn(o,n))if(a=Tt(o,n),re(a))r=fm(r,ce(),s.children);else{const u=Ji(s.children,ne(a));if(u){const c=u.getChild(_e(a));r=Ta(r,ce(),c)}}}else throw Eo("WriteRecord should have .snap or .children")}}return r}function Ik(t,e,n,r,i){if(!r&&!i){const s=ds(t.visibleWrites,e);if(s!=null)return s;{const o=ni(t.visibleWrites,e);if(mm(o))return n;if(n==null&&!pm(o,ce()))return null;{const a=n||Y.EMPTY_NODE;return po(o,a)}}}else{const s=ni(t.visibleWrites,e);if(!i&&mm(s))return n;if(!i&&n==null&&!pm(s,ce()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(gn(c.path,e)||gn(e,c.path))},a=kk(t.allWrites,o,e),u=n||Y.EMPTY_NODE;return po(a,u)}}}function f9(t,e,n){let r=Y.EMPTY_NODE;const i=ds(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ni(t.visibleWrites,e);return n.forEachChild(Ce,(o,a)=>{const u=po(ni(s,new pe(o)),a);r=r.updateImmediateChild(o,u)}),V1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ni(t.visibleWrites,e);return V1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function p9(t,e,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Re(e,n);if(pm(t.visibleWrites,s))return null;{const o=ni(t.visibleWrites,s);return mm(o)?i.getChild(n):po(o,i.getChild(n))}}function m9(t,e,n,r){const i=Re(e,n),s=ds(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ni(t.visibleWrites,i);return po(o,r.getNode().getImmediateChild(n))}else return null}function g9(t,e){return ds(t.visibleWrites,e)}function v9(t,e,n,r,i,s,o){let a;const u=ni(t.visibleWrites,e),c=ds(u,ce());if(c!=null)a=c;else if(n!=null)a=po(u,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const p=[],f=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=d.getNext();for(;v&&p.length<i;)f(v,r)!==0&&p.push(v),v=d.getNext();return p}else return[]}function y9(){return{visibleWrites:Dn.empty(),allWrites:[],lastWriteId:-1}}function id(t,e,n,r){return Ik(t.writeTree,t.treePath,e,n,r)}function wv(t,e){return f9(t.writeTree,t.treePath,e)}function z1(t,e,n,r){return p9(t.writeTree,t.treePath,e,n,r)}function sd(t,e){return g9(t.writeTree,Re(t.treePath,e))}function _9(t,e,n,r,i,s){return v9(t.writeTree,t.treePath,e,n,r,i,s)}function Ev(t,e,n){return m9(t.writeTree,t.treePath,e,n)}function Tk(t,e){return Rk(Re(t.treePath,e),t.writeTree)}function Rk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,dl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,cl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ho(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,dl(r,e.snapshotNode,i.oldSnap));else throw Eo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const xk=new E9;class Cv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ev(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rs(this.viewCache_),s=_9(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){return{filter:t}}function S9(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function A9(t,e,n,r,i){const s=new w9;let o,a;if(n.type===Nn.OVERWRITE){const c=n;c.source.fromUser?o=gm(t,e,c.path,c.snap,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!re(c.path),o=od(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Nn.MERGE){const c=n;c.source.fromUser?o=I9(t,e,c.path,c.children,r,i,s):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=vm(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Nn.ACK_USER_WRITE){const c=n;c.revert?o=x9(t,e,c.path,r,i,s):o=T9(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Nn.LISTEN_COMPLETE)o=R9(t,e,n.path,r,s);else throw Eo("Unknown operation type: "+n.type);const u=s.getChanges();return k9(e,o,u),{viewCache:o,changes:u}}function k9(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ck(rd(e)))}}function bk(t,e,n,r,i,s){const o=e.eventCache;if(sd(r,n)!=null)return e;{let a,u;if(re(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=rs(e),p=c instanceof Y?c:Y.EMPTY_NODE,f=wv(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=id(r,rs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ne(n);if(c===".priority"){B(hi(n)===1,"Can't have a priority with additional path components");const p=o.getNode();u=e.serverCache.getNode();const f=z1(r,n,p,u);f!=null?a=t.filter.updatePriority(p,f):a=o.getNode()}else{const p=_e(n);let f;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const d=z1(r,n,o.getNode(),u);d!=null?f=o.getNode().getImmediateChild(c).updateChild(p,d):f=o.getNode().getImmediateChild(c)}else f=Ev(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,p,i,s):a=o.getNode()}}return Ia(e,a,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function od(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const p=o?t.filter:t.filter.getIndexedFilter();if(re(n))c=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(n,r);c=p.updateFullNode(u.getNode(),v,null)}else{const v=ne(n);if(!u.isCompleteForPath(n)&&hi(n)>1)return e;const E=_e(n),T=u.getNode().getImmediateChild(v).updateChild(E,r);v===".priority"?c=p.updatePriority(u.getNode(),T):c=p.updateChild(u.getNode(),v,T,E,xk,null)}const f=Sk(e,c,u.isFullyInitialized()||re(n),p.filtersNodes()),d=new Cv(i,f,s);return bk(t,f,n,i,d,a)}function gm(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const p=new Cv(i,e,s);if(re(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Ia(e,c,!0,t.filter.filtersNodes());else{const f=ne(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Ia(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=_e(n),v=a.getNode().getImmediateChild(f);let E;if(re(d))E=r;else{const k=p.getCompleteChild(f);k!=null?cv(d)===".priority"&&k.getChild(mk(d)).isEmpty()?E=k:E=k.updateChild(d,r):E=Y.EMPTY_NODE}if(v.equals(E))u=e;else{const k=t.filter.updateChild(a.getNode(),f,E,d,p,o);u=Ia(e,k,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function W1(t,e){return t.eventCache.isCompleteForChild(e)}function I9(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const p=Re(n,u);W1(e,ne(p))&&(a=gm(t,a,p,c,i,s,o))}),r.foreach((u,c)=>{const p=Re(n,u);W1(e,ne(p))||(a=gm(t,a,p,c,i,s,o))}),a}function Q1(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function vm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;re(n)?c=r:c=new we(null).setTree(n,r);const p=e.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(p.hasChild(f)){const v=e.serverCache.getNode().getImmediateChild(f),E=Q1(t,v,d);u=od(t,u,new pe(f),E,i,s,o,a)}}),c.children.inorderTraversal((f,d)=>{const v=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!p.hasChild(f)&&!v){const E=e.serverCache.getNode().getImmediateChild(f),k=Q1(t,E,d);u=od(t,u,new pe(f),k,i,s,o,a)}}),u}function T9(t,e,n,r,i,s,o){if(sd(i,n)!=null)return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(re(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return od(t,e,n,u.getNode().getChild(n),i,s,a,o);if(re(n)){let c=new we(null);return u.getNode().forEachChild(Yn,(p,f)=>{c=c.set(new pe(p),f)}),vm(t,e,n,c,i,s,a,o)}else return e}else{let c=new we(null);return r.foreach((p,f)=>{const d=Re(n,p);u.isCompleteForPath(d)&&(c=c.set(p,u.getNode().getChild(d)))}),vm(t,e,n,c,i,s,a,o)}}function R9(t,e,n,r,i){const s=e.serverCache,o=Sk(e,s.getNode(),s.isFullyInitialized()||re(n),s.isFiltered());return bk(t,o,n,r,xk,i)}function x9(t,e,n,r,i,s){let o;if(sd(r,n)!=null)return e;{const a=new Cv(r,e,i),u=e.eventCache.getNode();let c;if(re(n)||ne(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=id(r,rs(e));else{const f=e.serverCache.getNode();B(f instanceof Y,"serverChildren would be complete if leaf node"),p=wv(r,f)}p=p,c=t.filter.updateFullNode(u,p,s)}else{const p=ne(n);let f=Ev(r,p,e.serverCache);f==null&&e.serverCache.isCompleteForChild(p)&&(f=u.getImmediateChild(p)),f!=null?c=t.filter.updateChild(u,p,f,_e(n),a,s):e.eventCache.getNode().hasChild(p)?c=t.filter.updateChild(u,p,Y.EMPTY_NODE,_e(n),a,s):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=id(r,rs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||sd(r,ce())!=null,Ia(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b9=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new gv(r.getIndex()),s=QL(r);this.processor_=C9(s);const o=n.serverCache,a=n.eventCache,u=i.updateFullNode(Y.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Y.EMPTY_NODE,a.getNode(),null),p=new fi(u,o.isFullyInitialized(),i.filtersNodes()),f=new fi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yd(f,p),this.eventGenerator_=new t9(this.query_)}get query(){return this.query_}};function N9(t){return t.viewCache_.serverCache.getNode()}function P9(t){return rd(t.viewCache_)}function O9(t,e){const n=rs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(ne(e)).isEmpty())?n.getChild(e):null}function H1(t){return t.eventRegistrations_.length===0}function D9(t,e){t.eventRegistrations_.push(e)}function $1(t,e,n){const r=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function q1(t,e,n,r){e.type===Nn.MERGE&&e.source.queryId!==null&&(B(rs(t.viewCache_),"We should always have a full cache before handling merges"),B(rd(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=A9(t.processor_,i,e,n,r);return S9(t.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Nk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function L9(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ce,(s,o)=>{r.push(ho(s,o))}),n.isFullyInitialized()&&r.push(Ck(n.getNode())),Nk(t,r,n.getNode(),e)}function Nk(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return n9(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad;class Pk{constructor(){this.views=new Map}}function M9(t){B(!ad,"__referenceConstructor has already been defined"),ad=t}function j9(){return B(ad,"Reference.ts has not been loaded"),ad}function F9(t){return t.views.size===0}function Sv(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return B(s!=null,"SyncTree gave us an op for an invalid query."),q1(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(q1(o,e,n,r));return s}}function Ok(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=id(n,i?r:null),u=!1;a?u=!0:r instanceof Y?(a=wv(n,r),u=!1):(a=Y.EMPTY_NODE,u=!1);const c=Yd(new fi(a,u,!1),new fi(r,i,!1));return new b9(e,c)}return o}function U9(t,e,n,r,i,s){const o=Ok(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),D9(o,n),L9(o,n)}function B9(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=pi(t);if(i==="default")for(const[u,c]of t.views.entries())o=o.concat($1(c,n,r)),H1(c)&&(t.views.delete(u),c.query._queryParams.loadsAllData()||s.push(c.query));else{const u=t.views.get(i);u&&(o=o.concat($1(u,n,r)),H1(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return a&&!pi(t)&&s.push(new(j9())(e._repo,e._path)),{removed:s,events:o}}function Dk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ri(t,e){let n=null;for(const r of t.views.values())n=n||O9(r,e);return n}function Lk(t,e){if(e._queryParams.loadsAllData())return Jd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Mk(t,e){return Lk(t,e)!=null}function pi(t){return Jd(t)!=null}function Jd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;function V9(t){B(!ld,"__referenceConstructor has already been defined"),ld=t}function z9(){return B(ld,"Reference.ts has not been loaded"),ld}let W9=1;class K1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=y9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Av(t,e,n,r,i){return o9(t.pendingWriteTree_,e,n,r,i),i?Ro(t,new ns(vv(),e,n)):[]}function Q9(t,e,n,r){a9(t.pendingWriteTree_,e,n,r);const i=we.fromObject(n);return Ro(t,new fo(vv(),e,i))}function Hr(t,e,n=!1){const r=l9(t.pendingWriteTree_,e);if(u9(t.pendingWriteTree_,e)){let s=new we(null);return r.snap!=null?s=s.set(ce(),!0):Ze(r.children,o=>{s=s.set(new pe(o),!0)}),Ro(t,new nd(r.path,s,n))}else return[]}function Bl(t,e,n){return Ro(t,new ns(yv(),e,n))}function H9(t,e,n){const r=we.fromObject(n);return Ro(t,new fo(yv(),e,r))}function $9(t,e){return Ro(t,new fl(yv(),e))}function q9(t,e,n){const r=kv(t,n);if(r){const i=Iv(r),s=i.path,o=i.queryId,a=Tt(s,e),u=new fl(_v(o),a);return Tv(t,s,u)}else return[]}function ud(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Mk(o,e))){const u=B9(o,e,n,r);F9(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=u.removed;if(a=u.events,!i){const p=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(d,v)=>pi(v));if(p&&!f){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const v=Y9(d);for(let E=0;E<v.length;++E){const k=v[E],T=k.query,A=Bk(t,k);t.listenProvider_.startListening(Ra(T),pl(t,T),A.hashFn,A.onComplete)}}}!f&&c.length>0&&!r&&(p?t.listenProvider_.stopListening(Ra(e),null):c.forEach(d=>{const v=t.queryToTagMap.get(eh(d));t.listenProvider_.stopListening(Ra(d),v)}))}X9(t,c)}return a}function jk(t,e,n,r){const i=kv(t,r);if(i!=null){const s=Iv(i),o=s.path,a=s.queryId,u=Tt(o,e),c=new ns(_v(a),u,n);return Tv(t,o,c)}else return[]}function K9(t,e,n,r){const i=kv(t,r);if(i){const s=Iv(i),o=s.path,a=s.queryId,u=Tt(o,e),c=we.fromObject(n),p=new fo(_v(a),u,c);return Tv(t,o,p)}else return[]}function ym(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,v)=>{const E=Tt(d,i);s=s||ri(v,E),o=o||pi(v)});let a=t.syncPointTree_.get(i);a?(o=o||pi(a),s=s||ri(a,ce())):(a=new Pk,t.syncPointTree_=t.syncPointTree_.set(i,a));let u;s!=null?u=!0:(u=!1,s=Y.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const k=ri(E,ce());k&&(s=s.updateImmediateChild(v,k))}));const c=Mk(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=eh(e);B(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const v=J9();t.queryToTagMap.set(d,v),t.tagToQueryMap.set(v,d)}const p=Xd(t.pendingWriteTree_,i);let f=U9(a,e,n,p,s,u);if(!c&&!o&&!r){const d=Lk(a,e);f=f.concat(Z9(t,e,d))}return f}function Zd(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=Tt(o,e),c=ri(a,u);if(c)return c});return Ik(i,e,s,n,!0)}function G9(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,p)=>{const f=Tt(c,n);r=r||ri(p,f)});let i=t.syncPointTree_.get(n);i?r=r||ri(i,ce()):(i=new Pk,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new fi(r,!0,!1):null,a=Xd(t.pendingWriteTree_,e._path),u=Ok(i,e,a,s?o.getNode():Y.EMPTY_NODE,s);return P9(u)}function Ro(t,e){return Fk(e,t.syncPointTree_,null,Xd(t.pendingWriteTree_,ce()))}function Fk(t,e,n,r){if(re(t.path))return Uk(t,e,n,r);{const i=e.get(ce());n==null&&i!=null&&(n=ri(i,ce()));let s=[];const o=ne(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,p=Tk(r,o);s=s.concat(Fk(a,u,c,p))}return i&&(s=s.concat(Sv(i,t,r,n))),s}}function Uk(t,e,n,r){const i=e.get(ce());n==null&&i!=null&&(n=ri(i,ce()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=Tk(r,o),p=t.operationForChild(o);p&&(s=s.concat(Uk(p,a,u,c)))}),i&&(s=s.concat(Sv(i,t,r,n))),s}function Bk(t,e){const n=e.query,r=pl(t,n);return{hashFn:()=>(N9(e)||Y.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?q9(t,n._path,r):$9(t,n._path);{const s=Q3(i,n);return ud(t,n,null,s)}}}}function pl(t,e){const n=eh(e);return t.queryToTagMap.get(n)}function eh(t){return t._path.toString()+"$"+t._queryIdentifier}function kv(t,e){return t.tagToQueryMap.get(e)}function Iv(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function Tv(t,e,n){const r=t.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");const i=Xd(t.pendingWriteTree_,e);return Sv(r,n,i,null)}function Y9(t){return t.fold((e,n,r)=>{if(n&&pi(n))return[Jd(n)];{let i=[];return n&&(i=Dk(n)),Ze(r,(s,o)=>{i=i.concat(o)}),i}})}function Ra(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(z9())(t._repo,t._path):t}function X9(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=eh(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function J9(){return W9++}function Z9(t,e,n){const r=e._path,i=pl(t,e),s=Bk(t,n),o=t.listenProvider_.startListening(Ra(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)B(!pi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const u=a.fold((c,p,f)=>{if(!re(c)&&p&&pi(p))return[Jd(p).query];{let d=[];return p&&(d=d.concat(Dk(p).map(v=>v.query))),Ze(f,(v,E)=>{d=d.concat(E)}),d}});for(let c=0;c<u.length;++c){const p=u[c];t.listenProvider_.stopListening(Ra(p),pl(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Rv(n)}node(){return this.node_}}class xv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Re(this.path_,e);return new xv(this.syncTree_,n)}node(){return Zd(this.syncTree_,this.path_)}}const e6=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},G1=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return t6(t[".sv"],e,n);if(typeof t[".sv"]=="object")return n6(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},t6=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},n6=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const i=e.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Vk=function(t,e,n,r){return Nv(e,new xv(n,t),r)},bv=function(t,e,n){return Nv(t,new Rv(e),n)};function Nv(t,e,n){const r=t.getPriority().val(),i=G1(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=G1(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new qe(a,be(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qe(i))),o.forEachChild(Ce,(a,u)=>{const c=Nv(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function th(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=ne(n);for(;i!==null;){const s=Ji(r.node.children,i)||{children:{},childCount:0};r=new Pv(i,r,s),n=_e(n),i=ne(n)}return r}function hs(t){return t.node.value}function Ov(t,e){t.node.value=e,_m(t)}function zk(t){return t.node.childCount>0}function r6(t){return hs(t)===void 0&&!zk(t)}function nh(t,e){Ze(t.node.children,(n,r)=>{e(new Pv(n,t,r))})}function Wk(t,e,n,r){n&&!r&&e(t),nh(t,i=>{Wk(i,e,!0,r)}),n&&r&&e(t)}function i6(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vl(t){return new pe(t.parent===null?t.name:Vl(t.parent)+"/"+t.name)}function _m(t){t.parent!==null&&s6(t.parent,t.name,t)}function s6(t,e,n){const r=r6(n),i=rn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,_m(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,_m(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=/[\[\].#$\/\u0000-\u001F\u007F]/,a6=/[\[\].#$\u0000-\u001F\u007F]/,Lf=10*1024*1024,rh=function(t){return typeof t=="string"&&t.length!==0&&!o6.test(t)},Qk=function(t){return typeof t=="string"&&t.length!==0&&!a6.test(t)},l6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Qk(t)},ml=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!$d(t)||t&&typeof t=="object"&&rn(t,".sv")},er=function(t,e,n,r){r&&e===void 0||zl(Wt(t,"value"),e,n)},zl=function(t,e,n){const r=n instanceof pe?new AL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pi(r)+" with contents = "+e.toString());if($d(e))throw new Error(t+"contains "+e.toString()+" "+Pi(r));if(typeof e=="string"&&e.length>Lf/3&&Vd(e)>Lf)throw new Error(t+"contains a string greater than "+Lf+" utf8 bytes "+Pi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ze(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!rh(o)))throw new Error(t+" contains an invalid key ("+o+") "+Pi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kL(r,o),zl(t,a,r),IL(r)}),i&&s)throw new Error(t+' contains ".value" child '+Pi(r)+" in addition to actual children.")}},u6=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=ul(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!rh(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(SL);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&gn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Hk=function(t,e,n,r){if(r&&e===void 0)return;const i=Wt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ze(e,(o,a)=>{const u=new pe(o);if(zl(i,a,Re(n,u)),cv(u)===".priority"&&!ml(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),u6(i,s)},Dv=function(t,e,n){if(!(n&&e===void 0)){if($d(e))throw new Error(Wt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ml(e))throw new Error(Wt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wl=function(t,e,n,r){if(!(r&&n===void 0)&&!rh(n))throw new Error(Wt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},gl=function(t,e,n,r){if(!(r&&n===void 0)&&!Qk(n))throw new Error(Wt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},c6=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gl(t,e,n,r)},vn=function(t,e){if(ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$k=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!l6(n))throw new Error(Wt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ih(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!dv(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function qk(t,e,n){ih(t,n),Kk(t,r=>dv(r,e))}function on(t,e,n){ih(t,n),Kk(t,r=>gn(r,e)||gn(e,r))}function Kk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(h6(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function h6(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();zi&&Xe("event: "+n.toString()),Io(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="repo_interrupt",f6=25;class p6{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new d6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=td(),this.transactionQueueTree_=new Pv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m6(t,e,n){if(t.stats_=lv(t.repoInfo_),t.forceRestClient_||K3())t.server_=new ed(t.repoInfo_,(r,i,s,o)=>{Y1(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>X1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pr(t.repoInfo_,e,(r,i,s,o)=>{Y1(t,r,i,s,o)},r=>{X1(t,r)},r=>{g6(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Z3(t.repoInfo_,()=>new e9(t.stats_,t.server_)),t.infoData_=new GL,t.infoSyncTree_=new K1({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=Bl(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Lv(t,"connected",!1),t.serverSyncTree_=new K1({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);on(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Yk(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ql(t){return e6({timestamp:Yk(t)})}function Y1(t,e,n,r,i){t.dataUpdateCount++;const s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Wc(n,c=>be(c));o=K9(t.serverSyncTree_,s,u,i)}else{const u=be(n);o=jk(t.serverSyncTree_,s,u,i)}else if(r){const u=Wc(n,c=>be(c));o=H9(t.serverSyncTree_,s,u)}else{const u=be(n);o=Bl(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=mo(t,s)),on(t.eventQueue_,a,o)}function X1(t,e){Lv(t,"connected",e),e===!1&&_6(t)}function g6(t,e){Ze(e,(n,r)=>{Lv(t,n,r)})}function Lv(t,e,n){const r=new pe("/.info/"+e),i=be(n);t.infoData_.updateSnapshot(r,i);const s=Bl(t.infoSyncTree_,r,i);on(t.eventQueue_,r,s)}function sh(t){return t.nextWriteId_++}function v6(t,e,n){const r=G9(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=be(i).withIndex(e._queryParams.getIndex());ym(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Bl(t.serverSyncTree_,e._path,s);else{const a=pl(t.serverSyncTree_,e);o=jk(t.serverSyncTree_,e._path,s,a)}return on(t.eventQueue_,e._path,o),ud(t.serverSyncTree_,e,n,null,!0),s},i=>(xo(t,"get for query "+We(e)+" failed: "+i),Promise.reject(new Error(i))))}function Mv(t,e,n,r,i){xo(t,"set",{path:e.toString(),value:n,priority:r});const s=Ql(t),o=be(n,r),a=Zd(t.serverSyncTree_,e),u=bv(o,a,s),c=sh(t),p=Av(t.serverSyncTree_,e,u,c,!0);ih(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(d,v)=>{const E=d==="ok";E||gt("set at "+e+" failed: "+d);const k=Hr(t.serverSyncTree_,c,!E);on(t.eventQueue_,e,k),mi(t,i,d,v)});const f=Fv(t,e);mo(t,f),on(t.eventQueue_,f,[])}function y6(t,e,n,r){xo(t,"update",{path:e.toString(),value:n});let i=!0;const s=Ql(t),o={};if(Ze(n,(a,u)=>{i=!1,o[a]=Vk(Re(e,a),be(u),t.serverSyncTree_,s)}),i)Xe("update() called with empty data.  Don't do anything."),mi(t,r,"ok",void 0);else{const a=sh(t),u=Q9(t.serverSyncTree_,e,o,a);ih(t.eventQueue_,u),t.server_.merge(e.toString(),n,(c,p)=>{const f=c==="ok";f||gt("update at "+e+" failed: "+c);const d=Hr(t.serverSyncTree_,a,!f),v=d.length>0?mo(t,e):e;on(t.eventQueue_,v,d),mi(t,r,c,p)}),Ze(n,c=>{const p=Fv(t,Re(e,c));mo(t,p)}),on(t.eventQueue_,e,[])}}function _6(t){xo(t,"onDisconnectEvents");const e=Ql(t),n=td();hm(t.onDisconnect_,ce(),(i,s)=>{const o=Vk(i,s,t.serverSyncTree_,e);To(n,i,o)});let r=[];hm(n,ce(),(i,s)=>{r=r.concat(Bl(t.serverSyncTree_,i,s));const o=Fv(t,i);mo(t,o)}),t.onDisconnect_=td(),on(t.eventQueue_,ce(),r)}function w6(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&dm(t.onDisconnect_,e),mi(t,n,r,i)})}function J1(t,e,n,r){const i=be(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&To(t.onDisconnect_,e,i),mi(t,r,s,o)})}function E6(t,e,n,r,i){const s=be(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&To(t.onDisconnect_,e,s),mi(t,i,o,a)})}function C6(t,e,n,r){if(zc(n)){Xe("onDisconnect().update() called with empty data.  Don't do anything."),mi(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Ze(n,(o,a)=>{const u=be(a);To(t.onDisconnect_,Re(e,o),u)}),mi(t,r,i,s)})}function S6(t,e,n){let r;ne(e._path)===".info"?r=ym(t.infoSyncTree_,e,n):r=ym(t.serverSyncTree_,e,n),qk(t.eventQueue_,e._path,r)}function wm(t,e,n){let r;ne(e._path)===".info"?r=ud(t.infoSyncTree_,e,n):r=ud(t.serverSyncTree_,e,n),qk(t.eventQueue_,e._path,r)}function Xk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Gk)}function A6(t){t.persistentConnection_&&t.persistentConnection_.resume(Gk)}function xo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xe(n,...e)}function mi(t,e,n,r){e&&Io(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function k6(t,e,n,r,i,s){xo(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:$A(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=jv(t,e,void 0);o.currentInputSnapshot=a;const u=o.update(a.val());if(u===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{zl("transaction failed: Data returned ",u,o.path),o.status=0;const c=th(t.transactionQueueTree_,e),p=hs(c)||[];p.push(o),Ov(c,p);let f;typeof u=="object"&&u!==null&&rn(u,".priority")?(f=Ji(u,".priority"),B(ml(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Zd(t.serverSyncTree_,e)||Y.EMPTY_NODE).getPriority().val();const d=Ql(t),v=be(u,f),E=bv(v,a,d);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=E,o.currentWriteId=sh(t);const k=Av(t.serverSyncTree_,e,E,o.currentWriteId,o.applyLocally);on(t.eventQueue_,e,k),oh(t,t.transactionQueueTree_)}}function jv(t,e,n){return Zd(t.serverSyncTree_,e,n)||Y.EMPTY_NODE}function oh(t,e=t.transactionQueueTree_){if(e||ah(t,e),hs(e)){const n=Zk(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&I6(t,Vl(e),n)}else zk(e)&&nh(e,n=>{oh(t,n)})}function I6(t,e,n){const r=n.map(c=>c.currentWriteId),i=jv(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const p=n[c];B(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const f=Tt(e,p.path);s=s.updateChild(f,p.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{xo(t,"transaction put response",{path:u.toString(),status:c});let p=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,p=p.concat(Hr(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();ah(t,th(t.transactionQueueTree_,e)),oh(t,t.transactionQueueTree_),on(t.eventQueue_,e,p);for(let d=0;d<f.length;d++)Io(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{gt("transaction at "+u.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}mo(t,e)}},o)}function mo(t,e){const n=Jk(t,e),r=Vl(n),i=Zk(t,n);return T6(t,i,r),r}function T6(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Tt(n,u.path);let p=!1,f;if(B(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,f=u.abortReason,i=i.concat(Hr(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=f6)p=!0,f="maxretry",i=i.concat(Hr(t.serverSyncTree_,u.currentWriteId,!0));else{const d=jv(t,u.path,o);u.currentInputSnapshot=d;const v=e[a].update(d.val());if(v!==void 0){zl("transaction failed: Data returned ",v,u.path);let E=be(v);typeof v=="object"&&v!=null&&rn(v,".priority")||(E=E.updatePriority(d.getPriority()));const T=u.currentWriteId,A=Ql(t),y=bv(E,d,A);u.currentOutputSnapshotRaw=E,u.currentOutputSnapshotResolved=y,u.currentWriteId=sh(t),o.splice(o.indexOf(T),1),i=i.concat(Av(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(Hr(t.serverSyncTree_,T,!0))}else p=!0,f="nodata",i=i.concat(Hr(t.serverSyncTree_,u.currentWriteId,!0))}on(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}ah(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Io(r[a]);oh(t,t.transactionQueueTree_)}function Jk(t,e){let n,r=t.transactionQueueTree_;for(n=ne(e);n!==null&&hs(r)===void 0;)r=th(r,n),e=_e(e),n=ne(e);return r}function Zk(t,e){const n=[];return e2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function e2(t,e,n){const r=hs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nh(e,i=>{e2(t,i,n)})}function ah(t,e){const n=hs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ov(e,n.length>0?n:void 0)}nh(e,r=>{ah(t,r)})}function Fv(t,e){const n=Vl(Jk(t,e)),r=th(t.transactionQueueTree_,e);return i6(r,i=>{Mf(t,i)}),Mf(t,r),Wk(r,i=>{Mf(t,i)}),n}function Mf(t,e){const n=hs(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Hr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ov(e,void 0):n.length=s+1,on(t.eventQueue_,Vl(e),i);for(let o=0;o<r.length;o++)Io(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function x6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Em=function(t,e){const n=b6(t),r=n.namespace;n.domain==="firebase.com"&&Zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||U3();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ok(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pe(n.pathString)}},b6=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let p=t.indexOf("/");p===-1&&(p=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(p,f)),p<f&&(i=R6(t.substring(p,f)));const d=x6(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",N6=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Z1.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Z1.charAt(e[i]);return B(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class n2{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P6=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new jt;return w6(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){vn("OnDisconnect.remove",this._path);const e=new jt;return J1(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){vn("OnDisconnect.set",this._path),er("OnDisconnect.set",e,this._path,!1);const n=new jt;return J1(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){vn("OnDisconnect.setWithPriority",this._path),er("OnDisconnect.setWithPriority",e,this._path,!1),Dv("OnDisconnect.setWithPriority",n,!1);const r=new jt;return E6(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){vn("OnDisconnect.update",this._path),Hk("OnDisconnect.update",e,this._path,!1);const n=new jt;return C6(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:cv(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const e=F1(this._queryParams),n=ov(e);return n==="{}"?"default":n}get _queryObject(){return F1(this._queryParams)}isEqual(e){if(e=Se(e),!(e instanceof Ht))return!1;const n=this._repo===e._repo,r=dv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+CL(this._path)}}function lh(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ci(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Yn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==di)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Cr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ce){if(e!=null&&!ml(e)||n!=null&&!ml(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(B(t.getIndex()instanceof pv||t.getIndex()===mv,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function uh(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Sn extends Ht{constructor(e,n){super(e,n,new Kd,!1)}get parent(){const e=mk(this._path);return e===null?null:new Sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let ch=class Cm{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pe(e),r=is(this.ref,e);return new Cm(this._node.getChild(n),r,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Cm(i,is(this.ref,r),Ce)))}hasChild(e){const n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function r2(t,e){return t=Se(t),t._checkNotDeleted("ref"),e!==void 0?is(t._root,e):t._root}function ew(t,e){t=Se(t),t._checkNotDeleted("refFromURL");const n=Em(e,t._repo.repoInfo_.nodeAdmin);$k("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Zn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),r2(t,n.path.toString())}function is(t,e){return t=Se(t),ne(t._path)===null?c6("child","path",e,!1):gl("child","path",e,!1),new Sn(t._repo,Re(t._path,e))}function O6(t,e){t=Se(t),vn("push",t._path),er("push",e,t._path,!0);const n=Yk(t._repo),r=N6(n),i=is(t,r),s=is(t,r);let o;return e!=null?o=Bv(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function D6(t){return vn("remove",t._path),Bv(t,null)}function Bv(t,e){t=Se(t),vn("set",t._path),er("set",e,t._path,!1);const n=new jt;return Mv(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function L6(t,e){t=Se(t),vn("setPriority",t._path),Dv("setPriority",e,!1);const n=new jt;return Mv(t._repo,Re(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function M6(t,e,n){if(vn("setWithPriority",t._path),er("setWithPriority",e,t._path,!1),Dv("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new jt;return Mv(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function j6(t,e){Hk("update",e,t._path,!1);const n=new jt;return y6(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function F6(t){t=Se(t);const e=new Uv(()=>{}),n=new Hl(e);return v6(t._repo,t,n).then(r=>new ch(r,new Sn(t._repo,t._path),t._queryParams.getIndex()))}class Hl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new t2("value",this,new ch(e.snapshotNode,new Sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new n2(this,e,n):null}matches(e){return e instanceof Hl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class dh{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new n2(this,e,n):null}createEvent(e,n){B(e.childName!=null,"Child events should have a childName.");const r=is(new Sn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new t2(e.type,this,new ch(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof dh?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function $l(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,c=(p,f)=>{wm(t._repo,t,a),u(p,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Uv(n,s||void 0),a=e==="value"?new Hl(o):new dh(e,o);return S6(t._repo,t,a),()=>wm(t._repo,t,a)}function Sm(t,e,n,r){return $l(t,"value",e,n,r)}function tw(t,e,n,r){return $l(t,"child_added",e,n,r)}function nw(t,e,n,r){return $l(t,"child_changed",e,n,r)}function rw(t,e,n,r){return $l(t,"child_moved",e,n,r)}function iw(t,e,n,r){return $l(t,"child_removed",e,n,r)}function sw(t,e,n){let r=null;const i=n?new Uv(n):null;e==="value"?r=new Hl(i):e&&(r=new dh(e,i)),wm(t._repo,t,r)}class Vn{}class i2 extends Vn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){er("endAt",this._value,e._path,!0);const n=cm(e._queryParams,this._value,this._key);if(uh(n),Ci(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ht(e._repo,e._path,n,e._orderByCalled)}}function U6(t,e){return Wl("endAt","key",e,!0),new i2(t,e)}class B6 extends Vn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){er("endBefore",this._value,e._path,!1);const n=KL(e._queryParams,this._value,this._key);if(uh(n),Ci(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ht(e._repo,e._path,n,e._orderByCalled)}}function V6(t,e){return Wl("endBefore","key",e,!0),new B6(t,e)}class s2 extends Vn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){er("startAt",this._value,e._path,!0);const n=um(e._queryParams,this._value,this._key);if(uh(n),Ci(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ht(e._repo,e._path,n,e._orderByCalled)}}function z6(t=null,e){return Wl("startAt","key",e,!0),new s2(t,e)}class W6 extends Vn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){er("startAfter",this._value,e._path,!1);const n=qL(e._queryParams,this._value,this._key);if(uh(n),Ci(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ht(e._repo,e._path,n,e._orderByCalled)}}function Q6(t,e){return Wl("startAfter","key",e,!0),new W6(t,e)}class H6 extends Vn{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ht(e._repo,e._path,HL(e._queryParams,this._limit),e._orderByCalled)}}function $6(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new H6(t)}class q6 extends Vn{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ht(e._repo,e._path,$L(e._queryParams,this._limit),e._orderByCalled)}}function K6(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new q6(t)}class G6 extends Vn{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){lh(e,"orderByChild");const n=new pe(this._path);if(re(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new pv(n),i=Gd(e._queryParams,r);return Ci(i),new Ht(e._repo,e._path,i,!0)}}function Y6(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gl("orderByChild","path",t,!1),new G6(t)}class X6 extends Vn{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){lh(e,"orderByKey");const n=Gd(e._queryParams,Yn);return Ci(n),new Ht(e._repo,e._path,n,!0)}}function J6(){return new X6}class Z6 extends Vn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){lh(e,"orderByPriority");const n=Gd(e._queryParams,Ce);return Ci(n),new Ht(e._repo,e._path,n,!0)}}function eM(){return new Z6}class tM extends Vn{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){lh(e,"orderByValue");const n=Gd(e._queryParams,mv);return Ci(n),new Ht(e._repo,e._path,n,!0)}}function nM(){return new tM}class rM extends Vn{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(er("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new i2(this._value,this._key)._apply(new s2(this._value,this._key)._apply(e))}}function iM(t,e){return Wl("equalTo","key",e,!0),new rM(t,e)}function In(t,...e){let n=Se(t);for(const r of e)n=r._apply(n);return n}M9(Sn);V9(Sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="FIREBASE_DATABASE_EMULATOR_HOST",Am={};let oM=!1;function aM(t,e,n,r){t.repoInfo_=new ok(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function o2(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Em(s,i),a=o.repoInfo,u,c;typeof process<"u"&&w1&&(c=w1[sM]),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=Em(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const p=i&&u?new Ys(Ys.OWNER):new Y3(t.name,t.options,e);$k("Invalid Firebase Database URL",o),re(o.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=uM(a,t,p,new G3(t.name,n));return new cM(f,t)}function lM(t,e){const n=Am[e];(!n||n[t.key]!==t)&&Zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Xk(t),delete n[t.key]}function uM(t,e,n,r){let i=Am[e.name];i||(i={},Am[e.name]=i);let s=i[t.toURLString()];return s&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new p6(t,oM,n,r),i[t.toURLString()]=s,s}let cM=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(m6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zn("Cannot call "+e+" on a deleted database.")}};function a2(){co.IS_TRANSPORT_INITIALIZED&&gt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function dM(){a2(),Qr.forceDisallow()}function hM(){a2(),pn.forceDisallow(),Qr.forceAllow()}function fM(t,e,n,r={}){t=Se(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Zn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ys(Ys.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:$S(r.mockUserToken,t.app.options.projectId);s=new Ys(o)}aM(i,e,n,s)}function pM(t){t=Se(t),t._checkNotDeleted("goOffline"),Xk(t._repo)}function mM(t){t=Se(t),t._checkNotDeleted("goOnline"),A6(t._repo)}function gM(t,e){KA(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){QA(tr),Jn(new sn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return o2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mt(E1,C1,t),mt(E1,C1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={".sv":"timestamp"};function _M(){return yM}function wM(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EM=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function CM(t,e,n){var r;if(t=Se(t),vn("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new jt,o=(u,c,p)=>{let f=null;u?s.reject(u):(f=new ch(p,new Sn(t._repo,t._path),Ce),s.resolve(new EM(c,f)))},a=Sm(t,()=>{});return k6(t._repo,t._path,e,o,a,i),s.promise}pr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vM();const SM="@firebase/database-compat",AM="1.0.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new So("@firebase/database-compat"),l2=function(t){const e="FIREBASE WARNING: "+t;kM.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Wt(t,e)+"must be a boolean.")},TM=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Wt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this._delegate=e}cancel(e){J("OnDisconnect.cancel",0,1,arguments.length),Ge("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){J("OnDisconnect.remove",0,1,arguments.length),Ge("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){J("OnDisconnect.set",1,2,arguments.length),Ge("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){J("OnDisconnect.setWithPriority",2,3,arguments.length),Ge("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(J("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,l2("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ge("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return J("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this._database=e,this._delegate=n}val(){return J("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return J("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return J("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return J("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return J("DataSnapshot.child",0,1,arguments.length),e=String(e),gl("DataSnapshot.child","path",e,!1),new ii(this._database,this._delegate.child(e))}hasChild(e){return J("DataSnapshot.hasChild",1,1,arguments.length),gl("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return J("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return J("DataSnapshot.forEach",1,1,arguments.length),Ge("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new ii(this._database,n)))}hasChildren(){return J("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return J("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return J("DataSnapshot.ref",0,0,arguments.length),new Fi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}let u2=class At{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;J("Query.on",2,4,arguments.length),Ge("Query.on","callback",n,!1);const o=At.getCancelAndContextArgs_("Query.on",r,i),a=(c,p)=>{n.call(o.context,new ii(this.database,c),p)};a.userCallback=n,a.context=o.context;const u=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return Sm(this._delegate,a,u),n;case"child_added":return tw(this._delegate,a,u),n;case"child_removed":return iw(this._delegate,a,u),n;case"child_changed":return nw(this._delegate,a,u),n;case"child_moved":return rw(this._delegate,a,u),n;default:throw new Error(Wt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(J("Query.off",0,3,arguments.length),TM("Query.off",e,!0),Ge("Query.off","callback",n,!0),$0("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,sw(this._delegate,e,i)}else sw(this._delegate,e)}get(){return F6(this._delegate).then(e=>new ii(this.database,e))}once(e,n,r,i){J("Query.once",1,4,arguments.length),Ge("Query.once","callback",n,!0);const s=At.getCancelAndContextArgs_("Query.once",r,i),o=new jt,a=(c,p)=>{const f=new ii(this.database,c);n&&n.call(s.context,f,p),o.resolve(f)};a.userCallback=n,a.context=s.context;const u=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":Sm(this._delegate,a,u,{onlyOnce:!0});break;case"child_added":tw(this._delegate,a,u,{onlyOnce:!0});break;case"child_removed":iw(this._delegate,a,u,{onlyOnce:!0});break;case"child_changed":nw(this._delegate,a,u,{onlyOnce:!0});break;case"child_moved":rw(this._delegate,a,u,{onlyOnce:!0});break;default:throw new Error(Wt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return J("Query.limitToFirst",1,1,arguments.length),new At(this.database,In(this._delegate,$6(e)))}limitToLast(e){return J("Query.limitToLast",1,1,arguments.length),new At(this.database,In(this._delegate,K6(e)))}orderByChild(e){return J("Query.orderByChild",1,1,arguments.length),new At(this.database,In(this._delegate,Y6(e)))}orderByKey(){return J("Query.orderByKey",0,0,arguments.length),new At(this.database,In(this._delegate,J6()))}orderByPriority(){return J("Query.orderByPriority",0,0,arguments.length),new At(this.database,In(this._delegate,eM()))}orderByValue(){return J("Query.orderByValue",0,0,arguments.length),new At(this.database,In(this._delegate,nM()))}startAt(e=null,n){return J("Query.startAt",0,2,arguments.length),new At(this.database,In(this._delegate,z6(e,n)))}startAfter(e=null,n){return J("Query.startAfter",0,2,arguments.length),new At(this.database,In(this._delegate,Q6(e,n)))}endAt(e=null,n){return J("Query.endAt",0,2,arguments.length),new At(this.database,In(this._delegate,U6(e,n)))}endBefore(e=null,n){return J("Query.endBefore",0,2,arguments.length),new At(this.database,In(this._delegate,V6(e,n)))}equalTo(e,n){return J("Query.equalTo",1,2,arguments.length),new At(this.database,In(this._delegate,iM(e,n)))}toString(){return J("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return J("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(J("Query.isEqual",1,1,arguments.length),!(e instanceof At)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ge(e,"cancel",i.cancel,!0),i.context=r,$0(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Wt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Fi(this.database,new Sn(this._delegate._repo,this._delegate._path))}},Fi=class As extends u2{constructor(e,n){super(e,new Ht(n._repo,n._path,new Kd,!1)),this.database=e,this._delegate=n}getKey(){return J("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return J("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new As(this.database,is(this._delegate,e))}getParent(){J("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new As(this.database,e):null}getRoot(){return J("Reference.root",0,0,arguments.length),new As(this.database,this._delegate.root)}set(e,n){J("Reference.set",1,2,arguments.length),Ge("Reference.set","onComplete",n,!0);const r=Bv(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(J("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,l2("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vn("Reference.update",this._delegate._path),Ge("Reference.update","onComplete",n,!0);const r=j6(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){J("Reference.setWithPriority",2,3,arguments.length),Ge("Reference.setWithPriority","onComplete",r,!0);const i=M6(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){J("Reference.remove",0,1,arguments.length),Ge("Reference.remove","onComplete",e,!0);const n=D6(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){J("Reference.transaction",1,3,arguments.length),Ge("Reference.transaction","transactionUpdate",e,!1),Ge("Reference.transaction","onComplete",n,!0),IM("Reference.transaction","applyLocally",r,!0);const i=CM(this._delegate,e,{applyLocally:r}).then(s=>new xM(s.committed,new ii(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){J("Reference.setPriority",1,2,arguments.length),Ge("Reference.setPriority","onComplete",n,!0);const r=L6(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){J("Reference.push",0,2,arguments.length),Ge("Reference.push","onComplete",n,!0);const r=O6(this._delegate,e),i=r.then(o=>new As(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new As(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return vn("Reference.onDisconnect",this._delegate._path),new RM(new P6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:dM,forceLongPolling:hM}}useEmulator(e,n,r={}){fM(this._delegate,e,n,r)}ref(e){if(J("database.ref",0,1,arguments.length),e instanceof Fi){const n=ew(this._delegate,e.toString());return new Fi(this,n)}else{const n=r2(this._delegate,e);return new Fi(this,n)}}refFromURL(e){J("database.refFromURL",1,1,arguments.length);const r=ew(this._delegate,e);return new Fi(this,r)}goOffline(){return J("database.goOffline",0,0,arguments.length),pM(this._delegate)}goOnline(){return J("database.goOnline",0,0,arguments.length),mM(this._delegate)}}vl.ServerValue={TIMESTAMP:_M(),increment:t=>wM(t)};function bM({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){QA(n);const a=new zg("database-standalone"),u=new Xp("auth-internal",a);u.setComponent(new sn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new Xp("app-check-internal",a),c.setComponent(new sn("app-check-internal",()=>i,"PRIVATE"))),{instance:new vl(o2(t,u,c,e,o),t),namespace:s}}var NM=Object.freeze({__proto__:null,initStandalone:bM});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=vl.ServerValue;function OM(t){t.INTERNAL.registerComponent(new sn("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new vl(i,r)},"PUBLIC").setServiceProps({Reference:Fi,Query:u2,Database:vl,DataSnapshot:ii,enableLogging:gM,INTERNAL:NM,ServerValue:PM}).setMultipleInstances(!0)),t.registerVersion(SM,AM)}OM(iv);function km(t,e){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},km(t,e)}function ql(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,km(t,e)}var Kl=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},se.apply(this,arguments)}var c2=typeof window>"u";function ht(){}function DM(t,e){return typeof t=="function"?t(e):t}function LM(t){return typeof t=="number"&&t>=0&&t!==1/0}function cd(t){return Array.isArray(t)?t:[t]}function MM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jf(t,e,n){return Gl(t)?typeof e=="function"?se({},n,{queryKey:t,queryFn:e}):se({},e,{queryKey:t}):t}function jM(t,e,n){return Gl(t)?typeof e=="function"?se({},n,{mutationKey:t,mutationFn:e}):se({},e,{mutationKey:t}):typeof t=="function"?se({},e,{mutationFn:t}):se({},t)}function Or(t,e,n){return Gl(t)?[se({},e,{queryKey:t}),n]:[t||{},e]}function FM(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function ow(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,u=t.stale;if(Gl(a)){if(r){if(e.queryHash!==Vv(a,e.options))return!1}else if(!dd(e.queryKey,a))return!1}var c=FM(n,s);if(c==="none")return!1;if(c!=="all"){var p=e.isActive();if(c==="active"&&!p||c==="inactive"&&p)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function aw(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(Gl(s)){if(!e.options.mutationKey)return!1;if(n){if(Ui(e.options.mutationKey)!==Ui(s))return!1}else if(!dd(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Vv(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Ui;return n(t)}function Ui(t){var e=cd(t);return UM(e)}function UM(t){return JSON.stringify(t,function(e,n){return Im(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function dd(t,e){return d2(cd(t),cd(e))}function d2(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!d2(t[n],e[n])}):!1}function h2(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Im(t)&&Im(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,u=0;u<s;u++){var c=n?u:i[u];o[c]=h2(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function Im(t){if(!lw(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!lw(n)||!n.hasOwnProperty("isPrototypeOf"))}function lw(t){return Object.prototype.toString.call(t)==="[object Object]"}function Gl(t){return typeof t=="string"||Array.isArray(t)}function BM(t){return new Promise(function(e){setTimeout(e,t)})}function uw(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function f2(){if(typeof AbortController=="function")return new AbortController}var VM=function(t){ql(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!c2&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Kl),tc=new VM,zM=function(t){ql(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!c2&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Kl),nc=new zM;function WM(t){return Math.min(1e3*Math.pow(2,t),3e4)}function hd(t){return typeof(t==null?void 0:t.cancel)=="function"}var p2=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Ff(t){return t instanceof p2}var m2=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(d){return i==null?void 0:i(d)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,v){o=d,a=v});var u=function(v){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(v),s==null||s(),o(v))},c=function(v){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(v),s==null||s(),a(v))},p=function(){return new Promise(function(v){s=v,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function d(){if(!n.isResolved){var v;try{v=e.fn()}catch(E){v=Promise.reject(E)}i=function(k){if(!n.isResolved&&(c(new p2(k)),n.abort==null||n.abort(),hd(v)))try{v.cancel()}catch{}},n.isTransportCancelable=hd(v),Promise.resolve(v).then(u).catch(function(E){var k,T;if(!n.isResolved){var A=(k=e.retry)!=null?k:3,y=(T=e.retryDelay)!=null?T:WM,g=typeof y=="function"?y(n.failureCount,E):y,C=A===!0||typeof A=="number"&&n.failureCount<A||typeof A=="function"&&A(n.failureCount,E);if(r||!C){c(E);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,E),BM(g).then(function(){if(!tc.isFocused()||!nc.isOnline())return p()}).then(function(){r?c(E):d()})}})}};f()},QM=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):uw(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&uw(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),ze=new QM,g2=console;function v2(){return g2}function HM(t){g2=t}var $M=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=se({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),LM(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,u=DM(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,u)?u=a:this.options.structuralSharing!==!1&&(u=h2(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),u},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(ht).catch(ht):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!MM(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function(y){return y.options.queryFn});p&&this.setOptions(p.options)}var f=cd(this.queryKey),d=f2(),v={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(v,"signal",{enumerable:!0,get:function(){if(d)return s.abortSignalConsumed=!0,d.signal}});var E=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(v)):Promise.reject("Missing queryFn")},k={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:E,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var T;(T=this.options.behavior)==null||T.onFetch(k)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=k.fetchOptions)==null?void 0:a.meta)){var A;this.dispatch({type:"fetch",meta:(A=k.fetchOptions)==null?void 0:A.meta})}return this.retryer=new m2({fn:k.fetchFn,abort:d==null||(u=d.abort)==null?void 0:u.bind(d),onSuccess:function(g){s.setData(g),s.cache.config.onSuccess==null||s.cache.config.onSuccess(g,s),s.cacheTime===0&&s.optionalRemove()},onError:function(g){Ff(g)&&g.silent||s.dispatch({type:"error",error:g}),Ff(g)||(s.cache.config.onError==null||s.cache.config.onError(g,s),v2().error(g)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:k.options.retry,retryDelay:k.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),ze.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return se({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return se({},r,{isPaused:!0});case"continue":return se({},r,{isPaused:!1});case"fetch":return se({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return se({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return Ff(a)&&a.revert&&this.revertState?se({},this.revertState):se({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return se({},r,{isInvalidated:!0});case"setState":return se({},r,i.state);default:return r}},t}(),qM=function(t){ql(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,u=s.queryKey,c=(a=s.queryHash)!=null?a:Vv(u,s),p=this.get(c);return p||(p=new $M({cache:this,queryKey:u,queryHash:c,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(u),meta:s.meta}),this.add(p)),p},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;ze.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=Or(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return ow(a,u)})},n.findAll=function(i,s){var o=Or(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(u){return ow(a,u)}):this.queries},n.notify=function(i){var s=this;ze.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;ze.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;ze.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Kl),KM=function(){function t(n){this.options=se({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||y2(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ht).catch(ht)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),v2().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new m2({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=GM(this.state,r),ze.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function y2(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function GM(t,e){switch(e.type){case"failed":return se({},t,{failureCount:t.failureCount+1});case"pause":return se({},t,{isPaused:!0});case"continue":return se({},t,{isPaused:!1});case"loading":return se({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return se({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return se({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return se({},t,e.state);default:return t}}var YM=function(t){ql(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new KM({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;ze.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return aw(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return aw(i,s)})},n.notify=function(i){var s=this;ze.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return ze.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(ht)})},Promise.resolve())})},e}(Kl);function XM(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,u=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",d=(c==null?void 0:c.direction)==="backward",v=((o=e.state.data)==null?void 0:o.pages)||[],E=((a=e.state.data)==null?void 0:a.pageParams)||[],k=f2(),T=k==null?void 0:k.signal,A=E,y=!1,g=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},C=function(H,$,G,ee){return A=ee?[$].concat(A):[].concat(A,[$]),ee?[G].concat(H):[].concat(H,[G])},N=function(H,$,G,ee){if(y)return Promise.reject("Cancelled");if(typeof G>"u"&&!$&&H.length)return Promise.resolve(H);var F={queryKey:e.queryKey,signal:T,pageParam:G,meta:e.meta},W=g(F),V=Promise.resolve(W).then(function(K){return C(H,G,K,ee)});if(hd(W)){var X=V;X.cancel=W.cancel}return V},D;if(!v.length)D=N([]);else if(f){var S=typeof p<"u",w=S?p:cw(e.options,v);D=N(v,S,w)}else if(d){var I=typeof p<"u",R=I?p:JM(e.options,v);D=N(v,I,R,!0)}else(function(){A=[];var b=typeof e.options.getNextPageParam>"u",H=u&&v[0]?u(v[0],0,v):!0;D=H?N([],b,E[0]):Promise.resolve(C([],E[0],v[0]));for(var $=function(F){D=D.then(function(W){var V=u&&v[F]?u(v[F],F,v):!0;if(V){var X=b?E[F]:cw(e.options,W);return N(W,b,X)}return Promise.resolve(C(W,E[F],v[F]))})},G=1;G<v.length;G++)$(G)})();var P=D.then(function(b){return{pages:b,pageParams:A}}),L=P;return L.cancel=function(){y=!0,k==null||k.abort(),hd(D)&&D.cancel()},P}}}}function cw(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function JM(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var ZM=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new qM,this.mutationCache=n.mutationCache||new YM,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=tc.subscribe(function(){tc.isFocused()&&nc.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=nc.subscribe(function(){tc.isFocused()&&nc.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=Or(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(se({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=jf(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return ze.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var u=a.queryKey;return[u,o.setQueryData(u,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=Or(r,i),o=s[0],a=this.queryCache;ze.batch(function(){a.findAll(o).forEach(function(u){a.remove(u)})})},e.resetQueries=function(r,i,s){var o=this,a=Or(r,i,s),u=a[0],c=a[1],p=this.queryCache,f=se({},u,{active:!0});return ze.batch(function(){return p.findAll(u).forEach(function(d){d.reset()}),o.refetchQueries(f,c)})},e.cancelQueries=function(r,i,s){var o=this,a=Or(r,i,s),u=a[0],c=a[1],p=c===void 0?{}:c;typeof p.revert>"u"&&(p.revert=!0);var f=ze.batch(function(){return o.queryCache.findAll(u).map(function(d){return d.cancel(p)})});return Promise.all(f).then(ht).catch(ht)},e.invalidateQueries=function(r,i,s){var o,a,u,c=this,p=Or(r,i,s),f=p[0],d=p[1],v=se({},f,{active:(o=(a=f.refetchActive)!=null?a:f.active)!=null?o:!0,inactive:(u=f.refetchInactive)!=null?u:!1});return ze.batch(function(){return c.queryCache.findAll(f).forEach(function(E){E.invalidate()}),c.refetchQueries(v,d)})},e.refetchQueries=function(r,i,s){var o=this,a=Or(r,i,s),u=a[0],c=a[1],p=ze.batch(function(){return o.queryCache.findAll(u).map(function(d){return d.fetch(void 0,se({},c,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),f=Promise.all(p).then(ht);return c!=null&&c.throwOnError||(f=f.catch(ht)),f},e.fetchQuery=function(r,i,s){var o=jf(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(ht).catch(ht)},e.fetchInfiniteQuery=function(r,i,s){var o=jf(r,i,s);return o.behavior=XM(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(ht).catch(ht)},e.cancelMutations=function(){var r=this,i=ze.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(ht).catch(ht)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return Ui(r)===Ui(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return dd(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return Ui(r)===Ui(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return dd(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=se({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Vv(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:se({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),ej=function(t){ql(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,se({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:y2(),s=se({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},n.notify=function(i){var s=this;ze.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(Kl),tj=sx.unstable_batchedUpdates;ze.setBatchNotifyFunction(tj);var nj=console;HM(nj);var dw=fe.createContext(void 0),_2=fe.createContext(!1);function w2(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=dw),window.ReactQueryClientContext):dw}var hh=function(){var e=fe.useContext(w2(fe.useContext(_2)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rj=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;fe.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=w2(i);return fe.createElement(_2.Provider,{value:i},fe.createElement(o.Provider,{value:n},s))};function ij(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function zv(t,e,n){var r=fe.useRef(!1),i=fe.useState(0),s=i[1],o=jM(t,e,n),a=hh(),u=fe.useRef();u.current?u.current.setOptions(o):u.current=new ej(a,o);var c=u.current.getCurrentResult();fe.useEffect(function(){r.current=!0;var f=u.current.subscribe(ze.batchCalls(function(){r.current&&s(function(d){return d+1})}));return function(){r.current=!1,f()}},[]);var p=fe.useCallback(function(f,d){u.current.mutate(f,d).catch(ht)},[]);if(c.error&&ij(void 0,u.current.options.useErrorBoundary,[c.error]))throw c.error;return se({},c,{mutate:p,mutateAsync:c.mutate})}const sj=iv.initializeApp(sv),yl=sj.database();function oj(){const t=hh();return zv(async e=>{const n=yl.ref("users").push(),r=n.key;return await n.set(e),r},{onSuccess:e=>{t.invalidateQueries("users")}})}function E2(){const t=hh();return zv(async({id:e,field:n,updateData:r})=>{await yl.ref(`users/${e}/${n}`).set(r)},{onSuccess:()=>{t.invalidateQueries("users")}})}function aj(){const t=hh();return zv(async({id:e,field:n,updateData:r})=>{const i=await yl.ref(`users/${e}/${n}`).get(),s=JSON.parse(i.val());console.log(r);const o=JSON.parse(r),a=[s,o];console.log(JSON.stringify(a)),await yl.ref(`users/${e}/${n}`).set(JSON.stringify(a)),console.log("succesfull")},{onSuccess:()=>{t.invalidateQueries("users")}})}async function fd(){return(await yl.ref("users").once("value")).val()}const C2=It({name:"playlists",initialState:{tracks:[]},reducers:{addPlaylist:(t,e)=>{t.tracks.push(e.payload)}}}),{addPlaylist:lj}=C2.actions,uj=C2.reducer;function go(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z",fill:"currentColor"},child:[]}]})(t)}const S2=It({name:"userKey",initialState:{key:null},reducers:{setKey(t,e){t.key=e.payload.key},removeKey(t){t.key=null}}}),{setKey:Wv,removeKey:n7}=S2.actions,cj=S2.reducer,A2=It({name:"userArtists",initialState:{userAppArtists:[]},reducers:{setArtists:(t,e)=>{t.userAppArtists.push(e.payload)},removeArtists:(t,e)=>{t.userAppArtists=t.userAppArtists.filter(n=>n.id!==e.payload)}}}),{setArtists:fh,removeArtists:k2}=A2.actions,dj=A2.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebasestorage.googleapis.com",T2="storageBucket",hj=2*60*1e3,fj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me extends Bn{constructor(e,n,r=0){super(Uf(e),`Firebase Storage: ${n} (${Uf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Me.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Le;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Le||(Le={}));function Uf(t){return"storage/"+t}function Qv(){const t="An unknown error occurred, please check the error payload for server response.";return new Me(Le.UNKNOWN,t)}function pj(t){return new Me(Le.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mj(t){return new Me(Le.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Me(Le.UNAUTHENTICATED,t)}function vj(){return new Me(Le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yj(t){return new Me(Le.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _j(){return new Me(Le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wj(){return new Me(Le.CANCELED,"User canceled the upload/download.")}function Ej(t){return new Me(Le.INVALID_URL,"Invalid URL '"+t+"'.")}function Cj(t){return new Me(Le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Sj(){return new Me(Le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T2+"' property when initializing the app?")}function Aj(){return new Me(Le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kj(){return new Me(Le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ij(t){return new Me(Le.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tm(t){return new Me(Le.INVALID_ARGUMENT,t)}function R2(){return new Me(Le.APP_DELETED,"The Firebase app was deleted.")}function Tj(t){return new Me(Le.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xa(t,e){return new Me(Le.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ia(t){throw new Me(Le.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(r.path==="")return r;throw Cj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${p}/b/${i}/o${d}`,"i"),E={bucket:1,path:3},k=n===I2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",A=new RegExp(`^https?://${k}/${i}/${T}`,"i"),g=[{regex:a,indices:u,postModify:s},{regex:v,indices:E,postModify:c},{regex:A,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<g.length;C++){const N=g[C],D=N.regex.exec(e);if(D){const S=D[N.indices.bucket];let w=D[N.indices.path];w||(w=""),r=new Jt(S,w),N.postModify(r);break}}if(r==null)throw Ej(e);return r}}class Rj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function p(...T){c||(c=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,t(v,u())},T)}function d(){s&&clearTimeout(s)}function v(T,...A){if(c){d();return}if(T){d(),p.call(null,T,...A);return}if(u()||o){d(),p.call(null,T,...A);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,f(g)}let E=!1;function k(T){E||(E=!0,d(),!c&&(i!==null?(T||(a=2),clearTimeout(i),f(0)):T||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,k(!0)},n),k}function bj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t){return t!==void 0}function Pj(t){return typeof t=="object"&&!Array.isArray(t)}function Hv(t){return typeof t=="string"||t instanceof String}function hw(t){return $v()&&t instanceof Blob}function $v(){return typeof Blob<"u"}function fw(t,e,n,r){if(r<e)throw Tm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function x2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wi||(Wi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,i,s,o,a,u,c,p,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=p,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Du(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Wi.NO_ERROR,u=s.getStatus();if(!a||Oj(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Wi.ABORT;r(!1,new Du(!1,null,p));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Du(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Nj(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=Qv();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?R2():wj();o(u)}else{const u=_j();o(u)}};this.canceled_?n(!1,new Du(!1,null,!0)):this.backoffId_=xj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Du{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Lj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Mj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Fj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Uj(t,e,n,r,i,s,o=!0){const a=x2(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return jj(c,e),Lj(c,n),Mj(c,s),Fj(c,r),new Dj(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vj(...t){const e=Bj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($v())return new Blob(t);throw new Me(Le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(typeof atob>"u")throw Ij("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bf{constructor(e,n){this.data=e,this.contentType=n||null}}function Qj(t,e){switch(t){case Hn.RAW:return new Bf(b2(e));case Hn.BASE64:case Hn.BASE64URL:return new Bf(N2(t,e));case Hn.DATA_URL:return new Bf($j(e),qj(e))}throw Qv()}function b2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Hj(t){let e;try{e=decodeURIComponent(t)}catch{throw xa(Hn.DATA_URL,"Malformed data URL.")}return b2(e)}function N2(t,e){switch(t){case Hn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Wj(e)}catch(i){throw i.message.includes("polyfill")?i:xa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class P2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xa(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Kj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $j(t){const e=new P2(t);return e.base64?N2(Hn.BASE64,e.rest):Hj(e.rest)}function qj(t){return new P2(t).contentType}function Kj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){let r=0,i="";hw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(hw(this.data_)){const r=this.data_,i=zj(r,e,n);return i===null?null:new Br(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Br(r,!0)}}static getBlob(...e){if($v()){const n=e.map(r=>r instanceof Br?r.data_:r);return new Br(Vj.apply(null,n))}else{const n=e.map(o=>Hv(o)?Qj(Hn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Br(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){let e;try{e=JSON.parse(t)}catch{return null}return Pj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Yj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function D2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e){return e}class St{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Xj}}let Lu=null;function Jj(t){return!Hv(t)||t.length<2?t:D2(t)}function L2(){if(Lu)return Lu;const t=[];t.push(new St("bucket")),t.push(new St("generation")),t.push(new St("metageneration")),t.push(new St("name","fullPath",!0));function e(s,o){return Jj(o)}const n=new St("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new St("size");return i.xform=r,t.push(i),t.push(new St("timeCreated")),t.push(new St("updated")),t.push(new St("md5Hash",null,!0)),t.push(new St("cacheControl",null,!0)),t.push(new St("contentDisposition",null,!0)),t.push(new St("contentEncoding",null,!0)),t.push(new St("contentLanguage",null,!0)),t.push(new St("contentType",null,!0)),t.push(new St("metadata","customMetadata",!0)),Lu=t,Lu}function Zj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Jt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function e5(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Zj(r,t),r}function M2(t,e,n){const r=O2(e);return r===null?null:e5(t,r,n)}function t5(t,e,n,r){const i=O2(e);if(i===null||!Hv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const p=t.bucket,f=t.fullPath,d="/b/"+o(p)+"/o/"+o(f),v=qv(d,n,r),E=x2({alt:"media",token:c});return v+E})[0]}function n5(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class j2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){if(!t)throw Qv()}function r5(t,e){function n(r,i){const s=M2(t,i,e);return F2(s!==null),s}return n}function i5(t,e){function n(r,i){const s=M2(t,i,e);return F2(s!==null),t5(s,i,t.host,t._protocol)}return n}function U2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=vj():i=gj():n.getStatus()===402?i=mj(t.bucket):n.getStatus()===403?i=yj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function s5(t){const e=U2(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=pj(t.path)),s.serverResponse=i.serverResponse,s}return n}function o5(t,e,n){const r=e.fullServerUrl(),i=qv(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new j2(i,s,i5(t,n),o);return a.errorHandler=s5(e),a}function a5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function l5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=a5(null,e)),r}function u5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let C=0;C<2;C++)g=g+Math.random().toString().slice(2);return g}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=l5(e,r,i),p=n5(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+u+"--",v=Br.getBlob(f,r,d);if(v===null)throw Aj();const E={name:c.fullPath},k=qv(s,t.host,t._protocol),T="POST",A=t.maxUploadRetryTime,y=new j2(k,T,r5(t,n),A);return y.urlParams=E,y.headers=o,y.body=v.uploadData(),y.errorHandler=U2(e),y}class c5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ia("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ia("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ia("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ia("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ia("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class d5 extends c5{initXhr(){this.xhr_.responseType="text"}}function B2(){return new d5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ss(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D2(this._location.path)}get storage(){return this._service}get parent(){const e=Gj(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new ss(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Tj(e)}}function h5(t,e,n){t._throwIfRoot("uploadBytes");const r=u5(t.storage,t._location,L2(),new Br(e,!0),n);return t.storage.makeRequestWithTokens(r,B2).then(i=>({metadata:i,ref:t}))}function f5(t){t._throwIfRoot("getDownloadURL");const e=o5(t.storage,t._location,L2());return t.storage.makeRequestWithTokens(e,B2).then(n=>{if(n===null)throw kj();return n})}function p5(t,e){const n=Yj(t._location.path,e),r=new Jt(t._location.bucket,n);return new ss(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){return/^[A-Za-z]+:\/\//.test(t)}function g5(t,e){return new ss(t,e)}function V2(t,e){if(t instanceof Kv){const n=t;if(n._bucket==null)throw Sj();const r=new ss(n,n._bucket);return e!=null?V2(r,e):r}else return e!==void 0?p5(t,e):t}function v5(t,e){if(e&&m5(e)){if(t instanceof Kv)return g5(t,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return V2(t,e)}function pw(t,e){const n=e==null?void 0:e[T2];return n==null?null:Jt.makeFromBucketSpec(n,t)}function y5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:$S(i,t.app.options.projectId))}class Kv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=I2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hj,this._maxUploadRetryTime=fj,this._requests=new Set,i!=null?this._bucket=Jt.makeFromBucketSpec(i,this._host):this._bucket=pw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=pw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ss(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Rj(R2());{const o=Uj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const mw="@firebase/storage",gw="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="storage";function _5(t,e,n){return t=Se(t),h5(t,e,n)}function w5(t){return t=Se(t),f5(t)}function W2(t,e){return t=Se(t),v5(t,e)}function E5(t=Hg(),e){t=Se(t);const r=Nl(t,z2).getImmediate({identifier:e}),i=QP("storage");return i&&C5(r,...i),r}function C5(t,e,n,r={}){y5(t,e,n,r)}function S5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Kv(n,r,i,e,tr)}function A5(){Jn(new sn(z2,S5,"PUBLIC").setMultipleInstances(!0)),mt(mw,gw,""),mt(mw,gw,"esm2017")}A5();async function Rm(t){const e=W2(nI,`images/${t}.png`);try{return await w5(e)}catch(n){return console.error("Error getting avatar URL:",n),null}}const Q2=It({name:"userPhoto",initialState:{photo:null},reducers:{setPhoto(t,e){t.photo=e.payload.photo}}}),{setPhoto:H2}=Q2.actions,k5=Q2.reducer;function I5(){fd();const{data:t}=NS(),[e,n]=O.useState([]),[r,i]=O.useState(""),[s,o]=O.useState([]),[a,u]=O.useState(!0),[c,p]=O.useState(""),[f,d]=O.useState(!1);O.useState(!1),O.useState({});const[v,E]=O.useState(!0),k=new Date().getHours(),T=Pt(),A=Un(),y=ko();y.currentUser;const g=he(L=>L.user),{username:C}=he(L=>L.user),N=he(L=>L.userArtists.userAppArtists),D=he(L=>L.playlists.tracks);O.useEffect(()=>{t&&t.results&&n(t.results)},[t]),O.useEffect(()=>{k>=4&&k<12?i("Good morning, "):k>=12&&k<17?i("Good afternoon, "):k>=17&&k<24?i("Good evening, "):i("Good night, "),ev(y,L=>{L&&!g.email?fd().then(b=>S(b)).then(b=>{const H=y.currentUser.displayName,$=w(b,H);Rm($.id).then(ee=>{T(H2({photo:ee}))}).catch(ee=>{console.error(ee)}),T(rv({email:$.email,id:$.id,share:$.share,news:$.news,username:$.username})),T(Wv({key:$.key}));const G=JSON.parse($.artists);return G.map(ee=>T(fh(ee))),o(G),u(!1),$}).catch(b=>{console.error(b)}):(!L||g.email==null)&&A("/registration")})},[]);function S(L){return Object.entries(L).map(([b,H])=>({id:b,...H}))}function w(L,b){return L.find($=>$.key===b)}O.useEffect(()=>{N&&o(N)},[N]),O.useEffect(()=>{const L=()=>{p(new Date().toISOString().slice(0,10))};L();const b=setInterval(L,24*60*60*1e3);return()=>clearInterval(b)},[]);const[I,R]=O.useState(!0);O.useEffect(()=>{P(s,T,c)},[s,T,c]),O.useEffect(()=>{!f&&D!==void 0&&(R(!1),d(!0))},[D,f]),O.useEffect(()=>{D!==void 0&&R(!1)},[D]);async function P(L,b,H){try{L.map(async $=>{const G=`${$.name} Mix`,W=(await(await fetch(`https://api.jamendo.com/v3.0/artists/tracks/?client_id=354e8ba5&format=jsonpretty&order=track_name_desc&name=${$.name}&album_datebetween=1980-01-01_${H}`)).json()).results[0].tracks;b(lj({name:G,tracks:W}))}),u(!1)}catch($){console.error("Error creating playlists:",$)}}return m.jsx("div",{className:"wrapper",children:a?m.jsx("div",{className:"spinnerBox",children:m.jsx(go,{color:"white",className:"spinner",display:"block"})}):m.jsxs("div",{className:"homePage",children:[m.jsxs("div",{className:"homePage-titleBox",children:[m.jsxs("h1",{className:"homePage-title",children:[r,C]}),m.jsxs("div",{className:"homePage-setting",children:[m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[m.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),m.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",m.jsx("path",{d:"M12.02 2.90991C8.70997 2.90991 6.01997 5.59991 6.01997 8.90991V11.7999C6.01997 12.4099 5.75997 13.3399 5.44997 13.8599L4.29997 15.7699C3.58997 16.9499 4.07997 18.2599 5.37997 18.6999C9.68997 20.1399 14.34 20.1399 18.65 18.6999C19.86 18.2999 20.39 16.8699 19.73 15.7699L18.58 13.8599C18.28 13.3399 18.02 12.4099 18.02 11.7999V8.90991C18.02 5.60991 15.32 2.90991 12.02 2.90991Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round"})," ",m.jsx("path",{d:"M13.87 3.19994C13.56 3.10994 13.24 3.03994 12.91 2.99994C11.95 2.87994 11.03 2.94994 10.17 3.19994C10.46 2.45994 11.18 1.93994 12.02 1.93994C12.86 1.93994 13.58 2.45994 13.87 3.19994Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})," ",m.jsx("path",{d:"M15.02 19.0601C15.02 20.7101 13.67 22.0601 12.02 22.0601C11.2 22.0601 10.44 21.7201 9.90002 21.1801C9.36002 20.6401 9.02002 19.8801 9.02002 19.0601",stroke:"#FFFFFF",strokeWidth:"1.5",strokeMiterlimit:"10"})," "]})]}),m.jsxs("svg",{fill:"#FFFFFF",width:"24",height:"24",viewBox:"0 0 24 24",id:"Outline",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),m.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsxs("g",{id:"SVGRepo_iconCarrier",children:[m.jsx("title",{children:"194 restore"})," ",m.jsx("path",{d:"M12,6a1,1,0,0,0-1,1v5a1,1,0,0,0,.293.707l3,3a1,1,0,0,0,1.414-1.414L13,11.586V7A1,1,0,0,0,12,6Z M23.812,10.132A12,12,0,0,0,3.578,3.415V1a1,1,0,0,0-2,0V5a2,2,0,0,0,2,2h4a1,1,0,0,0,0-2H4.827a9.99,9.99,0,1,1-2.835,7.878A.982.982,0,0,0,1,12a1.007,1.007,0,0,0-1,1.1,12,12,0,1,0,23.808-2.969Z"})]})]}),m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),m.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8.25C9.92894 8.25 8.25 9.92893 8.25 12C8.25 14.0711 9.92894 15.75 12 15.75C14.0711 15.75 15.75 14.0711 15.75 12C15.75 9.92893 14.0711 8.25 12 8.25ZM9.75 12C9.75 10.7574 10.7574 9.75 12 9.75C13.2426 9.75 14.25 10.7574 14.25 12C14.25 13.2426 13.2426 14.25 12 14.25C10.7574 14.25 9.75 13.2426 9.75 12Z",fill:"#FFFFFF"})," ",m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9747 1.25C11.5303 1.24999 11.1592 1.24999 10.8546 1.27077C10.5375 1.29241 10.238 1.33905 9.94761 1.45933C9.27379 1.73844 8.73843 2.27379 8.45932 2.94762C8.31402 3.29842 8.27467 3.66812 8.25964 4.06996C8.24756 4.39299 8.08454 4.66251 7.84395 4.80141C7.60337 4.94031 7.28845 4.94673 7.00266 4.79568C6.64714 4.60777 6.30729 4.45699 5.93083 4.40743C5.20773 4.31223 4.47642 4.50819 3.89779 4.95219C3.64843 5.14353 3.45827 5.3796 3.28099 5.6434C3.11068 5.89681 2.92517 6.21815 2.70294 6.60307L2.67769 6.64681C2.45545 7.03172 2.26993 7.35304 2.13562 7.62723C1.99581 7.91267 1.88644 8.19539 1.84541 8.50701C1.75021 9.23012 1.94617 9.96142 2.39016 10.5401C2.62128 10.8412 2.92173 11.0602 3.26217 11.2741C3.53595 11.4461 3.68788 11.7221 3.68786 12C3.68785 12.2778 3.53592 12.5538 3.26217 12.7258C2.92169 12.9397 2.62121 13.1587 2.39007 13.4599C1.94607 14.0385 1.75012 14.7698 1.84531 15.4929C1.88634 15.8045 1.99571 16.0873 2.13552 16.3727C2.26983 16.6469 2.45535 16.9682 2.67758 17.3531L2.70284 17.3969C2.92507 17.7818 3.11058 18.1031 3.28089 18.3565C3.45817 18.6203 3.64833 18.8564 3.89769 19.0477C4.47632 19.4917 5.20763 19.6877 5.93073 19.5925C6.30717 19.5429 6.647 19.3922 7.0025 19.2043C7.28833 19.0532 7.60329 19.0596 7.8439 19.1986C8.08452 19.3375 8.24756 19.607 8.25964 19.9301C8.27467 20.3319 8.31403 20.7016 8.45932 21.0524C8.73843 21.7262 9.27379 22.2616 9.94761 22.5407C10.238 22.661 10.5375 22.7076 10.8546 22.7292C11.1592 22.75 11.5303 22.75 11.9747 22.75H12.0252C12.4697 22.75 12.8407 22.75 13.1454 22.7292C13.4625 22.7076 13.762 22.661 14.0524 22.5407C14.7262 22.2616 15.2616 21.7262 15.5407 21.0524C15.686 20.7016 15.7253 20.3319 15.7403 19.93C15.7524 19.607 15.9154 19.3375 16.156 19.1985C16.3966 19.0596 16.7116 19.0532 16.9974 19.2042C17.3529 19.3921 17.6927 19.5429 18.0692 19.5924C18.7923 19.6876 19.5236 19.4917 20.1022 19.0477C20.3516 18.8563 20.5417 18.6203 20.719 18.3565C20.8893 18.1031 21.0748 17.7818 21.297 17.3969L21.3223 17.3531C21.5445 16.9682 21.7301 16.6468 21.8644 16.3726C22.0042 16.0872 22.1135 15.8045 22.1546 15.4929C22.2498 14.7697 22.0538 14.0384 21.6098 13.4598C21.3787 13.1586 21.0782 12.9397 20.7378 12.7258C20.464 12.5538 20.3121 12.2778 20.3121 11.9999C20.3121 11.7221 20.464 11.4462 20.7377 11.2742C21.0783 11.0603 21.3788 10.8414 21.6099 10.5401C22.0539 9.96149 22.2499 9.23019 22.1547 8.50708C22.1136 8.19546 22.0043 7.91274 21.8645 7.6273C21.7302 7.35313 21.5447 7.03183 21.3224 6.64695L21.2972 6.60318C21.0749 6.21825 20.8894 5.89688 20.7191 5.64347C20.5418 5.37967 20.3517 5.1436 20.1023 4.95225C19.5237 4.50826 18.7924 4.3123 18.0692 4.4075C17.6928 4.45706 17.353 4.60782 16.9975 4.79572C16.7117 4.94679 16.3967 4.94036 16.1561 4.80144C15.9155 4.66253 15.7524 4.39297 15.7403 4.06991C15.7253 3.66808 15.686 3.2984 15.5407 2.94762C15.2616 2.27379 14.7262 1.73844 14.0524 1.45933C13.762 1.33905 13.4625 1.29241 13.1454 1.27077C12.8407 1.24999 12.4697 1.24999 12.0252 1.25H11.9747ZM10.5216 2.84515C10.5988 2.81319 10.716 2.78372 10.9567 2.76729C11.2042 2.75041 11.5238 2.75 12 2.75C12.4762 2.75 12.7958 2.75041 13.0432 2.76729C13.284 2.78372 13.4012 2.81319 13.4783 2.84515C13.7846 2.97202 14.028 3.21536 14.1548 3.52165C14.1949 3.61826 14.228 3.76887 14.2414 4.12597C14.271 4.91835 14.68 5.68129 15.4061 6.10048C16.1321 6.51968 16.9974 6.4924 17.6984 6.12188C18.0143 5.9549 18.1614 5.90832 18.265 5.89467C18.5937 5.8514 18.9261 5.94047 19.1891 6.14228C19.2554 6.19312 19.3395 6.27989 19.4741 6.48016C19.6125 6.68603 19.7726 6.9626 20.0107 7.375C20.2488 7.78741 20.4083 8.06438 20.5174 8.28713C20.6235 8.50382 20.6566 8.62007 20.6675 8.70287C20.7108 9.03155 20.6217 9.36397 20.4199 9.62698C20.3562 9.70995 20.2424 9.81399 19.9397 10.0041C19.2684 10.426 18.8122 11.1616 18.8121 11.9999C18.8121 12.8383 19.2683 13.574 19.9397 13.9959C20.2423 14.186 20.3561 14.29 20.4198 14.373C20.6216 14.636 20.7107 14.9684 20.6674 15.2971C20.6565 15.3799 20.6234 15.4961 20.5173 15.7128C20.4082 15.9355 20.2487 16.2125 20.0106 16.6249C19.7725 17.0373 19.6124 17.3139 19.474 17.5198C19.3394 17.72 19.2553 17.8068 19.189 17.8576C18.926 18.0595 18.5936 18.1485 18.2649 18.1053C18.1613 18.0916 18.0142 18.045 17.6983 17.8781C16.9973 17.5075 16.132 17.4803 15.4059 17.8995C14.68 18.3187 14.271 19.0816 14.2414 19.874C14.228 20.2311 14.1949 20.3817 14.1548 20.4784C14.028 20.7846 13.7846 21.028 13.4783 21.1549C13.4012 21.1868 13.284 21.2163 13.0432 21.2327C12.7958 21.2496 12.4762 21.25 12 21.25C11.5238 21.25 11.2042 21.2496 10.9567 21.2327C10.716 21.2163 10.5988 21.1868 10.5216 21.1549C10.2154 21.028 9.97201 20.7846 9.84514 20.4784C9.80512 20.3817 9.77195 20.2311 9.75859 19.874C9.72896 19.0817 9.31997 18.3187 8.5939 17.8995C7.86784 17.4803 7.00262 17.5076 6.30158 17.8781C5.98565 18.0451 5.83863 18.0917 5.73495 18.1053C5.40626 18.1486 5.07385 18.0595 4.81084 17.8577C4.74458 17.8069 4.66045 17.7201 4.52586 17.5198C4.38751 17.314 4.22736 17.0374 3.98926 16.625C3.75115 16.2126 3.59171 15.9356 3.4826 15.7129C3.37646 15.4962 3.34338 15.3799 3.33248 15.2971C3.28921 14.9684 3.37828 14.636 3.5801 14.373C3.64376 14.2901 3.75761 14.186 4.0602 13.9959C4.73158 13.5741 5.18782 12.8384 5.18786 12.0001C5.18791 11.1616 4.73165 10.4259 4.06021 10.004C3.75769 9.81389 3.64385 9.70987 3.58019 9.62691C3.37838 9.3639 3.28931 9.03149 3.33258 8.7028C3.34348 8.62001 3.37656 8.50375 3.4827 8.28707C3.59181 8.06431 3.75125 7.78734 3.98935 7.37493C4.22746 6.96253 4.3876 6.68596 4.52596 6.48009C4.66055 6.27983 4.74468 6.19305 4.81093 6.14222C5.07395 5.9404 5.40636 5.85133 5.73504 5.8946C5.83873 5.90825 5.98576 5.95483 6.30173 6.12184C7.00273 6.49235 7.86791 6.51962 8.59394 6.10045C9.31998 5.68128 9.72896 4.91837 9.75859 4.12602C9.77195 3.76889 9.80512 3.61827 9.84514 3.52165C9.97201 3.21536 10.2154 2.97202 10.5216 2.84515Z",fill:"#FFFFFF"})," "]})]})]})]}),m.jsxs("div",{className:"featuredTracks",children:[m.jsx("div",{className:"featuredTracks-title",children:"Today's biggest hits!"}),m.jsx("div",{className:"featuredTracks-results",children:e.map((L,b)=>m.jsx(mP,{track:L},b))})]}),m.jsxs("div",{className:"playlistsMix",children:[m.jsx("div",{className:"playlistsMix-title",children:"Recommended for today"}),m.jsx("div",{className:"playlistsMix-results",children:I?m.jsx("div",{className:"spinnerBox",children:m.jsx(go,{color:"white",className:"spinner",display:"block"})}):m.jsx("div",{className:"playlistsMix-results",children:D.map((L,b)=>m.jsx(AP,{playlist:L},b))})})]}),m.jsxs("div",{className:"suggestedArtists",children:[m.jsx("div",{className:"suggestedArtists-title",children:"Artists you like"}),m.jsx("div",{className:"suggestedArtists-results",children:s.map((L,b)=>m.jsx(yP,{artist:L},b))})]}),v&&m.jsx(LP,{}),m.jsx(Ud,{})]})})}const ph="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACSSURBVHgBtZIrDoAwEESnWDwezynwePB4PB6Pp1fhWOgym1Q0TRP6Y5JJk6b7OtldIEHGmI7u/fsGkRIAj53ukSP5nT5CKWIBI33aJFmAuQZgo9uvtypQLEUr/SilNFIlABt/SanzRzzQkuRGiexCSZoJJXJAM0olvaH3mAnFgK7sXXFAQ9HaOyDpk67V8BF/6AUlaYLlJ7vRFAAAAABJRU5ErkJggg==";function T5({regState:t,userObj:e}){const[n,r]=O.useState(""),[i,s]=O.useState(!1),{userEmail:o,setUserEmail:a,userPassword:u,setUserPassword:c,userName:p,setUserName:f,userNews:d,setUserNews:v,userShare:E,setUserShare:k}=e,T=Pt(),A=Un(),y=ko(),g=E2(),C=oj();async function N(S){S.preventDefault(),!(!p||!o||!u)&&uD(y,o,u).then(w=>(r(w),console.log(w.user.uid),T(rv({email:o,id:w.user.uid,username:p,news:d,share:E,search:[]})),a(""),c(""),f(""),k(!1),v(!1),A("/artists"),w)).then(()=>{D()}).catch(w=>{s(!0),console.error(w)})}async function D(){console.log("start add data");const S=y.currentUser,w={email:o,id:S.uid,username:p,news:d,share:E,search:!1,artists:!1,key:!1,liked:!1},I=await C.mutateAsync(w);T(Wv({key:I})),hD(S,{displayName:I}).catch(P=>console.error(P));const R="key";console.log(I),g.mutate({id:I,field:R,updateData:I}),console.log("end edit data"),console.log(S)}return m.jsx("div",{className:"registration_data",children:m.jsxs("div",{className:"registration_data__container",children:[m.jsxs("div",{className:"title_box__reg_data",children:[m.jsx("button",{onClick:()=>t.setIsRegistration(!1),className:"go_back__btn_reg",children:m.jsx("img",{src:ph,alt:""})}),m.jsx("h1",{className:"create_account__title",children:"Create account"})]}),m.jsxs("form",{className:"create_account__content",onSubmit:S=>{N(S)},children:[m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:i?"error_label":"user_data_label",children:"What's your email?"}),m.jsx("input",{className:i?"error_input":"user_data_input",value:o,onChange:S=>{a(S.target.value),s(!1)},type:"email"}),m.jsx("label",{className:"user_data_info",children:"Youll need to confirm this email later."})]}),m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:i?"error_label":"user_data_label",children:"Create a password"}),m.jsx("input",{className:i?"error_input":"user_data_input",value:u,onChange:S=>{c(S.target.value),s(!1)},type:"password"}),m.jsx("label",{className:"user_data_info",children:"Use at least 6 characters."})]}),m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:i?"error_label":"user_data_label",children:"What's your name?"}),m.jsx("input",{className:i?"error_input":"user_data_input",value:p,onChange:S=>{f(S.target.value),s(!1)},type:"text"}),m.jsx("label",{className:"user_data_info",children:"This appears on your Spotify profile."})]}),m.jsxs("div",{className:"user_terms",children:[m.jsxs("p",{className:"user_terms__text",children:["By creating an account, you agree to Spotify's",m.jsx(_n,{to:"*",className:"terms_link",children:"Terms and Conditions of Use"})]}),m.jsxs("p",{className:"user_terms__text",children:[" ","To learn more about how Spotify collect, uses, shares and protects your personal data, please read Spotify's",m.jsx(_n,{to:"*",className:"terms_link",children:"Privacy Policy"})]}),m.jsxs("div",{className:"extra_box",children:[m.jsxs("div",{className:"user_extra",children:[m.jsx("p",{className:"user_extra__text",children:"Please send me news and offers from Spotify."}),m.jsx("input",{className:"user_extra__inp",value:d,checked:d,onChange:S=>{v(!d)},type:"checkbox"})]}),m.jsxs("div",{className:"user_extra",children:[m.jsx("p",{className:"user_extra__text",children:"Share my registration data with Spotifys content providers for marketing purposes."}),m.jsx("input",{className:"user_extra__inp",value:d,checked:E,onChange:S=>{k(!E)},type:"checkbox"})]})]})]}),m.jsx("button",{disabled:i,className:"create_user__btn",type:"submit",children:"Create an account"})]})]})})}const R5="/assets/spotifyLogo-JAFdBqVO.png",x5="/assets/googleLogo-BiWGFzpO.png",b5="/assets/facebookLogo-DS3UgdAs.png";function N5(){const[t,e]=O.useState(),[n,r]=O.useState(),[i,s]=O.useState(),[o,a]=O.useState(),[u,c]=O.useState(),p={userEmail:t,setUserEmail:e,userPassword:n,setUserPassword:r,userName:i,setUserName:s,userNews:o,setUserNews:a,userShare:u,setUserShare:c},[f,d]=O.useState(!1),v={isRegistration:f,setIsRegistration:d};return m.jsx("div",{className:"registration",children:f?m.jsx(T5,{regState:v,userObj:p}):m.jsx("div",{className:"reg",children:m.jsxs("div",{className:"reg_container",children:[m.jsxs("div",{className:"title_box",children:[m.jsx("img",{className:"mini_logo",src:R5,alt:"logo"}),m.jsxs("h1",{className:"reg_page__title",children:["Millions of Songs.",m.jsx("br",{}),"Free on Spotify."]})]}),m.jsxs("div",{className:"reg_funct_box",children:[m.jsx("button",{onClick:()=>{d(!0)},className:"sign_up__btn",children:"Sign up free"}),m.jsxs("button",{className:"regGoogleBtn",children:[m.jsx("p",{children:"Continue with Google"}),m.jsx("img",{src:x5,alt:"google"})]}),m.jsxs("button",{className:"regFacebookBtn",children:[m.jsx("p",{children:"Continue with Facebook"}),m.jsx("img",{src:b5,alt:"facebook"})]}),m.jsx(_n,{to:"/login",className:"log_in__link",children:"Log In"})]})]})})})}function mh({onClick:t}){const e=Un(),n=()=>{t&&t(),e(-1)};return m.jsx("button",{onClick:n,className:"go_back__button",children:m.jsxs("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),m.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",m.jsx("path",{d:"M14.9998 19.9201L8.47984 13.4001C7.70984 12.6301 7.70984 11.3701 8.47984 10.6001L14.9998 4.08008",stroke:"#FFFFFF",strokeWidth:"2.4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})})}function P5(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[i,s]=O.useState(!1),o=ko(),a=Pt(),u=Un();fd();async function c(d){d.preventDefault(),!(!t||!n)&&cD(o,t,n).then(()=>{fd().then(v=>{const E=f(v);return console.log(E),E}).then(v=>{const E=o.currentUser;return p(v,E.email)}).then(v=>{if(v){console.log(v),a(rv({email:v.email,id:v.uid,username:v.username,news:v.news,share:v.share})),a(Wv({key:v.key}));const E=JSON.parse(v.artists);console.log(typeof E),E.map((k,T)=>(console.log(k),a(fh(k)),k))}}),u("/")}).catch(v=>{console.error(v),s(!0)})}function p(d,v){const E=d.find(k=>k.email===v);return console.log(E),console.log("auth succesfull"),E||null}function f(d){return console.log(d),Object.entries(d).map(([E,k])=>({id:E,...k}))}return m.jsxs("div",{className:"login",children:[m.jsxs("div",{className:"login_container",children:[m.jsxs("div",{className:"title_box_login",children:[m.jsx(_n,{to:"/registration",className:"go_back__btn_log",children:m.jsx("img",{src:ph,alt:""})}),m.jsx("h1",{className:"title_text_login",children:"Log In"})]}),m.jsxs("form",{onSubmit:d=>c(d),className:"login_user_form",children:[m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:"user_data_label",children:"Please, enter your email"}),m.jsx("input",{className:"user_data_input",value:t,onChange:d=>{e(d.target.value),s(!1)},type:"email"})]}),m.jsxs("div",{className:"user_data__box",children:[m.jsx("label",{className:"user_data_label",children:"Please, enter your password"}),m.jsx("input",{className:"user_data_input",value:n,onChange:d=>{r(d.target.value),s(!1)},type:"password"})]}),m.jsx("button",{type:"submit",className:"login_user__btn",children:"Log In"})]})]}),i&&m.jsx("div",{className:"popUp",children:m.jsx("p",{className:"error_text",children:"This email and password combination is incorrect."})})]})}function O5({info:t}){const[e,n]=O.useState(t.image),r=he(c=>c.album.albumData),i=Pt(),[s,o]=O.useState("");O.useEffect(()=>{t&&!t.image&&n(wr)},[t]),O.useEffect(()=>{t&&(t.image&&t.image.includes("artist")?o("/artist"):t.zip&&r!==null||r==null?o(`/album/${t.id}`):o(`/player/${t.id}`))},[t]);function a(c){localStorage.setItem("track",JSON.stringify(c))}const u=c=>{a(c),c&&c.image&&c.image.includes("artist")?i(LS(c)):c&&c.zip&&i(jS({albumData:c}))};return m.jsx(_n,{to:s,onClick:()=>{u(t)},children:m.jsxs("div",{className:"mini_player_card",children:[m.jsx("img",{src:e,className:"mini_player_card__image",alt:"album"}),m.jsxs("div",{className:"mini_player_card__text",children:[m.jsx("div",{className:"mini_player_card__title",children:t.name}),m.jsx("div",{className:"mini_player_card__artist",children:t.artist_name})]})]})})}function D5({info:t,onClick:e}){const n=()=>{e(t.path)};return m.jsx("div",{className:"tab",onClick:n,children:t.name})}const rc=Mg({reducerPath:"searchApi",baseQuery:Dg({baseUrl:"https://api.jamendo.com/v3.0/"}),endpoints:t=>({search:t.query({query:({path:e,name:n})=>(console.log("Search query params:",e,n),{url:e,params:{client_id:"354e8ba5",format:"jsonpretty",limit:"all",name:n}})})})}),{useSearchQuery:Gv}=rc,$2=[{name:"Tracks",path:"tracks/"},{name:"Albums",path:"albums/"},{name:"Artists",path:"artists/"},{name:"Users",path:"users/"}];function L5(){const[t,e]=O.useState($2),[n,r]=O.useState(!0),[i,s]=O.useState(t[0].path),[o,a]=O.useState(""),[u,c]=O.useState([]),[p,f]=O.useState(""),[d,v]=O.useState(!0),[E,k]=O.useState(100),T=ko(),A=he(S=>S.user),y=Un(),g=()=>{k(200)};O.useEffect(()=>{ev(T,S=>{A.email==null&&y("/")})},[]),O.useEffect(()=>{const S=setTimeout(()=>{f(o)},100);return()=>clearTimeout(S)},[o]);const{data:C,error:N}=Gv({path:i,name:p});O.useEffect(()=>{C&&C.results?(c(C.results),v(!1),k(100)):(c([]),k(null))},[C]);const D=S=>{s(S)};return m.jsxs("div",{className:"wrapper",children:[m.jsxs("div",{className:"search-page",children:[m.jsxs("div",{className:"search-page__box",children:[n&&m.jsx("h1",{className:"search-page__title",children:"Search"}),m.jsxs("div",{className:"searchInput",children:[m.jsx("span",{}),m.jsx("input",{placeholder:"What do you want to listen to?",type:"text",value:o,onChange:S=>a(S.target.value),onFocus:()=>r(!1),onBlur:()=>{o||r(!0)}})]})]}),m.jsx("div",{className:"searchCategories",children:t.map((S,w)=>m.jsx(D5,{info:S,onClick:D},w))}),m.jsx("div",{className:"search-page__results",children:d?m.jsx("div",{className:"spinnerBox",children:m.jsx(go,{color:"white",className:"spinner",display:"block"})}):m.jsxs(m.Fragment,{children:[N&&m.jsxs("p",{children:["Error: ",N.message]}),u&&u.length>0?u.filter(S=>S.image!=="").slice(0,E).map((S,w)=>m.jsx(O5,{info:S,onClick:console},w)):m.jsx("p",{className:"noResults",children:"No results found"})]})}),E==100&&m.jsx("button",{onClick:g,className:"seeMoreBtn",children:"See more"})]}),m.jsx(Ud,{})]})}const M5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACzSURBVHgB7VK7DsIwDDx17d6dHebuMMOczLCz8xUw0707PxjOUpBClFROH0vVk05JbOccxwY2LA7nXE1eMAOocyIb2VdkTVoajpgA/zgTG/fkR1aMAO/tsvclI9n/SikQbciOPA8FGfKtFQ9EjSb4Tj6lqYpYiXukfFXC1vn1hmFR8UvyF7QISrQZvy35spR4H884z+2YJsfif2MYJGsxFcEYHtQTUCBu/MuvmBu5Rm5YIb61VsCARHTZDgAAAABJRU5ErkJggg==",j5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAFCAYAAACn39dKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABwSURBVHgBfZCBCYAwDASLEzhiN9AN2g1cwQ2qE7ROkBF0k5hghfhgAg/hryn5BGYeRUlURTFAdVZEk8Oy/qPGyt/K5vHisASsqHmB2cwAASPDKrBzEJ9g+2b6Hdjx0z9z/WaaebMxzAazw6ImeW92A2z3xCk5wCFKAAAAAElFTkSuQmCC",vw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAlCAYAAAAqXEs9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEoSURBVHgB7ZfBjcIwEEV/VntfSsh2sB1stoOlA6iAUAF0QDqAEuiAFqAC0gF0EP4IHxAEyDgzEkh+0mjCwejhbxsHSCQSCT+aphmwKtYvtHBQwdpf1Q8i4diSdWjO3BX6fPI9+dXnL+hFCrYFq9OP+YATFMlZSz5uusoIz2YoVmbONmENoMRUKMQjs5IjEhMhiSeIFOhJLyHZxmwlIuMxFbKIpw21kGU8bWiFyiBiEk8bWqF/OON2MMby9kJHOKMVkjU0ZdVwQh1ZlmUV2x9rBQei1hClataYj98wnq1eizqIiZTI1TDAZJdRagWjGM22vVWM5udQ3xjdDsaLGCvNONeTOsyWnFsyY+suYx79uW5xe8XYIVKMbciry4h9hlcivCy6XV8SiRNYWXKffkHecwAAAABJRU5ErkJggg==",F5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADgSURBVHgB7ZNNEYMwEIVXQhw0EuqgddA6oA6oA3CABOqgEiIBCUhAwnYz85gumYVChkMPvJk9sD9f2PAgOvT3YuZWws8V7xKVxJW2g6N6idoq1hKdaioWQA79Ab1a8flsDXmsxtYbSO4hMSAaiVJBY66kH+s946CRYwCdyg+4RkdbFdcDtDJqnnKE6+ktaLYUtKG9hK8foR3tKQG+AXbJYS7pK9YC4/ALUJ/UQupz5d/bHMzD+IMFRZ/HJqNvA0/VTub4+1Os8iQOKOFprYnHR5+eKEMABs718wL4QoeW9AFasIDFW0sBOAAAAABJRU5ErkJggg==",U5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIoSURBVHgB7ZZdTttAEMdnbAf1kRtgHqGoLTcIJyg9Qa2KoEjUjXOChhMQviQEQTEnIDcgnIBveMTcwC/wEMc77CwYDCGODY4QEj8pstae2X9mPDNrgE8+As6BM5rWVoOcuB6hg9KZ3SxflM1BtrmJKggtIUb25k5tJ8kMkx7OnThFDeknAaRIHc1CzA4RPBlSbXNiZSeV6Pzx31nQtSUiMOENEFC7G+i/3Om6nyg6f/KvRgj/IyfS0f1CYRsG0CGjDUTmnR/48udsT/VGyRh9BGVqyGpMru5DSkpnFSUGKOrdjrH8PLoXRcsXjhmGQgkGQWfGnd7wIANIohUEwXIaP4z906ZMjyUArH5peS2qIA0xFhXVY3pJVZ+ft6Alhwai2KVQLdXeqk85tfIyKgvnEHKG3y0itnn/hfOFsQfRCOQCGgKqwGI8EZWVm3p+ZlQ1e0Q3JuqevPhIWLQyDO4Mqj94//XJ9StePRRSKKiqG3CZ1F+voXRqW6DGI7nRPUzjyIXWpbAih0UVMsB+Qog9Hqey98ejHjaSnPiMvDGEI4dGBQE5A6lFuTelYJMFCUUtPjT6RnqXFlyCx5PD0wNtBgbQKUBRB/ot01nkNQs2vq4txm16RLmQCgXajZzegCcjrW5/W2s9f/BipH+ObUvXkOewGbst00stGACC5pMmWlsJh0XyIX5kO6hj5V7c25paGYccSPxcaXxfrQfqPaIL78FwhsYnQ+AWLA3ybZFB7UwAAAAASUVORK5CYII=",B5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI6SURBVHgBrVW9btpQFD42ZmADkb10qDIGpkqGKGFEQgTUIUur+g3iPAHwBLXfgL5Bg6KyRgiCOhXG0MVSWKlYSIT4y/c5OAoWAhPlk8y95/qc73z33OOLyDtD8SaNRiMxnU4vFEUxYEaXy6WD8WY+n1dLpZKzF2G9XjdA9INEG3xGeGfm8/mfEgAKlc1ms78e2eD+Xv7c3sqX8/M1UvikNintdDrcWTIUCh2l0+mqhi2V5ZWyx4cHGQwG/rgoAi4QbCP4VNO0o8VikcR6EolGeNdFiYqwqxomp4z4d3cn/4dDGeLhSJVE5uREIpGIqKpqIriIYNa1i/HXZDLpZbPZEf1ardaSo4YnwQlJ+v2+OxKcE/rxsYzHY4EiQR0/yg6QkBmin3Vd+FDp7+tr+WYYrgPUuOPq1HdChWNNguEmiJMWDodt1MaQ1cF8OjyUrwcHfr8R+zEIoZrL5RyovJTnrbuIx+NrZOzDoM2t8qdQKNTQCikE1mC6gbFYjHWz2H9Bm3orvDbY11+Vd4YmbwDUmCgHL5IETDa55bXX3oTtdttAk5fx5Vgwr0DET9BaU7gtox8rPxMXgXdQXST5gPUKDZUZYTBjDY4pZLdBZm0RmYRfz7d29aJwV8YNCh34n9HvdRLP1rZkrGwihK/NHeEqc7CbHp4iReGV6W559dGf+eJeMvqRyWQskFyiLKw7L+bvKFcF6+4OFR4IxjIOwvQyQoWb0XPaB+5/SrPZNJCFJEkq5inrum7LG/AEFLhE2VP9SO8AAAAASUVORK5CYII=",V5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEqSURBVHgB7ZQxjoJAFIbfwFJIZZYL0Gys9wZb7zIFN/AGeoPN9iYbPQHGGwAJrTdAbG28AAkVFEDwPUQjE8UhsdMvmTAMf/68efMzAA+GnSZBEJh5nk8YY2N8HVZVtcfnuizLP9u2970MXdcdo9E/GV3RJPhtalnWEiRgVFlRFOGlWRzHYBhGyxQ1nzKVKrilX9FsMZuJuqGqqhOQQMFefckIm97e5Q2HSZMoDGEbRZClKaRZBivHqQU/nMP7cfvnXXieV3UZJiTWdb3uWzYYwA4XhB5Cc+o1nHN20xCFDp3ix2gENKiH280GvrEygTVIoGiaNm+q7CKhPIIEV3MoxKZfDk8TyiNFqDl1k4yoHbg27/OnPBx2T+D7/hQrbYX/xbPTik3XLSLLAX0QgV+zNXMyAAAAAElFTkSuQmCC",z5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgBpVXbbcIwFLUjBmCEMAHpBA3fPNpMAEwAnYBkgtIJGiYIAvFNOgFhgmYEBkDQcxIbBeMUJCxdxb6P4/t0pLCsJEmajUZjiK0P8kCuEmWgXEq57PV6C5utNBmr1eodBt/cn8/n2HGc7HQ65YWylB4JfB8kIAtN4CvA9Xo9x2cCCo/H41cQBAdRH0GhB4r6/X54AwgwMie4tdPtdjPxwNpsNh683zKSwWDwcQFEmCOGCbCXR8EM0B1AA4AupfLuF58YrkdVZfB9fGaiLEwTlOLi2Mwb9KgzRZpaDr1jgpkzQynEh+GwKNTxAZYzPCW7LG3LzpAQJlA6wN2xVvgvBTpEbDuIKK3YfMLGdbB3sbkywnlIT2z5JA+yuUpFde3B9wjIvjINfVAs6tePKPNadSLXHtrWAZc0a2Q0Zn9a5QTMkSvX4Gcw8kU9IMcyNdht2hGQVfQMYQSjKQtggpEH71m02LiEujmrrEetVR011VshiwPlhUrBKy8iv9qzahR3kIUOgIomVbN5WTQAyJiJxnHLNtIPgzkAsJ2yl9nwevT4wiTPjB7sRwQsqswZZG9x0G15uwO2ZQr0OJrPV5E3UIRUzO88X8zljI7ol+YGkEuNHRV5TNUU7XkAz8WnzfDUeczoqvZS1CwF/CbK51+nIRflbyBlMW0R/AGctDzA63aP5AAAAABJRU5ErkJggg==",W5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIDSURBVHgBrVTLccIwEJWNYbgBFYQOwpU/riBOBTgVBCrArgCoAHcQUoHD/+hQQZwOfOHCz3nL2BnHWI7I5M14ZGlXT7v7VpJYChaLRSeTyTycz+cKzSVJ8jB4siyb1WrVTdsrpZCOQFQAiVWr1Wbh+nq9buMg3ff9z2azabBbAFJjtVoN0nyWy+UQX4+JYrPZlLHBFvHF4R88mxxfOBwOFaQ/ZQJAOaakgxAxxLrH8M4EgFpvocOdEDEpjw1lJgBFUQpBpwgRv2LQmQBQisp+v98KEYf9yatdCBIZxExVVVeImAABnyDg0LbtIuMA5RrAz+TZE4mDKMbZbDaxl9Fmelq0XGJCvV63SJikSwDSbjxa+PlRXy4xAcKMQd6Or2OtnBQtDnyez+far8S5XE6Dc1I7mYhuEl88Ho8q7sEQpapwifHYaEHK/bgtKNMM5E5U4CCLR2R6Teg4TpFeNnpk0rqCAHs5/KcaR21KdELF3+12XaTTiz6VPOTz+Us/J73NF2Iynk6nCdJ7QxrISPXSCEN/fB2ao6Yutd8P4tCJaglC0ceH+ruIPSUa0e8vcR8Zxg49k6KkBESnY0+PMiPBcNDVDZSDCDx2GzyQfwsLTYqYu1EHhf0NJogstKSBMpboYiCDEYtHfCsajcYIWfbxaXQzQWqgt83/iJi1Wi0Lg8WzfwF2Mi0xHJZf4AAAAABJRU5ErkJggg==";function Q5(t){return un({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 10 6 L 10 26 L 12 26 L 12 6 Z M 20 6 L 20 26 L 22 26 L 22 6 Z"},child:[]}]})(t)}function H5(t){return un({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:"currentColor"},child:[]}]})(t)}const $5="modulepreload",q5=function(t){return"/"+t},yw={},K5=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=q5(o),o in yw)return;yw[o]=!0;const a=o.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${u}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":$5,a||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),a)return new Promise((f,d)=>{p.addEventListener("load",f),p.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function pd(){return pd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}function G5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y5(t){O.useEffect(t,[])}function X5(t,e){e===void 0&&(e={});var n=e,r=n.volume,i=r===void 0?1:r,s=n.playbackRate,o=s===void 0?1:s,a=n.soundEnabled,u=a===void 0?!0:a,c=n.interrupt,p=c===void 0?!1:c,f=n.onload,d=G5(n,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),v=fe.useRef(null),E=fe.useRef(!1),k=fe.useState(null),T=k[0],A=k[1],y=fe.useState(null),g=y[0],C=y[1],N=function(){typeof f=="function"&&f.call(this),E.current&&A(this.duration()*1e3),C(this)};Y5(function(){return K5(()=>import("./howler-DmqQNqTG.js").then(R=>R.h),__vite__mapDeps([])).then(function(R){if(!E.current){var P;v.current=(P=R.Howl)!==null&&P!==void 0?P:R.default.Howl,E.current=!0,new v.current(pd({src:Array.isArray(t)?t:[t],volume:i,rate:o,onload:N},d))}}),function(){E.current=!1}}),fe.useEffect(function(){v.current&&g&&C(new v.current(pd({src:Array.isArray(t)?t:[t],volume:i,onload:N},d)))},[JSON.stringify(t)]),fe.useEffect(function(){g&&(g.volume(i),g.rate(o))},[i,o]);var D=fe.useCallback(function(R){typeof R>"u"&&(R={}),!(!g||!u&&!R.forceSoundEnabled)&&(p&&g.stop(),R.playbackRate&&g.rate(R.playbackRate),g.play(R.id))},[g,u,p]),S=fe.useCallback(function(R){g&&g.stop(R)},[g]),w=fe.useCallback(function(R){g&&g.pause(R)},[g]),I=[D,{sound:g,stop:S,pause:w,duration:T}];return I}const J5="/assets/media-playlist-repeat-MjDt3T3K.png",q2=It({name:"likes",initialState:{likedTracks:[]},reducers:{addLikedTrack:(t,e)=>{t.likedTracks.push(e.payload)},removeLikedTracks:(t,e)=>{t.likedTracks=t.likedTracks.filter(n=>n.id!==e.payload)}}}),{addLikedTrack:K2,removeLikedTracks:G2}=q2.actions,Z5=q2.reducer;function xm(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function bm(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}function _w(){const t=Pt(),[e,n]=O.useState(""),[r,i]=O.useState(""),[s,o]=O.useState(""),[a,u]=O.useState(""),[c,p]=O.useState(""),[f,d]=O.useState(""),[v,E]=O.useState(""),[k,T]=O.useState(0),[A,y]=O.useState(""),[g,C]=O.useState($2),[N,D]=O.useState(g[0].path),[S,w]=O.useState(!1),[I,R]=O.useState(!1),[P,L]=O.useState(!1),[b,{pause:H,duration:$,sound:G}]=X5(s),[ee,F]=O.useState({min:"",sec:""}),W=JC(),{data:V,error:X}=Gv({path:N,name:A}),K=he(ge=>ge.search.search),z=Un(),me=he(ge=>ge.likes.likedTracks),[Ot,_t]=O.useState([]),[He,fs]=O.useState();O.useEffect(()=>{f!==void 0&&V!==void 0&&V.results!==void 0&&W.trackId&&te(V.results,W.trackId)},[f,V]);function bo(){z(-1)}async function te(ge,Ai){const $e=await ge.find(Dt=>Dt.id===Ai);if($e)return n($e.name),i($e.artist_name),p($e.album_name),u($e.image),o($e.audio),d($e.id),fs($e),$e;{const Dt=K[K.length-1];return n(Dt.name),i(Dt.artist_name),p(Dt.album_name),u(Dt.image),o(Dt.audio),d(Dt.id),fs(Dt),Dt}}const Be=()=>{I?(H(),R(!1)):(b(),R(!0))};O.useEffect(()=>{const ge=setInterval(()=>{if(G){T(G.seek([]));const Ai=Math.floor(G.seek([])/60),$e=Math.floor(G.seek([])%60);F({min:Ai,sec:$e})}},1e3);return()=>clearInterval(ge)},[G]);const wt=ge=>{E(ge)},Si=`linear-gradient(to bottom, ${v}, rgb(0, 0, 0))`;O.useEffect(()=>{_t(me)},[me]);const ps=ge=>{if(console.log(me),!me.some($e=>$e.id===ge.id))_t(ge),t(K2(ge));else{const $e=Ot.filter(Dt=>Dt.id!==ge.id);_t($e),t(G2(ge.id))}};return m.jsxs("div",{className:"player",style:{background:Si},children:[m.jsx(Fg,{imageUrl:a,onColorGenerated:wt}),m.jsxs("div",{className:"player_container",children:[m.jsx("div",{className:S?"track_modal open":"track_modal",children:m.jsxs("div",{className:"track_box_modal",children:[m.jsx("img",{src:a,width:164,height:169,alt:""}),m.jsx("h1",{children:e}),m.jsx("h2",{children:r}),m.jsxs("div",{className:"modal_function",children:[m.jsx("div",{children:m.jsx("button",{className:"likeBtn",onClick:()=>{ps(He)},children:me.some(ge=>ge.id===f)?m.jsxs("div",{className:"",children:[m.jsx(xm,{className:"likeBtnSVG"}),m.jsx("p",{children:"Unlike"})]}):m.jsxs("div",{className:"",children:[m.jsx(bm,{className:"likeBtnSVG"}),m.jsx("p",{children:"Like"})]})})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:B5,alt:"",width:21,height:20}),"Add to playlist"]})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:V5,alt:"",width:21,height:20}),"Add to queue"]})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:z5,alt:"",width:21,height:20}),"View album"]})}),m.jsx("div",{children:m.jsxs("button",{children:[m.jsx("img",{src:W5,alt:"",width:21,height:20}),"View artist"]})})]}),m.jsx("button",{onClick:()=>{w(ge=>!ge)},children:"Close"})]})}),m.jsxs("div",{className:"player_content",children:[m.jsxs("div",{className:"upper_info",children:[m.jsx("button",{className:"go_back__btn_player",onClick:()=>{bo()},children:m.jsx("img",{src:M5,alt:"",height:22,width:22})}),m.jsx("h1",{className:"page_player_title",children:c}),m.jsxs("button",{className:"more_info__btn",onClick:()=>{w(ge=>!ge)},children:[" ",m.jsx("img",{src:j5,alt:""})]})]}),m.jsx("img",{src:a,alt:"",width:380,height:380,className:"track_img"}),m.jsxs("div",{className:"track_info",children:[m.jsxs("div",{className:"track_content_1",children:[m.jsxs("div",{className:"track_info_content",children:[m.jsx("div",{className:"marquee-container",children:m.jsx("h2",{className:"track_name",children:e})}),m.jsx("h3",{className:"track_artist",children:r})]}),m.jsx("div",{className:"track_content_2",children:m.jsx("button",{className:"likeBtn",onClick:()=>{ps(He)},children:me.some(ge=>ge.id===f)?m.jsx(xm,{className:"likeBtnSVG"}):m.jsx(bm,{className:"likeBtnSVG"})})})]}),m.jsx("audio",{src:s}),m.jsx("input",{type:"range",min:"0",max:$/1e3,default:"0",value:k,className:"timeline",onChange:ge=>{G.seek([ge.target.value])}}),m.jsx("div",{className:"track_time",children:m.jsxs("p",{children:[ee.min,":",ee.sec]})})]}),m.jsxs("div",{className:"track_function",children:[m.jsxs("button",{className:"track_function__btn shuffle",children:[" ",m.jsx("img",{src:F5,alt:"",width:22,height:22})]}),m.jsxs("button",{className:"track_function__btn prev_track",children:[" ",m.jsx("img",{src:vw,alt:"",width:36,height:37})]}),I?m.jsx("button",{onClick:Be,className:"track_function__btn play",children:m.jsx(Q5,{id:"stop"})}):m.jsx("button",{onClick:Be,className:"track_function__btn play",children:m.jsx(H5,{id:"start"})}),m.jsxs("button",{className:"track_function__btn next_track",children:[" ",m.jsx("img",{src:vw,alt:"",width:36,height:37,className:"vector"})]}),m.jsx("button",{onClick:()=>handleRepeatControl(),className:"track_function__btn repeat",children:P?m.jsx("img",{className:"repeat_img",src:U5,alt:""}):m.jsx("img",{className:"repeat_img",src:J5,alt:""})})]})]})]})]})}const ic=Mg({reducerPath:"artistsApi",baseQuery:Dg({baseUrl:"https://api.jamendo.com/v3.0/"}),endpoints:t=>({getArtists:t.query({query:()=>"artists/?client_id=354e8ba5&format=jsonpretty&limit=23"})})}),{useGetArtistsQuery:eF}=ic,ww="/assets/chosen-BdHIclC5.png";function tF({item:t,onSelect:e}){const[n,r]=O.useState(t.image),i=()=>{r(n!==ww?ww:t.image),e(t)};return n===""&&r(wr),m.jsxs("div",{className:"artist",onClick:i,children:[m.jsx("div",{children:m.jsx("button",{className:"choose_actor__button",children:m.jsx("img",{className:"artist_photo",src:n,alt:""})})}),m.jsx("div",{children:m.jsx("p",{className:"artist_name",children:t.name})})]})}function nF(t){return un({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#43A047",points:"40.6,12.1 17,35.7 7.4,26.1 4.6,29 17,41.3 43.4,14.9"},child:[]}]})(t)}function rF(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState(""),{data:o}=eF(),a=Pt(),u=Un(),c=he(N=>N.userKey);console.log("key is "+c.key);const p=c.key,f="artists";console.log(f),console.log(p);const d=E2();JSON.stringify([{artist:"artist_1"},{artist:"artist_2"},{artist:"artist_3"}]);const[v,E]=O.useState(!1);O.useEffect(()=>{o&&o.results&&e(o.results)},[o]);const k=N=>{s(N.target.value)},T=he(N=>N.userArtists),A=he(N=>T.userAppArtists);console.log(A);function y(N){if(n.some(S=>S.id===N.id)){const S=n.filter(w=>w.id!==N.id);r(S),a(k2(N.id))}else r([...n,N]),a(fh(N))}O.useEffect(()=>{A.length>=3?E(!0):E(!1)},[A]);const g=t.filter(N=>N.name.toLowerCase().includes(i.toLowerCase()));console.log(A);const C=()=>{if(A.length>=3)console.log("start edit data"),d.mutate({id:p,field:f,updateData:JSON.stringify(A)}),u("/");else return};return m.jsxs("div",{className:"artists",children:[m.jsxs("div",{className:"artists_container",children:[m.jsxs("div",{className:"top_block",children:[m.jsx(mh,{}),m.jsx("div",{className:"text_block",children:m.jsx("p",{className:"choose_artists",children:"Choose 3 or more artists you like."})})]}),m.jsx("div",{className:"input_block",children:m.jsxs("div",{className:"searchInput",children:[m.jsx("span",{}),m.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:k})]})}),m.jsx("div",{className:"card_block",children:g.filter(N=>N.image!=="").map(N=>m.jsx(tF,{item:N,onSelect:y},N.id))})]}),v&&m.jsxs("button",{className:"fixedButton",onClick:C,children:[m.jsx("div",{className:"success_icon_box",children:m.jsx(nF,{className:"success_icon"})}),m.jsx("p",{className:"success_text",children:"Perfect! Go to Main page!"})]})]})}function iF(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.8 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM102 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38zM410 218c-21 0-38 17-38 38s17 38 38 38 38-17 38-38-17-38-38-38z"},child:[]}]})(t)}function sF(t){return un({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M9.207 8.5l6.646 6.646-0.707 0.707-6.646-6.646-6.646 6.646-0.707-0.707 6.646-6.646-6.647-6.646 0.707-0.707 6.647 6.646 6.646-6.646 0.707 0.707-6.646 6.646z"},child:[]}]})(t)}const oF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAVCAYAAABYHP4bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE2SURBVHgBtZWBUcMwDEVljgHKBtmAbIBHCBOkG3BMUEYoE5ROUJig2QA2cDdomeAjERvcXOLK5/Td/YvOsfojK1GJCgCwZO3xj8TtYI9lVXGCpQx4/wbT7FhP3vgzTpKFI6tRmqygw7HquCIX3VxdMFlAj/MF1GNGYUM1YWSh5++Ubnz+x+D3xMTBN1eqGNzT8myMeZfA+Kes+CJNWySSOtbB57Sko2Gj3yJu/cID65G1S5hZyuc7BKEiR3lHouWOKzpJEHq0pfk5BJPYaE39+c9JN7oqL8TIa16CnXwE9F/xGuU4SoHzAVlCe8lIju+IMjakAWW9cpgYXSlDmWlv1zap5zYx6Ee4bJLRI/E95Y2bV9ZL/HGmKlgivy97ZPwrm4Gh5Uvjq5LqwoA9eXWsL9ZWVUHED5DmW/mpyfqMAAAAAElFTkSuQmCC",aF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ3SURBVHgB7VY7ktpAEB0JDiASqIKEzRyq+OT4BN49gcUJdn2CZW8AkUPgBHgzZ0voKj6l0I6sCMiscAM+fk/Vs8VSiEGCaEuvatQzmlb3U3dPS0plyHAalroCGo1Ga7fbPWLqYjiY+5Zl+ZvN5sn3/eAcGxcTqdVqfTj1OAeBECLEuirbgW3bd5PJxDfZsdUF0CRAIID8PJ/PCxg3iMQNtnsY1e12++K6btVkK6dSAIadcrn8XZOAM5J4e+vVahUul8uf0Clg2YKexfUpm4kjQhL5fP5ln0RcHSAyHUrofjHZTUwkl8uNQMA1kSCwx5rhftVkNxER1IQH0TqHBMHoCYnQYFrlVTLc84KT0EZNBDpNuDWeTqffDpWhdy/THybDiSKCXLNPhHA6Fke3iAz7xkO9Xu/v62L9FfodztlPTLaNRGgQDUsX27sQIyoDpoipwtKjrjxzCzEQsu1zmpptIkGDcFaQWzyiDjup1qETOpOlxwuIOZoEmtlAnQHbRIJzhDgUB0OR/f0mJamijqv1k5CInjl2k05wTP9GTA8MgiDnJBmAUA/p6cr9fxDObDZL9dk4GhGQ6EQsLevp8K3gyIPo8buClEV7kqroY6dSIu74RsW5Xq+7xzZB5kHPGT2mSoh3VUrE1QiLLZDOGAtJIftIFWMMgkN1ZSIBjUtnNJJgStAr7tQFOEoEhp8p0TUfTSQwhtLujW38FI7+BpRKpd84LR6mrUql4hSLxT/8tHOPhYlaGGkSLF7svaoLEXvUms2mi3CP9N+W/PwwVTpdQzlBV0Hsj9FisVghMs+ITAEkeCI+Qb5C/sJog0TqE5IhQ4YMHxr/AZWmRmdr7VjzAAAAAElFTkSuQmCC",lF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH/SURBVHgBnVaNdYIwED5coIxAJ9ANyga1E2AnECfQTqAbwAbaCaATaCeAToCdIL2TSzmuARq/976XR3I/Se6HBDABY0yMwxOSxohJuCIvyE/kKQiCEu4BOUAW5v+okMmQvWDAyR6HVEyVtGvkF7LmuRA5Ry6hPa1FjtzgCa8wcooQeRa7LPjqRoEyETJXp4vGFKSTFDyBOitkI5yFLqGtcLKCO4G6C+Es04uRcLJTayF4AnWWwl4sF+z9npXC1sYKPCFsFq7TxEJwYfqIPR317M6gS81aFd1S6a7BA2irhrYsbrbI0TN/vCtZXQcR+MPanM+EgYsSkt818gX8UfO4IEehmryBr7HkT+/MY9hbCWdi8sEh+MrC5Oh4T6pbzKDz+qgXOaAb/lwgM91aqO7McLvpbkvkezYgbI0Z0VoSnt+LedcmDr+1ZNr+RGhgBLieqrpqzF9kSqfi+dR2bKuUTDiLhLILiZCNxXykj0hGJgNu2l6Wiw02RnV7saFMK1p4ZZZxJILp/wkiuWCD7d08J5zs9GLhXPBzQLGWWZi7BCwos9bII997RQEeu07WX5l+kuRaLqD44HiEaZTIDySVwTe0PZIeJzF0hUnF/4aFfnDtSD4qCGfOQptZlZlGw3EePHnACUCPQOrWJ9czybQ/vZhPIHdPzy96hl1Gn1eIHziSI5tRTUsTAAAAAElFTkSuQmCC",uF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAZCAYAAAAiwE4nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEoSURBVHgBvZaBUcMwDEXlLkBGCBvABC0bdAM6Qpmg2aBsEBiBCQgT1BvYGzRMIL6wgNBrkzaN/O7+xT778k+KI9nRAMxc4LGE5tAdVEKFLrdQhDzUQB/OuUhjgNECeufLqaHyEqMC2vL1bDU7vWYlFHg6Ap+K1sDsqKnrGAZKB8KCCN3jQLUzNdsYmpG+ey0Dp+EGskd+oVuJcEF5kBO7FsNHysdcUrqnv8phTSuGTBmRlLaUETH0lA8vhq+UD/9daYyrTJeHmQ6eyJ6I0tb8zhDlC9tS/rPn1AcD21AdjZltWlTVm2hsWPI07KEVDcHTfMuah64Xarbh8eygasio2/FXeNQH65FSYXjW+c818Ubnn7rHSzenM+ga7ih1jYZSuXsbfcfs4QvvonBhVXX8gAAAAABJRU5ErkJggg==";function Yv({info:t,img:e,isActive:n,handleClickActive:r}){console.log(n);const[i,s]=O.useState(t.image||e),[o,a]=O.useState(!1),[u,c]=O.useState([]),[p,f]=O.useState(!1),[d,v]=O.useState(!1),E=he(w=>w.likes.likedTracks),{key:k}=he(w=>w.userKey),T="liked",A=Pt(),y=aj();O.useEffect(()=>{t&&!t.image&&!e&&s(wr)},[t]),O.useEffect(()=>{c(E)},[E]),O.useEffect(()=>{d&&a(!1)},[d]);function g(w){r(w),C(w)}function C(w){localStorage.setItem("track",JSON.stringify(w))}const N=w=>{const I=E.some(R=>R.id===w.id);if(!I)c(w),f(!0),A(K2(w)),y.mutate({id:k,field:T,updateData:JSON.stringify(w)});else{const R=u.filter(P=>P.id!==w.id);c(R),A(G2(w.id))}return console.log(I),I};function D(w){A(OS(w))}const S={background:n?"rgba(50, 50, 50, 0.5)":"black"};return console.log(S),m.jsxs("div",{onClick:()=>{g(t),a(!1)},className:"album_card",style:S,children:[m.jsx("img",{src:i,className:"album_card__image",alt:"album"}),m.jsxs("div",{className:"album_card__content",children:[m.jsxs("div",{className:"text_content",children:[m.jsx("p",{className:"album_card__title",children:t.name}),m.jsx("p",{className:"album_card__artist",children:t.artist_name})]}),m.jsxs("div",{className:"funct_content",onClick:w=>w.stopPropagation(),children:[m.jsx("button",{id:"more_info_button",onClick:()=>a(w=>!w),children:m.jsx(iF,{className:"button_content"})}),o&&m.jsx("div",{className:`more_info_box ${o?"open":"close"}`,children:m.jsxs("div",{className:"more_info_box__container",children:[m.jsxs("button",{className:"more_info_content",id:"first_btn",onClick:()=>{N(t)},children:[m.jsx("div",{className:"btn_image_content",children:E.some(w=>w.id===t.id)?m.jsx(xm,{className:"like_img"}):m.jsx(bm,{className:"like_img"})}),m.jsx("div",{className:"btn_text_content ",children:m.jsx("p",{children:"Like"})})]}),m.jsxs(_n,{to:`/player/${t.id}`,className:"more_info_content ",id:"third_btn",onClick:()=>{D(t)},children:[m.jsx("div",{className:"btn_image_content",children:m.jsx(Bd,{})}),m.jsxs("div",{className:"btn_text_content",children:["  ",m.jsx("p",{className:"btn_text_content",children:"Play"})]})]})]})})]})]}),d&&m.jsxs("div",{className:`modal_container ${o?"open":"close"}`,children:[m.jsx("div",{className:"modal_content",children:m.jsxs("div",{className:"source_container",children:[m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo link",children:m.jsx("img",{src:aF,alt:""})}),m.jsx("p",{children:"Copy Link"})]}),m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo whatsup",children:m.jsx("img",{src:lF,alt:""})}),m.jsx("p",{children:"WhatsApp"})]}),m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo twitter",children:m.jsx("img",{src:oF,alt:""})}),m.jsx("p",{children:"Twitter"})]}),m.jsxs("button",{className:"source_box",children:[m.jsx("div",{className:"source_logo message",children:m.jsx("img",{src:uF,alt:""})}),m.jsx("p",{children:"Messages"})]})]})}),m.jsx("button",{className:"close_modal__btn",onClick:()=>v(!1),children:m.jsx(sF,{className:"close_modal__btn_content"})})]})]})}function cF({data:t,close:e}){const[n,r]=O.useState([]),[i,s]=O.useState(null),[o,a]=O.useState(!1),[u,c]=O.useState(null),[p,f]=O.useState(!1),d=O.useRef();O.useEffect(()=>{v(t)},[t]),Pt(),O.useEffect(()=>{var g;n.length>0&&c((g=n[0])==null?void 0:g.audio)},[n]),O.useEffect(()=>{i&&(c(i.audio),f(!0))},[i]);async function v(g){const N=await(await fetch(`https://api.jamendo.com/v3.0/albums/tracks/?client_id=354e8ba5&format=jsonpretty&limit=all&artist_name=${g.name}`)).json();r(N.results)}const E=he(g=>g.likes.likedTracks),[k,T]=O.useState([]);O.useEffect(()=>{T(E)},[E]);function A(){const g=d.current;g&&(g.paused?(g.play(),a(!0)):(g.pause(),a(!1)))}function y(g){g===i?(s(null),d.current&&d.current.pause(),a(!1)):(s(g),a(!0),d.current&&d.current.play())}return m.jsxs("div",{className:"discography",children:[m.jsx("audio",{className:"audio_element",ref:d,src:u,autoPlay:p,controls:!0}),m.jsxs("div",{className:"discography-topPanel",children:[m.jsx(mh,{className:"GoBackBtn",onClick:e}),m.jsx("h3",{children:t.name})]}),m.jsxs("div",{className:"discography-info",children:[m.jsx("h1",{children:"Discography"}),m.jsx("div",{className:"discography-results",children:n.length>0&&m.jsx("div",{className:"discography-item",children:[...n].reverse().map(g=>m.jsxs("div",{className:"discography-itemContent",children:[m.jsxs("div",{className:"discography-itemInfo",children:[m.jsx("img",{src:g.image,alt:"image"}),m.jsxs("div",{className:"discography-itemTextInfo",children:[m.jsxs("div",{className:"name",children:[m.jsx("h1",{children:g.name}),m.jsxs("span",{children:["Album  ",g.releasedate.slice(0,4)," "," ",g.tracks.length," songs"]})]}),m.jsx("div",{className:"buttons",children:(i==null?void 0:i.id)===g.id&&o?m.jsx(jg,{onClick:A,className:"album__btn-pause"}):m.jsx(Bd,{onClick:()=>y(g),className:"album__btn-play"})})]})]}),m.jsx("ol",{className:"discography-tracks",children:g.tracks.slice().sort((C,N)=>C.position-N.position).map(C=>m.jsx(Yv,{img:g.image,info:C,isActive:C===i,handleClickActive:()=>y(C)},C.id))})]},g.id))})})]})]})}function dF(){const[t,e]=O.useState(!1),[n,r]=O.useState(null),[i,s]=O.useState(!1),[o,a]=O.useState(null),[u,c]=O.useState(!1),p=O.useRef(),f=()=>{e(!1)},d=he(z=>z.artist.artistData),{data:v,error:E}=Gv({path:"artists/albums/",name:d.name}),[k,T]=O.useState([]);O.useEffect(()=>{v&&v.results?T(v.results[0].albums):T([])},[v]);const[A,y]=O.useState(),[g,C]=O.useState();O.useEffect(()=>{var z;g&&a((z=g[0])==null?void 0:z.audio)},[]);const[N,D]=O.useState(5),S=()=>{D(10)},w=()=>{D(5)};O.useEffect(()=>{const z=()=>{y(new Date().toISOString().slice(0,10))};z();const me=setInterval(z,24*60*60*1e3);return()=>clearInterval(me)},[]),O.useEffect(()=>{n&&(a(n.audio),c(!0))},[n]),O.useEffect(()=>{I(A,d)},[A,d]);async function I(z,me){const He=(await(await fetch(`https://api.jamendo.com/v3.0/artists/tracks/?client_id=354e8ba5&format=jsonpretty&order=popularity_total&name=${me.name}&album_datebetween=1980-01-01_${z}`)).json()).results[0].tracks;He.splice(10),C(He)}const R=Pt(),P=()=>{R(gP())},L=he(z=>z.userArtists.userAppArtists),[b,H]=O.useState(!1),[$,G]=O.useState([]);O.useEffect(()=>{const z=L.some(me=>me.id===d.id);H(z)},[d,$]);function ee(){if(b){const z=L.filter(me=>me.id!==d.id);G(z),R(k2(d.id))}else G([...$,d]),R(fh(d))}const F=he(z=>z.likes.likedTracks),[W,V]=O.useState([]);console.log(W),O.useEffect(()=>{V(F)},[F]);function X(){const z=p.current;z.paused?(z.play(),s(!0)):(z.pause(),s(!1))}function K(z){z===n?(r(!1),p.current.pause()):(r(z),p.current.play())}return m.jsxs("div",{className:"artistPage",children:[m.jsx("audio",{className:"audio_element",ref:p,src:o,autoPlay:u,controls:!0}),m.jsxs("div",{className:"artistPage-topPanel",children:[m.jsx(mh,{className:"GoBackBtn",onClick:P}),m.jsx("h3",{children:d.name})]}),m.jsxs("div",{className:"artistPage-content",children:[m.jsx("img",{className:"artistPage-image",src:d.image,alt:"image"}),m.jsxs("div",{className:"artistPage-info",children:[m.jsxs("div",{className:"artistPage-buttons",children:[b?m.jsx("button",{onClick:ee,className:"followArtistBtn--active",children:"Following"}):m.jsx("button",{onClick:ee,className:"followArtistBtn",children:"Follow"}),i?m.jsx(jg,{onClick:()=>X(),className:"album__btn-pause"}):m.jsx(Bd,{onClick:()=>X(),className:"album__btn-play"})]}),m.jsxs("div",{className:"artistPage-topTracks",children:[m.jsx("h1",{children:"Popular tracks"}),g&&m.jsx("ol",{className:"album-tracks",children:g.slice(0,N).sort((z,me)=>z.position-me.position).map((z,me)=>m.jsx(Yv,{info:z,isActive:z===n,handleClickActive:K},z.id))}),N<10?m.jsx("button",{onClick:S,children:"See more"}):m.jsx("button",{onClick:w,children:"Show less"})]}),m.jsxs("div",{className:"artistPage-discography",children:[m.jsxs("div",{className:"artistPage-discographyPanel",children:[m.jsx("h1",{children:"Discography"}),m.jsx("button",{onClick:()=>{e(!0)},children:"See more"})]}),k&&m.jsx("ol",{className:"albums",children:k.slice(0,3).map(z=>m.jsxs("li",{children:[m.jsx("img",{src:z.image,alt:"Img"}),m.jsx("span",{children:z.name})]},z.id))})]})]})]}),t&&m.jsx(cF,{data:d,close:f})]})}async function hF(t,e){const n=W2(nI,"images/"+e.uid+".png");await _5(n,t),console.log("succelsfull")}function fF(){const[t,e]=O.useState(wr);O.useState("");const[n,r]=O.useState(!1),i=Pt(),o=ko().currentUser;he(c=>c.user);const a=he(c=>c.userPhoto.photo);O.useEffect(()=>{if(a&&a!==void 0){e(a);const c=setTimeout(()=>{r(!1)},3500);return()=>clearTimeout(c)}else e(wr)},[a]);async function u(c){c.target.files[0]&&(hF(c.target.files[0],o),Rm(o.uid)),Rm(o.uid).then(p=>(e(p),p)).then(p=>{i(H2({photo:p}))})}return m.jsx("div",{className:"edit_profile",children:m.jsxs("div",{className:"edit_profile_container",children:[m.jsxs("div",{className:"edit_profile__title_box",children:[m.jsx(_n,{id:"go_back__btn_ep",to:"/profile",children:m.jsx("img",{src:ph,alt:""})}),m.jsx("h1",{className:"page__title",children:"Your Profile"}),n&&m.jsx("div",{className:"warning_box",children:m.jsx("p",{children:"To work correctly, we recommend that you restart the application"})})]}),m.jsxs("div",{className:"user_profile_content",children:[m.jsx("div",{className:"user_logo__box",children:m.jsx("img",{className:"user__photo",src:t,alt:""})}),m.jsx("div",{className:"user_text__content",children:m.jsx("p",{className:"user__name",children:"Max"})})]}),m.jsx("div",{className:"user_correct_content",children:m.jsx("div",{className:"createAvatar",children:m.jsx("input",{type:"file",onChange:c=>u(c)})})})]})})}const pF="/assets/sad-BdracKmW.png",Vf="/assets/defaultAlbum-BwsBAV61.jpg";function mF(){JC();const[t,e]=O.useState(!0),[n,r]=O.useState(!1);O.useState(!1);const[i,s]=O.useState(Vf),[o,a]=O.useState([]),[u,c]=O.useState([]),[p,f]=O.useState(""),[d,v]=O.useState([]),[E,k]=O.useState(null),[T,A]=O.useState(""),[y,g]=O.useState(!1),[C,N]=O.useState(null),[D,S]=O.useState(0),[w,I]=O.useState(!1),R=he(te=>te.likes.likedTracks),P=he(te=>te.album.albumData),L=he(te=>te.album.isCustomPlaylist);Pt(),Un();const b=O.useRef(),[H,$]=O.useState(""),[G,ee]=O.useState(""),[F,W]=O.useState(""),[V,X]=O.useState("");function K(){const te=b.current;te.paused?(te.play(),r(!0)):(te.pause(),r(!1))}O.useEffect(()=>{var te,Be;L&&P?(s(((te=P.tracks[0])==null?void 0:te.image)||Vf),c(P.tracks),v(P.tracks),k((Be=P.tracks[0])==null?void 0:Be.audio),W(P.tracks.length),e(!1)):P&&(z(P),s(P.image||Vf),X(P.releasedate.slice(0,4)),W(u.length),ee(P.artist_name)),$(P.name)},[P,L]);async function z(te){const wt=await(await fetch(`https://api.jamendo.com/v3.0/tracks/?client_id=354e8ba5&format=jsonpretty&limit=all&artist_name=${te.artist_name}&album_name=${te.name}`)).json();return v(wt.results),c(wt.results),k(wt.results[0].audio),e(!1),wt.results}O.useEffect(()=>{if(n&&(I(!0),u.length!==0)){const te=u[D],Be=setTimeout(()=>{const wt=(D+1)%u.length;S(wt)},te.duration*1e3);return()=>clearTimeout(Be)}},[D,u,n]),O.useEffect(()=>{C&&(k(C.audio),I(!0))},[C]),O.useEffect(()=>{if(u.length!==0&&n){const te=u[D];N(te),k(te.audio)}},[D,u,n]),O.useEffect(()=>{a(R)},[R]);const me=te=>{f(te)},Ot=`linear-gradient(to bottom, ${p}, rgb(0, 0, 0))`,He=`linear-gradient(to bottom, brightness(120%), ${p}, rgb(0, 0, 0))`;function fs(te,Be){if(te.preventDefault(),T){N(!1),g(!1);const wt=Be.filter(Si=>Si.name.toLowerCase().includes(T.toLowerCase()));c(wt),wt.length===0&&g(!0)}else T.length===0&&c(Be)}function bo(te){te===C?(N(!1),b.current.pause()):(N(te),b.current.play())}return t?m.jsx("div",{className:"spinner-container",children:m.jsx(go,{className:"spinner"})}):m.jsx("div",{className:"album",children:m.jsxs("div",{className:"album_container",children:[m.jsx(Fg,{imageUrl:i,onColorGenerated:me}),m.jsx("audio",{className:"audio_element",ref:b,src:E,autoPlay:w,controls:!0}),m.jsxs("div",{className:"album_color__top",style:{background:Ot},children:[m.jsxs("div",{className:"album_arrow",children:[m.jsx(mh,{}),m.jsx("h1",{className:"album_title",children:H})]}),m.jsx("div",{className:"album_search_content",children:m.jsx("form",{onChange:te=>fs(te,d),className:"search_in_plsylist__form",children:m.jsxs("div",{style:{background:He},className:"search_box",children:[m.jsx("label",{children:m.jsx(DP,{})}),m.jsx("input",{onChange:te=>A(te.target.value),className:"search_content",type:"text",placeholder:"Find in playlist"})]})})}),m.jsxs("div",{className:"album_content",children:[m.jsx("div",{className:"album_logo",children:m.jsx("img",{src:i,alt:""})}),m.jsx("div",{className:"text_box_content",children:m.jsxs("div",{className:"main_buttons_info",children:[m.jsx("div",{className:"content__1__info",children:m.jsx("div",{className:"main_album__info",children:m.jsxs("div",{className:"content_text",children:[m.jsxs("p",{className:"info_1",children:[H," ",G&&`by ${G}`]}),m.jsxs("p",{className:"album__info",children:["Album  ",V?`${V}  `:"",F," tracks"]})]})})}),m.jsx("div",{className:"content_2__buttons",children:n?m.jsx(jg,{onClick:()=>K(),className:"album__btn-pause"}):m.jsx(Bd,{onClick:()=>K(),className:"album__btn-play"})})]})})]})]}),t?m.jsx(go,{className:"spinner"}):y?m.jsx("div",{className:"sad_box",children:m.jsxs("div",{className:"sad_box_container",children:[m.jsx("p",{children:"Unfortunately, nothing was found. Please check the name of the song you are looking for."}),m.jsx("img",{className:"sad_img",src:pF,alt:""})]})}):m.jsx("div",{className:"album_tracks_box",children:m.jsx("ol",{className:"album-tracks",children:u.slice().sort((te,Be)=>te.position-Be.position).map((te,Be)=>m.jsx(Yv,{info:te,isActive:te===C,handleClickActive:bo},te.id))})})]})})}function gF(){const t=he(e=>e.likes.likedTracks);return console.log(t),m.jsx("div",{children:"Liked"})}const vF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACASURBVHgB7ZTBCYAwDEXTkkE6mk4gTuAI4gbeOoaO4AY6ggOU1gQ8m3/wINgPIZeXdwghREBijIsWwjJhCSBHnl5OFX5Q6OS+Qs65eYK895124SaDmzmlFJh5ICAyYHGrCjcRtgY43r03uIOQyFp2LYStd/gHIfRgSymbc+5E2AsE9yUkl6SjggAAAABJRU5ErkJggg==",yF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAANCAYAAACUwi84AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACLSURBVHgBpU/JDYNADByvtwD+USLyzC8pJR1sK6kkdEAJlMAHiSeIBqABWLwcEqyQEGDJ8jVje+iWmTczUmyYYnzIJY/cFBJCb15Wr+ipXGZb/Hz23FPYsesAGlQoJCAE3qxsGV8tEmMpgg1yyB3+2goSo4OsAGXT1HP3mxXlnhnj/NCTJwCa6mXZA2d7Hq9seeiQAAAAAElFTkSuQmCC",_F="/assets/liked_album-Doi1n_Fj.jpg",wF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAfSURBVHgBY9y8eXM9AwNDAwgzAjn/GaCACYgboexGAMnIB7e5oqAlAAAAAElFTkSuQmCC";function zf({data:t,dataAlbum:e}){const[n,r]=O.useState(null),[i,s]=O.useState(""),[o,a]=O.useState("Artist");return O.useEffect(()=>{e.name==null?(a("Artist"),r(t.name)):(a("Album"),r(e.name)),e.name==null?s(t.image):s(e.tracks[0].album_image)},[]),m.jsx("div",{className:"profile_card_container",children:m.jsxs("div",{className:"profile_card",children:[m.jsx("img",{src:i,className:"card_image"}),m.jsxs("div",{className:"text_block",children:[m.jsx("p",{className:"card_artist",children:n}),m.jsx("p",{className:"card_content",children:o})]})]})})}function EF({data:t,favArtists:e,playlists:n,statusArr:r}){const[i,s]=O.useState(!0),[o,a]=O.useState("song"),[u,c]=O.useState([]),[p,f]=O.useState(!0),{status:d,setStatus:v}=r;O.useState(!0);const E=he(g=>g.likes.likedTracks);console.log(E),O.useEffect(()=>{r.status===void 0?f(!0):(f(!1),y(d))},[d]),O.useEffect(()=>{t&&s(!1)},[]),O.useEffect(()=>{E.length!==0&&E.length!==1&&a("songs")},[E]);const k=[{name:null,tracks:{image:!1}}];function T(g,C){let N=[],D=[];for(let S=0;S<g.length;S++)g[S].tracks&&g[S].tracks!==void 0&&N.push(g[S]);for(;D.length<C&&N.length>0;){const S=Math.floor(Math.random()*N.length),w=N[S];D.some(I=>I.name===w.name)||D.push(w),N.splice(S,1)}return D}const A=T(n,4);function y(g){switch(v(g),g){case"Artist":console.log(e),c(e);break;case"Playlist":const C=T(n,4);console.log(C),c(C);break}}return i?m.jsx("p",{children:" Loading..."}):m.jsx("div",{className:"recently_played",children:m.jsxs("div",{className:"recently_played_container",children:[m.jsx("div",{className:"liked_songs",children:m.jsxs("div",{className:"liked_songs_container",children:[m.jsx("div",{className:"liked_songs_logo",children:m.jsx("img",{className:"liked_img",src:_F,alt:""})}),m.jsxs("div",{className:"liked_songs_info",children:[m.jsx("p",{className:"album_title",children:"Liked Songs"}),m.jsxs("div",{className:"liked_songs_info_content",children:[m.jsx("img",{src:yF,alt:""}),m.jsx("p",{className:"status_info",children:"Playlist"}),m.jsx("img",{src:wF,alt:""}),m.jsxs("p",{className:"volume_album",children:[E.length," ",o]})]})]})]})}),p?m.jsxs("div",{children:[e.map((g,C)=>m.jsx(zf,{data:g,dataAlbum:k},Yu())),A.map((g,C)=>m.jsx(zf,{data:k,dataAlbum:g},Yu()))]}):m.jsx("div",{children:u.map((g,C)=>m.jsx(zf,{data:k,dataAlbum:g},Yu()))})]})})}const CF="data:image/svg+xml,%3csvg%20width='17'%20height='12'%20viewBox='0%200%2017%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.1104%209.20117L11.2061%202.48196'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.25894%204.37424L11.2061%202.48184'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.0984%204.42896L11.206%202.48181'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20clip-path='url(%23clip0_2203_1656)'%3e%3cpath%20d='M6%202.5V9.5'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%207.5L6%209.5'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%207.5L6%209.5'%20stroke='white'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2203_1656'%3e%3crect%20width='12'%20height='12'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",SF="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%209V16.1978'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cpath%20d='M1%209L1%2016.1978'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cpath%20d='M10%200V7.19782'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cpath%20d='M6.6001%200L6.6%207.21022'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cpath%20d='M15.6001%209L15.6%2016.2102'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cpath%20d='M6.6001%209L6.6%2016.2102'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cpath%20d='M15.6001%200L15.6%207.21022'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='7'%20y1='0.6'%20x2='1'%20y2='0.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='16'%20y1='9.6'%20x2='10'%20y2='9.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='7'%20y1='9.6'%20x2='1'%20y2='9.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cpath%20d='M1%200L1%207.19782'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='16'%20y1='0.6'%20x2='10'%20y2='0.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='7'%20y1='6.6'%20x2='1'%20y2='6.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='16'%20y1='15.6'%20x2='10'%20y2='15.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='7'%20y1='15.6'%20x2='1'%20y2='15.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3cline%20x1='16'%20y1='6.6'%20x2='10'%20y2='6.6'%20stroke='%23FBFBFB'%20stroke-width='1.2'/%3e%3c/svg%3e",dn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACGSURBVHgBrZShDoAwDEQvWNB4PF/BB6BBg99X4PF87LgmFQtgduUlZ5bs2u62AQU554HqUUnzsZbMDBGsE+qkJkQojBZEoclObYhCk5U6qBYRaDBTl5Lc02jwjl7JNajDRuqgYHF7Wto4FrMbaAdr8VIJClbVq69QCF97bhzdQH+A6lfwCzf4G4BnG7QVpAAAAABJRU5ErkJggg==";function AF({modalArr:t,photoObj:e}){const{isSettings:n,setIsSettings:r}=t;O.useState("");const{userPhoto:i,setUserPhoto:s}=e,o=he(a=>a.user);return m.jsxs("div",{className:"setting__page",children:[m.jsx("div",{className:"header",children:m.jsxs("div",{className:"header-components",children:[m.jsxs("button",{className:"go_back__btn",onClick:()=>r(!1),children:[" ",m.jsx("img",{src:ph,alt:""})]}),m.jsx("h1",{children:"Settings"})]})}),m.jsxs("main",{children:[m.jsxs("div",{className:"Settings-profile",children:[m.jsxs("div",{className:"Settings-profile-information",children:[m.jsx("div",{className:"user__photo_box",children:m.jsx("img",{className:"user__photo",src:i,alt:""})}),m.jsxs("div",{className:"Settings-profile-text",children:[m.jsx("p",{className:"name",children:o.username}),m.jsx("p",{className:"view",children:"View Profile"})]})]}),m.jsx("img",{className:"user-chevronRight",src:dn,alt:""})]}),m.jsxs("div",{className:"settings",children:[m.jsxs(_n,{to:"/editprofile",className:"settings-user",children:[m.jsx("p",{children:"Account"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Data Saver"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Languages"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Playback"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Explicit Content"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Devices"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Car"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Social"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Voice Assistant & Apps"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Audio Quality"}),m.jsx("img",{src:dn,alt:""})]}),m.jsxs("div",{className:"settings-user",children:[m.jsx("p",{children:"Storage"}),m.jsx("img",{src:dn,alt:""})]})]}),m.jsx(Ud,{})]})]})}function kF(){const[t,e]=O.useState([]),[n,r]=O.useState(void 0),[i,s]=O.useState(!1),[o,a]=O.useState(wr),[u,c]=O.useState(!1),p={userPhoto:o,setUserPhoto:a},{data:f}=NS(),d=he(D=>D.userPhoto.photo),v=he(D=>D.user),E=Un(),k=ko(),T=he(D=>D.playlists.tracks),A=he(D=>D.userArtists.userAppArtists),y=he(D=>D.likes.likedTracks);O.useEffect(()=>{ev(k,D=>{v.email==null&&(c(!0),E("/"))})},[]),O.useEffect(()=>{f&&(e(f.results),r(f.result))},[f]),O.useEffect(()=>{a(d&&d!==void 0?d:wr)},[d]);function g(D){return r(D),D}const C={status:n,setStatus:r},N={isSettings:i,setIsSettings:s};return m.jsx("div",{className:"profile",children:u?m.jsx(go,{}):i?m.jsx(AF,{modalArr:N,photoObj:p,className:"settings"}):m.jsxs("div",{className:`profile_container ${i?"hidden":"fade-in"}`,children:[m.jsxs("div",{className:"your_library",children:[m.jsxs("div",{className:"profile_logo",children:[m.jsx("img",{className:"user__photo",src:o,alt:""}),m.jsx("p",{className:"title",children:"Your Library"})]}),m.jsx("button",{onClick:()=>s(!0),className:"plus_btn",children:m.jsx("img",{src:vF,alt:""})})]}),m.jsxs("div",{className:"four_buttons",children:[m.jsx("button",{onClick:()=>g("Playlist"),className:"profile_button",children:"Playlists"}),m.jsx("button",{onClick:()=>g("Artist"),className:"profile_button",children:"Artists"}),m.jsx("button",{onClick:()=>g("Album"),className:"profile_button",children:"Albums"}),m.jsx("button",{onClick:()=>g("Podcast & Show"),className:"profile_button",children:"Podcasts & Shows"})]}),m.jsxs("div",{className:"recently_played",children:[m.jsxs("div",{className:"row",children:[m.jsxs("div",{className:"mini_title",children:[m.jsx("img",{src:CF,alt:""}),m.jsx("p",{className:"near_text",children:"Recently Played"})]}),m.jsx("img",{src:SF,alt:""})]}),m.jsx(EF,{data:t,favTracks:y,favArtists:A,playlists:T,statusArr:C}),m.jsx(Ud,{})]})]})})}function IF(){return m.jsx("div",{className:"app",children:m.jsx(eb,{children:m.jsxs($x,{children:[m.jsx($t,{path:"/",element:m.jsx(I5,{})}),m.jsx($t,{path:"/registration",element:m.jsx(N5,{})}),m.jsx($t,{path:"/player",element:m.jsx(_w,{})}),m.jsx($t,{path:"/player/:trackId",element:m.jsx(_w,{})}),m.jsx($t,{path:"/login",element:m.jsx(P5,{})}),m.jsx($t,{path:"/search",element:m.jsx(L5,{})}),m.jsx($t,{path:"/artists",element:m.jsx(rF,{})}),m.jsx($t,{path:"/profile",element:m.jsx(kF,{})}),m.jsx($t,{path:"/artist",element:m.jsx(dF,{})}),m.jsx($t,{path:"/editprofile",element:m.jsx(fF,{})}),m.jsx($t,{path:"/album/:albumId",element:m.jsx(mF,{})}),m.jsx($t,{path:"/liked",element:m.jsx(gF,{})})]})})})}var TF="firebase",RF="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt(TF,RF,"app");var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function I(){}I.prototype=w.prototype,S.D=w.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,P,L){for(var b=Array(arguments.length-2),H=2;H<arguments.length;H++)b[H-2]=arguments[H];return w.prototype[P].apply(R,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,I){I||(I=0);var R=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)R[P]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(P=0;16>P;++P)R[P]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=S.g[0],I=S.g[1],P=S.g[2];var L=S.g[3],b=w+(L^I&(P^L))+R[0]+3614090360&4294967295;w=I+(b<<7&4294967295|b>>>25),b=L+(P^w&(I^P))+R[1]+3905402710&4294967295,L=w+(b<<12&4294967295|b>>>20),b=P+(I^L&(w^I))+R[2]+606105819&4294967295,P=L+(b<<17&4294967295|b>>>15),b=I+(w^P&(L^w))+R[3]+3250441966&4294967295,I=P+(b<<22&4294967295|b>>>10),b=w+(L^I&(P^L))+R[4]+4118548399&4294967295,w=I+(b<<7&4294967295|b>>>25),b=L+(P^w&(I^P))+R[5]+1200080426&4294967295,L=w+(b<<12&4294967295|b>>>20),b=P+(I^L&(w^I))+R[6]+2821735955&4294967295,P=L+(b<<17&4294967295|b>>>15),b=I+(w^P&(L^w))+R[7]+4249261313&4294967295,I=P+(b<<22&4294967295|b>>>10),b=w+(L^I&(P^L))+R[8]+1770035416&4294967295,w=I+(b<<7&4294967295|b>>>25),b=L+(P^w&(I^P))+R[9]+2336552879&4294967295,L=w+(b<<12&4294967295|b>>>20),b=P+(I^L&(w^I))+R[10]+4294925233&4294967295,P=L+(b<<17&4294967295|b>>>15),b=I+(w^P&(L^w))+R[11]+2304563134&4294967295,I=P+(b<<22&4294967295|b>>>10),b=w+(L^I&(P^L))+R[12]+1804603682&4294967295,w=I+(b<<7&4294967295|b>>>25),b=L+(P^w&(I^P))+R[13]+4254626195&4294967295,L=w+(b<<12&4294967295|b>>>20),b=P+(I^L&(w^I))+R[14]+2792965006&4294967295,P=L+(b<<17&4294967295|b>>>15),b=I+(w^P&(L^w))+R[15]+1236535329&4294967295,I=P+(b<<22&4294967295|b>>>10),b=w+(P^L&(I^P))+R[1]+4129170786&4294967295,w=I+(b<<5&4294967295|b>>>27),b=L+(I^P&(w^I))+R[6]+3225465664&4294967295,L=w+(b<<9&4294967295|b>>>23),b=P+(w^I&(L^w))+R[11]+643717713&4294967295,P=L+(b<<14&4294967295|b>>>18),b=I+(L^w&(P^L))+R[0]+3921069994&4294967295,I=P+(b<<20&4294967295|b>>>12),b=w+(P^L&(I^P))+R[5]+3593408605&4294967295,w=I+(b<<5&4294967295|b>>>27),b=L+(I^P&(w^I))+R[10]+38016083&4294967295,L=w+(b<<9&4294967295|b>>>23),b=P+(w^I&(L^w))+R[15]+3634488961&4294967295,P=L+(b<<14&4294967295|b>>>18),b=I+(L^w&(P^L))+R[4]+3889429448&4294967295,I=P+(b<<20&4294967295|b>>>12),b=w+(P^L&(I^P))+R[9]+568446438&4294967295,w=I+(b<<5&4294967295|b>>>27),b=L+(I^P&(w^I))+R[14]+3275163606&4294967295,L=w+(b<<9&4294967295|b>>>23),b=P+(w^I&(L^w))+R[3]+4107603335&4294967295,P=L+(b<<14&4294967295|b>>>18),b=I+(L^w&(P^L))+R[8]+1163531501&4294967295,I=P+(b<<20&4294967295|b>>>12),b=w+(P^L&(I^P))+R[13]+2850285829&4294967295,w=I+(b<<5&4294967295|b>>>27),b=L+(I^P&(w^I))+R[2]+4243563512&4294967295,L=w+(b<<9&4294967295|b>>>23),b=P+(w^I&(L^w))+R[7]+1735328473&4294967295,P=L+(b<<14&4294967295|b>>>18),b=I+(L^w&(P^L))+R[12]+2368359562&4294967295,I=P+(b<<20&4294967295|b>>>12),b=w+(I^P^L)+R[5]+4294588738&4294967295,w=I+(b<<4&4294967295|b>>>28),b=L+(w^I^P)+R[8]+2272392833&4294967295,L=w+(b<<11&4294967295|b>>>21),b=P+(L^w^I)+R[11]+1839030562&4294967295,P=L+(b<<16&4294967295|b>>>16),b=I+(P^L^w)+R[14]+4259657740&4294967295,I=P+(b<<23&4294967295|b>>>9),b=w+(I^P^L)+R[1]+2763975236&4294967295,w=I+(b<<4&4294967295|b>>>28),b=L+(w^I^P)+R[4]+1272893353&4294967295,L=w+(b<<11&4294967295|b>>>21),b=P+(L^w^I)+R[7]+4139469664&4294967295,P=L+(b<<16&4294967295|b>>>16),b=I+(P^L^w)+R[10]+3200236656&4294967295,I=P+(b<<23&4294967295|b>>>9),b=w+(I^P^L)+R[13]+681279174&4294967295,w=I+(b<<4&4294967295|b>>>28),b=L+(w^I^P)+R[0]+3936430074&4294967295,L=w+(b<<11&4294967295|b>>>21),b=P+(L^w^I)+R[3]+3572445317&4294967295,P=L+(b<<16&4294967295|b>>>16),b=I+(P^L^w)+R[6]+76029189&4294967295,I=P+(b<<23&4294967295|b>>>9),b=w+(I^P^L)+R[9]+3654602809&4294967295,w=I+(b<<4&4294967295|b>>>28),b=L+(w^I^P)+R[12]+3873151461&4294967295,L=w+(b<<11&4294967295|b>>>21),b=P+(L^w^I)+R[15]+530742520&4294967295,P=L+(b<<16&4294967295|b>>>16),b=I+(P^L^w)+R[2]+3299628645&4294967295,I=P+(b<<23&4294967295|b>>>9),b=w+(P^(I|~L))+R[0]+4096336452&4294967295,w=I+(b<<6&4294967295|b>>>26),b=L+(I^(w|~P))+R[7]+1126891415&4294967295,L=w+(b<<10&4294967295|b>>>22),b=P+(w^(L|~I))+R[14]+2878612391&4294967295,P=L+(b<<15&4294967295|b>>>17),b=I+(L^(P|~w))+R[5]+4237533241&4294967295,I=P+(b<<21&4294967295|b>>>11),b=w+(P^(I|~L))+R[12]+1700485571&4294967295,w=I+(b<<6&4294967295|b>>>26),b=L+(I^(w|~P))+R[3]+2399980690&4294967295,L=w+(b<<10&4294967295|b>>>22),b=P+(w^(L|~I))+R[10]+4293915773&4294967295,P=L+(b<<15&4294967295|b>>>17),b=I+(L^(P|~w))+R[1]+2240044497&4294967295,I=P+(b<<21&4294967295|b>>>11),b=w+(P^(I|~L))+R[8]+1873313359&4294967295,w=I+(b<<6&4294967295|b>>>26),b=L+(I^(w|~P))+R[15]+4264355552&4294967295,L=w+(b<<10&4294967295|b>>>22),b=P+(w^(L|~I))+R[6]+2734768916&4294967295,P=L+(b<<15&4294967295|b>>>17),b=I+(L^(P|~w))+R[13]+1309151649&4294967295,I=P+(b<<21&4294967295|b>>>11),b=w+(P^(I|~L))+R[4]+4149444226&4294967295,w=I+(b<<6&4294967295|b>>>26),b=L+(I^(w|~P))+R[11]+3174756917&4294967295,L=w+(b<<10&4294967295|b>>>22),b=P+(w^(L|~I))+R[2]+718787259&4294967295,P=L+(b<<15&4294967295|b>>>17),b=I+(L^(P|~w))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+L&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var I=w-this.blockSize,R=this.B,P=this.h,L=0;L<w;){if(P==0)for(;L<=I;)i(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<w;)if(R[P++]=S.charCodeAt(L++),P==this.blockSize){i(this,R),P=0;break}}else for(;L<w;)if(R[P++]=S[L++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var I=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=I&255,I/=256;for(this.u(S),S=Array(16),w=I=0;4>w;++w)for(var R=0;32>R;R+=8)S[I++]=this.g[w]>>>R&255;return S};function s(S,w){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=w(S)}function o(S,w){this.h=w;for(var I=[],R=!0,P=S.length-1;0<=P;P--){var L=S[P]|0;R&&L==w||(I[P]=L,R=!1)}this.g=I}var a={};function u(S){return-128<=S&&128>S?s(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return T(c(-S));for(var w=[],I=1,R=0;S>=I;R++)w[R]=S/I|0,I*=4294967296;return new o(w,0)}function p(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return T(p(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(w,8)),R=f,P=0;P<S.length;P+=8){var L=Math.min(8,S.length-P),b=parseInt(S.substring(P,P+L),w);8>L?(L=c(Math.pow(w,L)),R=R.j(L).add(c(b))):(R=R.j(I),R=R.add(c(b)))}return R}var f=u(0),d=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-T(this).m();for(var S=0,w=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(k(this))return"-"+T(this).toString(S);for(var w=c(Math.pow(S,6)),I=this,R="";;){var P=C(I,w).g;I=A(I,P.j(w));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=P,E(I))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function k(S){return S.h==-1}t.l=function(S){return S=A(this,S),k(S)?-1:E(S)?0:1};function T(S){for(var w=S.g.length,I=[],R=0;R<w;R++)I[R]=~S.g[R];return new o(I,~S.h).add(d)}t.abs=function(){return k(this)?T(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],R=0,P=0;P<=w;P++){var L=R+(this.i(P)&65535)+(S.i(P)&65535),b=(L>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);R=b>>>16,L&=65535,b&=65535,I[P]=b<<16|L}return new o(I,I[I.length-1]&-2147483648?-1:0)};function A(S,w){return S.add(T(w))}t.j=function(S){if(E(this)||E(S))return f;if(k(this))return k(S)?T(this).j(T(S)):T(T(this).j(S));if(k(S))return T(this.j(T(S)));if(0>this.l(v)&&0>S.l(v))return c(this.m()*S.m());for(var w=this.g.length+S.g.length,I=[],R=0;R<2*w;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<S.g.length;P++){var L=this.i(R)>>>16,b=this.i(R)&65535,H=S.i(P)>>>16,$=S.i(P)&65535;I[2*R+2*P]+=b*$,y(I,2*R+2*P),I[2*R+2*P+1]+=L*$,y(I,2*R+2*P+1),I[2*R+2*P+1]+=b*H,y(I,2*R+2*P+1),I[2*R+2*P+2]+=L*H,y(I,2*R+2*P+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new o(I,0)};function y(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function g(S,w){this.g=S,this.h=w}function C(S,w){if(E(w))throw Error("division by zero");if(E(S))return new g(f,f);if(k(S))return w=C(T(S),w),new g(T(w.g),T(w.h));if(k(w))return w=C(S,T(w)),new g(T(w.g),w.h);if(30<S.g.length){if(k(S)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var I=d,R=w;0>=R.l(S);)I=N(I),R=N(R);var P=D(I,1),L=D(R,1);for(R=D(R,2),I=D(I,2);!E(R);){var b=L.add(R);0>=b.l(S)&&(P=P.add(I),L=b),R=D(R,1),I=D(I,1)}return w=A(S,P.j(w)),new g(P,w)}for(P=f;0<=S.l(w);){for(I=Math.max(1,Math.floor(S.m()/w.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=c(I),b=L.j(w);k(b)||0<b.l(S);)I-=R,L=c(I),b=L.j(w);E(L)&&(L=d),P=P.add(L),S=A(S,b)}return new g(P,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],R=0;R<w;R++)I[R]=this.i(R)&S.i(R);return new o(I,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],R=0;R<w;R++)I[R]=this.i(R)|S.i(R);return new o(I,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],R=0;R<w;R++)I[R]=this.i(R)^S.i(R);return new o(I,this.h^S.h)};function N(S){for(var w=S.g.length+1,I=[],R=0;R<w;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(I,S.h)}function D(S,w){var I=w>>5;w%=32;for(var R=S.g.length-I,P=[],L=0;L<R;L++)P[L]=0<w?S.i(L+I)>>>w|S.i(L+I+1)<<32-w:S.i(L+I);return new o(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=p,Y2=o}).apply(typeof Ew<"u"?Ew:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,_){return l==Array.prototype||l==Object.prototype||(l[h]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var h=0;h<l.length;++h){var _=l[h];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var _=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var M=l[x];if(!(M in _))break e;_=_[M]}l=l[l.length-1],x=_[l],h=h(x),h!=x&&h!=null&&e(_,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var _=0,x=!1,M={next:function(){if(!x&&_<l.length){var j=_++;return{value:h(j,l[j]),done:!1}}return x=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function p(l,h,_){return l.call.apply(l.bind,arguments)}function f(l,h,_){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,x),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function d(l,h,_){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:f,d.apply(null,arguments)}function v(l,h){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function E(l,h){function _(){}_.prototype=h.prototype,l.aa=h.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(x,M,j){for(var Q=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)Q[ye-2]=arguments[ye];return h.prototype[M].apply(x,Q)}}function k(l){const h=l.length;if(0<h){const _=Array(h);for(let x=0;x<h;x++)_[x]=l[x];return _}return[]}function T(l,h){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(u(x)){const M=l.length||0,j=x.length||0;l.length=M+j;for(let Q=0;Q<j;Q++)l[M+Q]=x[Q]}else l.push(x)}}class A{constructor(h,_){this.i=h,this.j=_,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){return/^[\s\xa0]*$/.test(l)}function g(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function C(l){return C[" "](l),l}C[" "]=function(){};var N=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function D(l,h,_){for(const x in l)h.call(_,l[x],x,l)}function S(l,h){for(const _ in l)h.call(void 0,l[_],_,l)}function w(l){const h={};for(const _ in l)h[_]=l[_];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,h){let _,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(_ in x)l[_]=x[_];for(let j=0;j<I.length;j++)_=I[j],Object.prototype.hasOwnProperty.call(x,_)&&(l[_]=x[_])}}function P(l){var h=1;l=l.split(":");const _=[];for(;0<h&&l.length;)_.push(l.shift()),h--;return l.length&&_.push(l.join(":")),_}function L(l){a.setTimeout(()=>{throw l},0)}function b(){var l=W;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class H{constructor(){this.h=this.g=null}add(h,_){const x=$.get();x.set(h,_),this.h?this.h.next=x:this.g=x,this.h=x}}var $=new A(()=>new G,l=>l.reset());class G{constructor(){this.next=this.g=this.h=null}set(h,_){this.h=h,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,F=!1,W=new H,V=()=>{const l=a.Promise.resolve(void 0);ee=()=>{l.then(X)}};var X=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(_){L(_)}var h=$;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}F=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};a.addEventListener("test",_,h),a.removeEventListener("test",_,h)}catch{}return l}();function Ot(l,h){if(z.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(N){e:{try{C(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else _=="mouseover"?h=l.fromElement:_=="mouseout"&&(h=l.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:_t[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ot.aa.h.call(this)}}E(Ot,z);var _t={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),fs=0;function bo(l,h,_,x,M){this.listener=l,this.proxy=null,this.src=h,this.type=_,this.capture=!!x,this.ha=M,this.key=++fs,this.da=this.fa=!1}function te(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Be(l){this.src=l,this.g={},this.h=0}Be.prototype.add=function(l,h,_,x,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var Q=Si(l,h,x,M);return-1<Q?(h=l[Q],_||(h.fa=!1)):(h=new bo(h,this.src,j,!!x,M),h.fa=_,l.push(h)),h};function wt(l,h){var _=h.type;if(_ in l.g){var x=l.g[_],M=Array.prototype.indexOf.call(x,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(x,M,1),j&&(te(h),l.g[_].length==0&&(delete l.g[_],l.h--))}}function Si(l,h,_,x){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!_&&j.ha==x)return M}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),ge={};function Ai(l,h,_,x,M){if(x&&x.once)return Zv(l,h,_,x,M);if(Array.isArray(h)){for(var j=0;j<h.length;j++)Ai(l,h[j],_,x,M);return null}return _=wh(_),l&&l[He]?l.K(h,_,c(x)?!!x.capture:!!x,M):$e(l,h,_,!1,x,M)}function $e(l,h,_,x,M,j){if(!h)throw Error("Invalid event type");var Q=c(M)?!!M.capture:!!M,ye=yh(l);if(ye||(l[ps]=ye=new Be(l)),_=ye.add(h,_,x,Q,j),_.proxy)return _;if(x=Dt(),_.proxy=x,x.src=l,x.listener=_,l.addEventListener)me||(M=Q),M===void 0&&(M=!1),l.addEventListener(h.toString(),x,M);else if(l.attachEvent)l.attachEvent(ty(h.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Dt(){function l(_){return h.call(l.src,l.listener,_)}const h=rI;return l}function Zv(l,h,_,x,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Zv(l,h[j],_,x,M);return null}return _=wh(_),l&&l[He]?l.L(h,_,c(x)?!!x.capture:!!x,M):$e(l,h,_,!0,x,M)}function ey(l,h,_,x,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)ey(l,h[j],_,x,M);else x=c(x)?!!x.capture:!!x,_=wh(_),l&&l[He]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],_=Si(j,_,x,M),-1<_&&(te(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=yh(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Si(h,_,x,M)),(_=-1<l?h[l]:null)&&vh(_))}function vh(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[He])wt(h.i,l);else{var _=l.type,x=l.proxy;h.removeEventListener?h.removeEventListener(_,x,l.capture):h.detachEvent?h.detachEvent(ty(_),x):h.addListener&&h.removeListener&&h.removeListener(x),(_=yh(h))?(wt(_,l),_.h==0&&(_.src=null,h[ps]=null)):te(l)}}}function ty(l){return l in ge?ge[l]:ge[l]="on"+l}function rI(l,h){if(l.da)l=!0;else{h=new Ot(h,this);var _=l.listener,x=l.ha||l.src;l.fa&&vh(l),l=_.call(x,h)}return l}function yh(l){return l=l[ps],l instanceof Be?l:null}var _h="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(l){return typeof l=="function"?l:(l[_h]||(l[_h]=function(h){return l.handleEvent(h)}),l[_h])}function at(){K.call(this),this.i=new Be(this),this.M=this,this.F=null}E(at,K),at.prototype[He]=!0,at.prototype.removeEventListener=function(l,h,_,x){ey(this,l,h,_,x)};function Et(l,h){var _,x=l.F;if(x)for(_=[];x;x=x.F)_.push(x);if(l=l.M,x=h.type||h,typeof h=="string")h=new z(h,l);else if(h instanceof z)h.target=h.target||l;else{var M=h;h=new z(x,l),R(h,M)}if(M=!0,_)for(var j=_.length-1;0<=j;j--){var Q=h.g=_[j];M=Yl(Q,x,!0,h)&&M}if(Q=h.g=l,M=Yl(Q,x,!0,h)&&M,M=Yl(Q,x,!1,h)&&M,_)for(j=0;j<_.length;j++)Q=h.g=_[j],M=Yl(Q,x,!1,h)&&M}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var _=l.g[h],x=0;x<_.length;x++)te(_[x]);delete l.g[h],l.h--}}this.F=null},at.prototype.K=function(l,h,_,x){return this.i.add(String(l),h,!1,_,x)},at.prototype.L=function(l,h,_,x){return this.i.add(String(l),h,!0,_,x)};function Yl(l,h,_,x){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var Q=h[j];if(Q&&!Q.da&&Q.capture==_){var ye=Q.listener,et=Q.ha||Q.src;Q.fa&&wt(l.i,Q),M=ye.call(et,x)!==!1&&M}}return M&&!x.defaultPrevented}function ny(l,h,_){if(typeof l=="function")_&&(l=d(l,_));else if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function ry(l){l.g=ny(()=>{l.g=null,l.i&&(l.i=!1,ry(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class iI extends K{constructor(h,_){super(),this.m=h,this.l=_,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ry(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function No(l){K.call(this),this.h=l,this.g={}}E(No,K);var iy=[];function sy(l){D(l.g,function(h,_){this.g.hasOwnProperty(_)&&vh(h)},l),l.g={}}No.prototype.N=function(){No.aa.N.call(this),sy(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eh=a.JSON.stringify,sI=a.JSON.parse,oI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Ch(){}Ch.prototype.h=null;function oy(l){return l.h||(l.h=l.i())}function aI(){}var Po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sh(){z.call(this,"d")}E(Sh,z);function Ah(){z.call(this,"c")}E(Ah,z);var ms={},ay=null;function kh(){return ay=ay||new at}ms.La="serverreachability";function ly(l){z.call(this,ms.La,l)}E(ly,z);function Oo(l){const h=kh();Et(h,new ly(h))}ms.STAT_EVENT="statevent";function uy(l,h){z.call(this,ms.STAT_EVENT,l),this.stat=h}E(uy,z);function Ct(l){const h=kh();Et(h,new uy(h,l))}ms.Ma="timingevent";function cy(l,h){z.call(this,ms.Ma,l),this.size=h}E(cy,z);function Do(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function lI(l,h,_,x,M,j){l.info(function(){if(l.g)if(j)for(var Q="",ye=j.split("&"),et=0;et<ye.length;et++){var ue=ye[et].split("=");if(1<ue.length){var lt=ue[0];ue=ue[1];var ut=lt.split("_");Q=2<=ut.length&&ut[1]=="type"?Q+(lt+"="+ue+"&"):Q+(lt+"=redacted&")}}else Q=null;else Q=j;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+h+`
`+_+`
`+Q})}function uI(l,h,_,x,M,j,Q){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+h+`
`+_+`
`+j+" "+Q})}function gs(l,h,_,x){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+dI(l,_)+(x?" "+x:"")})}function cI(l,h){l.info(function(){return"TIMEOUT: "+h})}Lo.prototype.info=function(){};function dI(l,h){if(!l.g)return h;if(!h)return null;try{var _=JSON.parse(h);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var x=_[l];if(!(2>x.length)){var M=x[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Q=1;Q<M.length;Q++)M[Q]=""}}}}return Eh(_)}catch{return h}}var Ih={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Th;function Xl(){}E(Xl,Ch),Xl.prototype.g=function(){return new XMLHttpRequest},Xl.prototype.i=function(){return{}},Th=new Xl;function kr(l,h,_,x){this.j=l,this.i=h,this.l=_,this.R=x||1,this.U=new No(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dy}function dy(){this.i=null,this.g="",this.h=!1}var hy={},Rh={};function xh(l,h,_){l.L=1,l.v=tu(nr(h)),l.m=_,l.P=!0,fy(l,null)}function fy(l,h){l.F=Date.now(),Jl(l),l.A=nr(l.v);var _=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),Ty(_.i,"t",x),l.C=0,_=l.j.J,l.h=new dy,l.g=Hy(l.j,_?h:null,!l.m),0<l.O&&(l.M=new iI(d(l.Y,l,l.g),l.O)),h=l.U,_=l.g,x=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(iy[0]=M.toString()),M=iy);for(var j=0;j<M.length;j++){var Q=Ai(_,M[j],x||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Oo(),lI(l.i,l.u,l.A,l.l,l.R,l.m)}kr.prototype.ca=function(l){l=l.target;const h=this.M;h&&rr(l)==3?h.j():this.Y(l)},kr.prototype.Y=function(l){try{if(l==this.g)e:{const ut=rr(this.g);var h=this.g.Ba();const _s=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Dy(this.g)))){this.J||ut!=4||h==7||(h==8||0>=_s?Oo(3):Oo(2)),bh(this);var _=this.g.Z();this.X=_;t:if(py(this)){var x=Dy(this.g);l="";var M=x.length,j=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),Mo(this);var Q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(x[h],{stream:!(j&&h==M-1)});x.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,uI(this.i,this.u,this.A,this.l,this.R,ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,et=this.g;if((ye=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ye)){var ue=ye;break t}}ue=null}if(_=ue)gs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nh(this,_);else{this.o=!1,this.s=3,Ct(12),ki(this),Mo(this);break e}}if(this.P){_=!0;let An;for(;!this.J&&this.C<Q.length;)if(An=fI(this,Q),An==Rh){ut==4&&(this.s=4,Ct(14),_=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(An==hy){this.s=4,Ct(15),gs(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else gs(this.i,this.l,An,null),Nh(this,An);if(py(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||Q.length!=0||this.h.h||(this.s=1,Ct(16),_=!1),this.o=this.o&&_,!_)gs(this.i,this.l,Q,"[Invalid Chunked Response]"),ki(this),Mo(this);else if(0<Q.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),jh(lt),lt.M=!0,Ct(11))}}else gs(this.i,this.l,Q,null),Nh(this,Q);ut==4&&ki(this),this.o&&!this.J&&(ut==4?Vy(this.j,this):(this.o=!1,Jl(this)))}else bI(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),ki(this),Mo(this)}}}catch{}finally{}};function py(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fI(l,h){var _=l.C,x=h.indexOf(`
`,_);return x==-1?Rh:(_=Number(h.substring(_,x)),isNaN(_)?hy:(x+=1,x+_>h.length?Rh:(h=h.slice(x,x+_),l.C=x+_,h)))}kr.prototype.cancel=function(){this.J=!0,ki(this)};function Jl(l){l.S=Date.now()+l.I,my(l,l.I)}function my(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Do(d(l.ba,l),h)}function bh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}kr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(cI(this.i,this.A),this.L!=2&&(Oo(),Ct(17)),ki(this),this.s=2,Mo(this)):my(this,this.S-l)};function Mo(l){l.j.G==0||l.J||Vy(l.j,l)}function ki(l){bh(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,sy(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Nh(l,h){try{var _=l.j;if(_.G!=0&&(_.g==l||Ph(_.h,l))){if(!l.K&&Ph(_.h,l)&&_.G==3){try{var x=_.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)au(_),su(_);else break e;Mh(_),Ct(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&_.v==0&&!_.C&&(_.C=Do(d(_.Za,_),6e3));if(1>=yy(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ti(_,11)}else if((l.K||_.g==l)&&au(_),!y(h))for(M=_.Da.g.parse(h),h=0;h<M.length;h++){let ue=M[h];if(_.T=ue[0],ue=ue[1],_.G==2)if(ue[0]=="c"){_.K=ue[1],_.ia=ue[2];const lt=ue[3];lt!=null&&(_.la=lt,_.j.info("VER="+_.la));const ut=ue[4];ut!=null&&(_.Aa=ut,_.j.info("SVER="+_.Aa));const _s=ue[5];_s!=null&&typeof _s=="number"&&0<_s&&(x=1.5*_s,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const An=l.g;if(An){const lu=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var j=x.h;j.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Oh(j,j.h),j.h=null))}if(x.D){const Fh=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Fh&&(x.ya=Fh,Ae(x.I,x.D,Fh))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var Q=l;if(x.qa=Qy(x,x.J?x.ia:null,x.W),Q.K){_y(x.h,Q);var ye=Q,et=x.L;et&&(ye.I=et),ye.B&&(bh(ye),Jl(ye)),x.g=Q}else Uy(x);0<_.i.length&&ou(_)}else ue[0]!="stop"&&ue[0]!="close"||Ti(_,7);else _.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ti(_,7):Lh(_):ue[0]!="noop"&&_.l&&_.l.ta(ue),_.v=0)}}Oo(4)}catch{}}var pI=class{constructor(l,h){this.g=l,this.map=h}};function gy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function yy(l){return l.h?1:l.g?l.g.size:0}function Ph(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Oh(l,h){l.g?l.g.add(h):l.h=h}function _y(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}gy.prototype.cancel=function(){if(this.i=wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const _ of l.g.values())h=h.concat(_.D);return h}return k(l.i)}function mI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],_=l.length,x=0;x<_;x++)h.push(l[x]);return h}h=[],_=0;for(x in l)h[_++]=l[x];return h}function gI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var _=0;_<l;_++)h.push(_);return h}h=[],_=0;for(const x in l)h[_++]=x;return h}}}function Ey(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var _=gI(l),x=mI(l),M=x.length,j=0;j<M;j++)h.call(void 0,x[j],_&&_[j],l)}var Cy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vI(l,h){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var x=l[_].indexOf("="),M=null;if(0<=x){var j=l[_].substring(0,x);M=l[_].substring(x+1)}else j=l[_];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ii(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ii){this.h=l.h,Zl(this,l.j),this.o=l.o,this.g=l.g,eu(this,l.s),this.l=l.l;var h=l.i,_=new Uo;_.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),Sy(this,_),this.m=l.m}else l&&(h=String(l).match(Cy))?(this.h=!1,Zl(this,h[1]||"",!0),this.o=jo(h[2]||""),this.g=jo(h[3]||"",!0),eu(this,h[4]),this.l=jo(h[5]||"",!0),Sy(this,h[6]||"",!0),this.m=jo(h[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}Ii.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Fo(h,Ay,!0),":");var _=this.g;return(_||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Fo(h,Ay,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Fo(_,_.charAt(0)=="/"?wI:_I,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Fo(_,CI)),l.join("")};function nr(l){return new Ii(l)}function Zl(l,h,_){l.j=_?jo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function eu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Sy(l,h,_){h instanceof Uo?(l.i=h,SI(l.i,l.h)):(_||(h=Fo(h,EI)),l.i=new Uo(h,l.h))}function Ae(l,h,_){l.i.set(h,_)}function tu(l){return Ae(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function jo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fo(l,h,_){return typeof l=="string"?(l=encodeURI(l).replace(h,yI),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function yI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ay=/[#\/\?@]/g,_I=/[#\?:]/g,wI=/[#\?]/g,EI=/[#\?@]/g,CI=/#/g;function Uo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Ir(l){l.g||(l.g=new Map,l.h=0,l.i&&vI(l.i,function(h,_){l.add(decodeURIComponent(h.replace(/\+/g," ")),_)}))}t=Uo.prototype,t.add=function(l,h){Ir(this),this.i=null,l=vs(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(h),this.h+=1,this};function ky(l,h){Ir(l),h=vs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Iy(l,h){return Ir(l),h=vs(l,h),l.g.has(h)}t.forEach=function(l,h){Ir(this),this.g.forEach(function(_,x){_.forEach(function(M){l.call(h,M,x,this)},this)},this)},t.na=function(){Ir(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),_=[];for(let x=0;x<h.length;x++){const M=l[x];for(let j=0;j<M.length;j++)_.push(h[x])}return _},t.V=function(l){Ir(this);let h=[];if(typeof l=="string")Iy(this,l)&&(h=h.concat(this.g.get(vs(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)h=h.concat(l[_])}return h},t.set=function(l,h){return Ir(this),this.i=null,l=vs(this,l),Iy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Ty(l,h,_){ky(l,h),0<_.length&&(l.i=null,l.g.set(vs(l,h),k(_)),l.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var _=0;_<h.length;_++){var x=h[_];const j=encodeURIComponent(String(x)),Q=this.V(x);for(x=0;x<Q.length;x++){var M=j;Q[x]!==""&&(M+="="+encodeURIComponent(String(Q[x]))),l.push(M)}}return this.i=l.join("&")};function vs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function SI(l,h){h&&!l.j&&(Ir(l),l.i=null,l.g.forEach(function(_,x){var M=x.toLowerCase();x!=M&&(ky(this,x),Ty(this,M,_))},l)),l.j=h}function AI(l,h){const _=new Lo;if(a.Image){const x=new Image;x.onload=v(Tr,_,"TestLoadImage: loaded",!0,h,x),x.onerror=v(Tr,_,"TestLoadImage: error",!1,h,x),x.onabort=v(Tr,_,"TestLoadImage: abort",!1,h,x),x.ontimeout=v(Tr,_,"TestLoadImage: timeout",!1,h,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else h(!1)}function kI(l,h){const _=new Lo,x=new AbortController,M=setTimeout(()=>{x.abort(),Tr(_,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:x.signal}).then(j=>{clearTimeout(M),j.ok?Tr(_,"TestPingServer: ok",!0,h):Tr(_,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Tr(_,"TestPingServer: error",!1,h)})}function Tr(l,h,_,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(_)}catch{}}function II(){this.g=new oI}function TI(l,h,_){const x=_||"";try{Ey(l,function(M,j){let Q=M;c(M)&&(Q=Eh(M)),h.push(x+j+"="+encodeURIComponent(Q))})}catch(M){throw h.push(x+"type="+encodeURIComponent("_badmap")),M}}function nu(l){this.l=l.Ub||null,this.j=l.eb||!1}E(nu,Ch),nu.prototype.g=function(){return new ru(this.l,this.j)},nu.prototype.i=function(l){return function(){return l}}({});function ru(l,h){at.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ru,at),t=ru.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Vo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Vo(this)),this.g&&(this.readyState=3,Vo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ry(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ry(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Bo(this):Vo(this),this.readyState==3&&Ry(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Bo(this))},t.Qa=function(l){this.g&&(this.response=l,Bo(this))},t.ga=function(){this.g&&Bo(this)};function Bo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Vo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var _=h.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=h.next();return l.join(`\r
`)};function Vo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function xy(l){let h="";return D(l,function(_,x){h+=x,h+=":",h+=_,h+=`\r
`}),h}function Dh(l,h,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=xy(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Ae(l,h,_))}function je(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(je,at);var RI=/^https?$/i,xI=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Th.g(),this.v=this.o?oy(this.o):oy(Th),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){by(this,j);return}if(l=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)_.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const j of x.keys())_.set(j,x.get(j));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xI,h,void 0))||x||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Q]of _)this.g.setRequestHeader(j,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){by(this,j)}};function by(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Ny(l),iu(l)}function Ny(l){l.A||(l.A=!0,Et(l,"complete"),Et(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Et(this,"complete"),Et(this,"abort"),iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),iu(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Py(this):this.bb())},t.bb=function(){Py(this)};function Py(l){if(l.h&&typeof o<"u"&&(!l.v[1]||rr(l)!=4||l.Z()!=2)){if(l.u&&rr(l)==4)ny(l.Ea,0,l);else if(Et(l,"readystatechange"),rr(l)==4){l.h=!1;try{const Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var _;if(!(_=h)){var x;if(x=Q===0){var M=String(l.D).match(Cy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),x=!RI.test(M?M.toLowerCase():"")}_=x}if(_)Et(l,"complete"),Et(l,"success");else{l.m=6;try{var j=2<rr(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Ny(l)}}finally{iu(l)}}}}function iu(l,h){if(l.g){Oy(l);const _=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Et(l,"ready");try{_.onreadystatechange=x}catch{}}}function Oy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function rr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),sI(h)}};function Dy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function bI(l){const h={};l=(l.g&&2<=rr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(y(l[x]))continue;var _=P(l[x]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=h[M]||[];h[M]=j,j.push(_)}S(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(l,h,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||h}function Ly(l){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,l),this.cb=zo("retryDelaySeedMs",1e4,l),this.Wa=zo("forwardChannelMaxRetries",2,l),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new gy(l&&l.concurrentRequestLimit),this.Da=new II,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ly.prototype,t.la=8,t.G=1,t.connect=function(l,h,_,x){Ct(0),this.W=l,this.H=h||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Qy(this,null,this.W),ou(this)};function Lh(l){if(My(l),l.G==3){var h=l.U++,_=nr(l.I);if(Ae(_,"SID",l.K),Ae(_,"RID",h),Ae(_,"TYPE","terminate"),Wo(l,_),h=new kr(l,l.j,h),h.L=2,h.v=tu(nr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=h.v,_=!0),_||(h.g=Hy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Jl(h)}Wy(l)}function su(l){l.g&&(jh(l),l.g.cancel(),l.g=null)}function My(l){su(l),l.u&&(a.clearTimeout(l.u),l.u=null),au(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ou(l){if(!vy(l.h)&&!l.s){l.s=!0;var h=l.Ga;ee||V(),F||(ee(),F=!0),W.add(h,l),l.B=0}}function NI(l,h){return yy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Do(d(l.Ga,l,h),zy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new kr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=w(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=_;break e}if(h===4096||_===this.i.length-1){h=_+1;break e}}h=1e3}else h=1e3;h=Fy(this,M,h),_=nr(this.I),Ae(_,"RID",l),Ae(_,"CVER",22),this.D&&Ae(_,"X-HTTP-Session-Id",this.D),Wo(this,_),j&&(this.O?h="headers="+encodeURIComponent(String(xy(j)))+"&"+h:this.m&&Dh(_,this.m,j)),Oh(this.h,M),this.Ua&&Ae(_,"TYPE","init"),this.P?(Ae(_,"$req",h),Ae(_,"SID","null"),M.T=!0,xh(M,_,null)):xh(M,_,h),this.G=2}}else this.G==3&&(l?jy(this,l):this.i.length==0||vy(this.h)||jy(this))};function jy(l,h){var _;h?_=h.l:_=l.U++;const x=nr(l.I);Ae(x,"SID",l.K),Ae(x,"RID",_),Ae(x,"AID",l.T),Wo(l,x),l.m&&l.o&&Dh(x,l.m,l.o),_=new kr(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Fy(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Oh(l.h,_),xh(_,x,h)}function Wo(l,h){l.H&&D(l.H,function(_,x){Ae(h,x,_)}),l.l&&Ey({},function(_,x){Ae(h,x,_)})}function Fy(l,h,_){_=Math.min(l.i.length,_);var x=l.l?d(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const Q=["count="+_];j==-1?0<_?(j=M[0].g,Q.push("ofs="+j)):j=0:Q.push("ofs="+j);let ye=!0;for(let et=0;et<_;et++){let ue=M[et].g;const lt=M[et].map;if(ue-=j,0>ue)j=Math.max(0,M[et].g-100),ye=!1;else try{TI(lt,Q,"req"+ue+"_")}catch{x&&x(lt)}}if(ye){x=Q.join("&");break e}}}return l=l.i.splice(0,_),h.D=l,x}function Uy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ee||V(),F||(ee(),F=!0),W.add(h,l),l.v=0}}function Mh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Do(d(l.Fa,l),zy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,By(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Do(d(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),su(this),By(this))};function jh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function By(l){l.g=new kr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=nr(l.qa);Ae(h,"RID","rpc"),Ae(h,"SID",l.K),Ae(h,"AID",l.T),Ae(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ae(h,"TO",l.ja),Ae(h,"TYPE","xmlhttp"),Wo(l,h),l.m&&l.o&&Dh(h,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=tu(nr(h)),_.m=null,_.P=!0,fy(_,l)}t.Za=function(){this.C!=null&&(this.C=null,su(this),Mh(this),Ct(19))};function au(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Vy(l,h){var _=null;if(l.g==h){au(l),jh(l),l.g=null;var x=2}else if(Ph(l.h,h))_=h.D,_y(l.h,h),x=1;else return;if(l.G!=0){if(h.o)if(x==1){_=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;x=kh(),Et(x,new cy(x,_)),ou(l)}else Uy(l);else if(M=h.s,M==3||M==0&&0<h.X||!(x==1&&NI(l,h)||x==2&&Mh(l)))switch(_&&0<_.length&&(h=l.h,h.i=h.i.concat(_)),M){case 1:Ti(l,5);break;case 4:Ti(l,10);break;case 3:Ti(l,6);break;default:Ti(l,2)}}}function zy(l,h){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*h}function Ti(l,h){if(l.j.info("Error code "+h),h==2){var _=d(l.fb,l),x=l.Xa;const M=!x;x=new Ii(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zl(x,"https"),tu(x),M?AI(x.toString(),_):kI(x.toString(),_)}else Ct(2);l.G=0,l.l&&l.l.sa(h),Wy(l),My(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Wy(l){if(l.G=0,l.ka=[],l.l){const h=wy(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ka,h),T(l.ka,l.i),l.h.i.length=0,k(l.i),l.i.length=0),l.l.ra()}}function Qy(l,h,_){var x=_ instanceof Ii?nr(_):new Ii(_);if(x.g!="")h&&(x.g=h+"."+x.g),eu(x,x.s);else{var M=a.location;x=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new Ii(null);x&&Zl(j,x),h&&(j.g=h),M&&eu(j,M),_&&(j.l=_),x=j}return _=l.D,h=l.ya,_&&h&&Ae(x,_,h),Ae(x,"VER",l.la),Wo(l,x),x}function Hy(l,h,_){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new je(new nu({eb:_})):new je(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $y(){}t=$y.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cn(l,h){at.call(this),this.g=new Ly(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!y(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ys(this)}E(cn,at),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Lh(this.g)},cn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=Eh(l),l=_);h.i.push(new pI(h.Ya++,l)),h.G==3&&ou(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,Lh(this.g),delete this.g,cn.aa.N.call(this)};function qy(l){Sh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const _ in h){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(qy,Sh);function Ky(){Ah.call(this),this.status=1}E(Ky,Ah);function ys(l){this.g=l}E(ys,$y),ys.prototype.ua=function(){Et(this.g,"a")},ys.prototype.ta=function(l){Et(this.g,new qy(l))},ys.prototype.sa=function(l){Et(this.g,new Ky)},ys.prototype.ra=function(){Et(this.g,"b")},cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ih.NO_ERROR=0,Ih.TIMEOUT=8,Ih.HTTP_ERROR=6,hI.COMPLETE="complete",aI.EventType=Po,Po.OPEN="a",Po.CLOSE="b",Po.ERROR="c",Po.MESSAGE="d",at.prototype.listen=at.prototype.K,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const Cw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new So("@firebase/firestore");function Zt(t,...e){if(md.logLevel<=de.DEBUG){const n=e.map(X2);md.debug(`Firestore (${gh}): ${t}`,...n)}}function Xv(t,...e){if(md.logLevel<=de.ERROR){const n=e.map(X2);md.error(`Firestore (${gh}): ${t}`,...n)}}function X2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t="Unexpected state"){const e=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: `+t;throw Xv(e),new Error(e)}function Nm(t,e){t||J2()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gt extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class NF{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nm(typeof r.accessToken=="string"),new xF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nm(e===null||typeof e=="string"),new Lt(e)}}class PF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Zt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nm(typeof n.token=="string"),this.R=n.token,new DF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Z2(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class gd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sw,ae;(ae=Sw||(Sw={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Y2([4294967295,4294967295],0);function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Zt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Jv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Gt(Kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BF(t,e){if(Xv("AsyncQueue",`${e}: ${t}`),Z2(t))return new Gt(Kt.UNAVAILABLE,`${e}: ${t}`);throw t}var Aw,kw;(kw=Aw||(Aw={})).J_="default",kw.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=jF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Zt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Zt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gt(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=BF(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Map;function zF(t,e,n,r){if(e===!0&&r===!0)throw new Gt(Kt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Gt(Kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Gt(Kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Gt(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Gt(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Gt(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WF{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Gt(Kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Gt(Kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bF;switch(r.type){case"firstParty":return new OF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Gt(Kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Iw.get(n);r&&(Zt("ComponentProvider","Removing Datastore"),Iw.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new UF(this,"async_queue_retry"),this.hu=()=>{const n=Wf();n&&Zt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Wf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Xs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Z2(e))throw e;Zt("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xv("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Jv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&J2()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class HF extends WF{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new QF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$F(this),this._firestoreClient.terminate()}}function $F(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,p){return new FF(a,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eI(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new VF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(e,n=!0){(function(i){gh=i})(tr),Jn(new sn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new HF(new NF(r.getProvider("auth-internal")),new LF(r.getProvider("app-check-internal")),function(c,p){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Gt(Kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(c.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mt(Cw,"4.6.3",e),mt(Cw,"4.6.3","esm2017")})();const tI=lN({reducer:{[Gu.reducerPath]:Gu.reducer,[ic.reducerPath]:ic.reducer,[rc.reducerPath]:rc.reducer,user:T3,userPhoto:k5,userKey:cj,userArtists:dj,playlists:uj,search:pP,likes:Z5,artist:vP,album:SP},middleware:t=>t().concat(Gu.middleware,rc.middleware,ic.middleware)});UN(tI.dispatch);Pl(sv);const nI=E5(Pl(sv));Hf.createRoot(document.getElementById("root")).render(m.jsx(rj,{client:new ZM,children:m.jsx(Ab,{store:tI,children:m.jsx(IF,{})})}));export{KF as c,Rw as g};
